var Engagespot=(()=>{var c1=Object.create;var Ko=Object.defineProperty;var d1=Object.getOwnPropertyDescriptor;var p1=Object.getOwnPropertyNames,yp=Object.getOwnPropertySymbols,h1=Object.getPrototypeOf,wp=Object.prototype.hasOwnProperty,m1=Object.prototype.propertyIsEnumerable;var Sp=(e,t,n)=>t in e?Ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xp=(e,t)=>{for(var n in t||(t={}))wp.call(t,n)&&Sp(e,n,t[n]);if(yp)for(var n of yp(t))m1.call(t,n)&&Sp(e,n,t[n]);return e};var g1=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ze=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),v1=(e,t)=>{for(var n in t)Ko(e,n,{get:t[n],enumerable:!0})},Ep=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of p1(t))!wp.call(e,o)&&o!==n&&Ko(e,o,{get:()=>t[o],enumerable:!(r=d1(t,o))||r.enumerable});return e};var ue=(e,t,n)=>(n=e!=null?c1(h1(e)):{},Ep(t||!e||!e.__esModule?Ko(n,"default",{value:e,enumerable:!0}):n,e)),y1=e=>Ep(Ko({},"__esModule",{value:!0}),e);var il=Ze((iA,Op)=>{"use strict";N();var Cp=Object.getOwnPropertySymbols,S1=Object.prototype.hasOwnProperty,w1=Object.prototype.propertyIsEnumerable;function x1(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function E1(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Op.exports=E1()?Object.assign:function(e,t){for(var n,r=x1(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)S1.call(n,a)&&(r[a]=n[a]);if(Cp){o=Cp(n);for(var u=0;u<o.length;u++)w1.call(n,o[u])&&(r[o[u]]=n[o[u]])}}return r}});var jp=Ze(ye=>{"use strict";N();var sl=il(),$r=60103,Pp=60106;ye.Fragment=60107;ye.StrictMode=60108;ye.Profiler=60114;var Ap=60109,Ip=60110,Mp=60112;ye.Suspense=60113;var bp=60115,Dp=60116;typeof Symbol=="function"&&Symbol.for&&(Et=Symbol.for,$r=Et("react.element"),Pp=Et("react.portal"),ye.Fragment=Et("react.fragment"),ye.StrictMode=Et("react.strict_mode"),ye.Profiler=Et("react.profiler"),Ap=Et("react.provider"),Ip=Et("react.context"),Mp=Et("react.forward_ref"),ye.Suspense=Et("react.suspense"),bp=Et("react.memo"),Dp=Et("react.lazy"));var Et,Tp=typeof Symbol=="function"&&Symbol.iterator;function C1(e){return e===null||typeof e!="object"?null:(e=Tp&&e[Tp]||e["@@iterator"],typeof e=="function"?e:null)}function Qo(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Np={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=Np,this.updater=n||kp}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Qo(85));this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _p(){}_p.prototype=Vr.prototype;function ul(e,t,n){this.props=e,this.context=t,this.refs=Np,this.updater=n||kp}var ll=ul.prototype=new _p;ll.constructor=ul;sl(ll,Vr.prototype);ll.isPureReactComponent=!0;var fl={current:null},Lp=Object.prototype.hasOwnProperty,Up={key:!0,ref:!0,__self:!0,__source:!0};function Bp(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Lp.call(t,r)&&!Up.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var d=Array(u),S=0;S<u;S++)d[S]=arguments[S+2];o.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:$r,type:e,key:i,ref:a,props:o,_owner:fl.current}}function O1(e,t){return{$$typeof:$r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cl(e){return typeof e=="object"&&e!==null&&e.$$typeof===$r}function T1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rp=/\/+/g;function al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T1(""+e.key):t.toString(36)}function Da(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case $r:case Pp:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+al(a,0):r,Array.isArray(o)?(n="",e!=null&&(n=e.replace(Rp,"$&/")+"/"),Da(o,t,n,"",function(S){return S})):o!=null&&(cl(o)&&(o=O1(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Rp,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){i=e[u];var d=r+al(i,u);a+=Da(i,t,n,d,o)}else if(d=C1(e),typeof d=="function")for(e=d.call(e),u=0;!(i=e.next()).done;)i=i.value,d=r+al(i,u++),a+=Da(i,t,n,d,o);else if(i==="object")throw t=""+e,Error(Qo(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function ba(e,t,n){if(e==null)return e;var r=[],o=0;return Da(e,r,"","",function(i){return t.call(n,i,o++)}),r}function R1(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var Fp={current:null};function nn(){var e=Fp.current;if(e===null)throw Error(Qo(321));return e}var P1={ReactCurrentDispatcher:Fp,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:fl,IsSomeRendererActing:{current:!1},assign:sl};ye.Children={map:ba,forEach:function(e,t,n){ba(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ba(e,function(){t++}),t},toArray:function(e){return ba(e,function(t){return t})||[]},only:function(e){if(!cl(e))throw Error(Qo(143));return e}};ye.Component=Vr;ye.PureComponent=ul;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P1;ye.cloneElement=function(e,t,n){if(e==null)throw Error(Qo(267,e));var r=sl({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=fl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Lp.call(t,d)&&!Up.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var S=0;S<d;S++)u[S]=arguments[S+2];r.children=u}return{$$typeof:$r,type:e.type,key:o,ref:i,props:r,_owner:a}};ye.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:Ip,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Ap,_context:e},e.Consumer=e};ye.createElement=Bp;ye.createFactory=function(e){var t=Bp.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:Mp,render:e}};ye.isValidElement=cl;ye.lazy=function(e){return{$$typeof:Dp,_payload:{_status:-1,_result:e},_init:R1}};ye.memo=function(e,t){return{$$typeof:bp,type:e,compare:t===void 0?null:t}};ye.useCallback=function(e,t){return nn().useCallback(e,t)};ye.useContext=function(e,t){return nn().useContext(e,t)};ye.useDebugValue=function(){};ye.useEffect=function(e,t){return nn().useEffect(e,t)};ye.useImperativeHandle=function(e,t,n){return nn().useImperativeHandle(e,t,n)};ye.useLayoutEffect=function(e,t){return nn().useLayoutEffect(e,t)};ye.useMemo=function(e,t){return nn().useMemo(e,t)};ye.useReducer=function(e,t,n){return nn().useReducer(e,t,n)};ye.useRef=function(e){return nn().useRef(e)};ye.useState=function(e){return nn().useState(e)};ye.version="17.0.2"});var de=Ze((sA,Wp)=>{"use strict";N();Wp.exports=jp()});var V,N=g1(()=>{V=ue(de())});var Yp=Ze(Ee=>{"use strict";N();var Kr,Jo,La,yl;typeof performance=="object"&&typeof performance.now=="function"?(Hp=performance,Ee.unstable_now=function(){return Hp.now()}):(dl=Date,zp=dl.now(),Ee.unstable_now=function(){return dl.now()-zp});var Hp,dl,zp;typeof window>"u"||typeof MessageChannel!="function"?(Yr=null,pl=null,hl=function(){if(Yr!==null)try{var e=Ee.unstable_now();Yr(!0,e),Yr=null}catch(t){throw setTimeout(hl,0),t}},Kr=function(e){Yr!==null?setTimeout(Kr,0,e):(Yr=e,setTimeout(hl,0))},Jo=function(e,t){pl=setTimeout(e,t)},La=function(){clearTimeout(pl)},Ee.unstable_shouldYield=function(){return!1},yl=Ee.unstable_forceFrameRate=function(){}):(Gp=window.setTimeout,$p=window.clearTimeout,typeof console<"u"&&(Vp=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Vp!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Xo=!1,qo=null,ka=-1,ml=5,gl=0,Ee.unstable_shouldYield=function(){return Ee.unstable_now()>=gl},yl=function(){},Ee.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ml=0<e?Math.floor(1e3/e):5},vl=new MessageChannel,Na=vl.port2,vl.port1.onmessage=function(){if(qo!==null){var e=Ee.unstable_now();gl=e+ml;try{qo(!0,e)?Na.postMessage(null):(Xo=!1,qo=null)}catch(t){throw Na.postMessage(null),t}}else Xo=!1},Kr=function(e){qo=e,Xo||(Xo=!0,Na.postMessage(null))},Jo=function(e,t){ka=Gp(function(){e(Ee.unstable_now())},t)},La=function(){$p(ka),ka=-1});var Yr,pl,hl,Gp,$p,Vp,Xo,qo,ka,ml,gl,vl,Na;function Sl(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(o!==void 0&&0<_a(o,t))e[r]=t,e[n]=o,n=r;else break e}}function Lt(e){return e=e[0],e===void 0?null:e}function Ua(e){var t=e[0];if(t!==void 0){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],u=i+1,d=e[u];if(a!==void 0&&0>_a(a,n))d!==void 0&&0>_a(d,a)?(e[r]=d,e[u]=n,r=u):(e[r]=a,e[i]=n,r=i);else if(d!==void 0&&0>_a(d,n))e[r]=d,e[u]=n,r=u;else break e}}return t}return null}function _a(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}var Yt=[],On=[],A1=1,Ct=null,ot=3,Ba=!1,rr=!1,Zo=!1;function wl(e){for(var t=Lt(On);t!==null;){if(t.callback===null)Ua(On);else if(t.startTime<=e)Ua(On),t.sortIndex=t.expirationTime,Sl(Yt,t);else break;t=Lt(On)}}function xl(e){if(Zo=!1,wl(e),!rr)if(Lt(Yt)!==null)rr=!0,Kr(El);else{var t=Lt(On);t!==null&&Jo(xl,t.startTime-e)}}function El(e,t){rr=!1,Zo&&(Zo=!1,La()),Ba=!0;var n=ot;try{for(wl(t),Ct=Lt(Yt);Ct!==null&&(!(Ct.expirationTime>t)||e&&!Ee.unstable_shouldYield());){var r=Ct.callback;if(typeof r=="function"){Ct.callback=null,ot=Ct.priorityLevel;var o=r(Ct.expirationTime<=t);t=Ee.unstable_now(),typeof o=="function"?Ct.callback=o:Ct===Lt(Yt)&&Ua(Yt),wl(t)}else Ua(Yt);Ct=Lt(Yt)}if(Ct!==null)var i=!0;else{var a=Lt(On);a!==null&&Jo(xl,a.startTime-t),i=!1}return i}finally{Ct=null,ot=n,Ba=!1}}var I1=yl;Ee.unstable_IdlePriority=5;Ee.unstable_ImmediatePriority=1;Ee.unstable_LowPriority=4;Ee.unstable_NormalPriority=3;Ee.unstable_Profiling=null;Ee.unstable_UserBlockingPriority=2;Ee.unstable_cancelCallback=function(e){e.callback=null};Ee.unstable_continueExecution=function(){rr||Ba||(rr=!0,Kr(El))};Ee.unstable_getCurrentPriorityLevel=function(){return ot};Ee.unstable_getFirstCallbackNode=function(){return Lt(Yt)};Ee.unstable_next=function(e){switch(ot){case 1:case 2:case 3:var t=3;break;default:t=ot}var n=ot;ot=t;try{return e()}finally{ot=n}};Ee.unstable_pauseExecution=function(){};Ee.unstable_requestPaint=I1;Ee.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=ot;ot=e;try{return t()}finally{ot=n}};Ee.unstable_scheduleCallback=function(e,t,n){var r=Ee.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:A1++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>r?(e.sortIndex=n,Sl(On,e),Lt(Yt)===null&&e===Lt(On)&&(Zo?La():Zo=!0,Jo(xl,n-r))):(e.sortIndex=o,Sl(Yt,e),rr||Ba||(rr=!0,Kr(El))),e};Ee.unstable_wrapCallback=function(e){var t=ot;return function(){var n=ot;ot=t;try{return e.apply(this,arguments)}finally{ot=n}}}});var Qp=Ze((fA,Kp)=>{"use strict";N();Kp.exports=Yp()});var _g=Ze(It=>{"use strict";N();var bs=de(),De=il(),Ke=Qp();function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!bs)throw Error(J(227));var um=new Set,Ii={};function hr(e,t){go(e,t),go(e+"Capture",t)}function go(e,t){for(Ii[e]=t,e=0;e<t.length;e++)um.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xp=Object.prototype.hasOwnProperty,qp={},Jp={};function b1(e){return Xp.call(Jp,e)?!0:Xp.call(qp,e)?!1:M1.test(e)?Jp[e]=!0:(qp[e]=!0,!1)}function D1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k1(e,t,n,r){if(t===null||typeof t>"u"||D1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Df=/[\-:]([a-z])/g;function kf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Df,kf);nt[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Df,kf);nt[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Df,kf);nt[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nf(e,t,n,r){var o=nt.hasOwnProperty(t)?nt[t]:null,i=o!==null?o.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");i||(k1(t,n,o,r)&&(n=null),r||o===null?b1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mr=bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,di=60103,ir=60106,Rn=60107,_f=60108,vi=60114,Lf=60109,Uf=60110,Ds=60112,yi=60113,us=60120,ks=60115,Bf=60116,Ff=60121,jf=60128,lm=60129,Wf=60130,$l=60131;typeof Symbol=="function"&&Symbol.for&&(Ge=Symbol.for,di=Ge("react.element"),ir=Ge("react.portal"),Rn=Ge("react.fragment"),_f=Ge("react.strict_mode"),vi=Ge("react.profiler"),Lf=Ge("react.provider"),Uf=Ge("react.context"),Ds=Ge("react.forward_ref"),yi=Ge("react.suspense"),us=Ge("react.suspense_list"),ks=Ge("react.memo"),Bf=Ge("react.lazy"),Ff=Ge("react.block"),Ge("react.scope"),jf=Ge("react.opaque.id"),lm=Ge("react.debug_trace_mode"),Wf=Ge("react.offscreen"),$l=Ge("react.legacy_hidden"));var Ge,Zp=typeof Symbol=="function"&&Symbol.iterator;function ei(e){return e===null||typeof e!="object"?null:(e=Zp&&e[Zp]||e["@@iterator"],typeof e=="function"?e:null)}var Cl;function pi(e){if(Cl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cl=t&&t[1]||""}return`
`+Cl+e}var Ol=!1;function Fa(e,t){if(!e||Ol)return"";Ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,u=i.length-1;1<=a&&0<=u&&o[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(o[a]!==i[u]){if(a!==1||u!==1)do if(a--,u--,0>u||o[a]!==i[u])return`
`+o[a].replace(" at new "," at ");while(1<=a&&0<=u);break}}}finally{Ol=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pi(e):""}function N1(e){switch(e.tag){case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 2:case 15:return e=Fa(e.type,!1),e;case 11:return e=Fa(e.type.render,!1),e;case 22:return e=Fa(e.type._render,!1),e;case 1:return e=Fa(e.type,!0),e;default:return""}}function io(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rn:return"Fragment";case ir:return"Portal";case vi:return"Profiler";case _f:return"StrictMode";case yi:return"Suspense";case us:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uf:return(e.displayName||"Context")+".Consumer";case Lf:return(e._context.displayName||"Context")+".Provider";case Ds:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case ks:return io(e.type);case Ff:return io(e._render);case Bf:t=e._payload,e=e._init;try{return io(e(t))}catch{}}return null}function Bn(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function fm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _1(e){var t=fm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=_1(e))}function cm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vl(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dm(e,t){t=t.checked,t!=null&&Nf(e,"checked",t,!1)}function Yl(e,t){dm(e,t);var n=Bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kl(e,t.type,Bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function th(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kl(e,t,n){(t!=="number"||ls(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function L1(e){var t="";return bs.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Ql(e,t){return e=De({children:void 0},t),(t=L1(t.children))&&(e.children=t),e}function ao(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Xl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bn(n)}}function pm(e,t){var n=Bn(t.value),r=Bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var ql={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function hm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wa,mm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!==ql.svg||"innerHTML"in e)e.innerHTML=t;else{for(Wa=Wa||document.createElement("div"),Wa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Si={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U1=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(e){U1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Si[t]=Si[e]})});function gm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Si.hasOwnProperty(e)&&Si[e]?(""+t).trim():t+"px"}function vm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=gm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var B1=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(e,t){if(t){if(B1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function ef(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Hf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tf=null,so=null,uo=null;function oh(e){if(e=Gi(e)){if(typeof tf!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Fs(t),tf(e.stateNode,e.type,t))}}function ym(e){so?uo?uo.push(e):uo=[e]:so=e}function Sm(){if(so){var e=so,t=uo;if(uo=so=null,oh(e),t)for(e=0;e<t.length;e++)oh(t[e])}}function zf(e,t){return e(t)}function wm(e,t,n,r,o){return e(t,n,r,o)}function Gf(){}var xm=zf,ar=!1,Tl=!1;function $f(){(so!==null||uo!==null)&&(Gf(),Sm())}function F1(e,t,n){if(Tl)return e(t,n);Tl=!0;try{return xm(e,t,n)}finally{Tl=!1,$f()}}function bi(e,t){var n=e.stateNode;if(n===null)return null;var r=Fs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var nf=!1;if(ln)try{Qr={},Object.defineProperty(Qr,"passive",{get:function(){nf=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{nf=!1}var Qr;function j1(e,t,n,r,o,i,a,u,d){var S=Array.prototype.slice.call(arguments,3);try{t.apply(n,S)}catch(y){this.onError(y)}}var wi=!1,fs=null,cs=!1,rf=null,W1={onError:function(e){wi=!0,fs=e}};function H1(e,t,n,r,o,i,a,u,d){wi=!1,fs=null,j1.apply(W1,arguments)}function z1(e,t,n,r,o,i,a,u,d){if(H1.apply(this,arguments),wi){if(wi){var S=fs;wi=!1,fs=null}else throw Error(J(198));cs||(cs=!0,rf=S)}}function gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Em(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ih(e){if(gr(e)!==e)throw Error(J(188))}function G1(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return ih(o),e;if(i===r)return ih(o),t;i=i.sibling}throw Error(J(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function Cm(e){if(e=G1(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ah(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var Om,Vf,Tm,Rm,of=!1,Kt=[],Mn=null,bn=null,Dn=null,Di=new Map,ki=new Map,ti=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function af(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:o,targetContainers:[r]}}function uh(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function ni(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e=af(t,n,r,o,i),t!==null&&(t=Gi(t),t!==null&&Vf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function $1(e,t,n,r,o){switch(t){case"focusin":return Mn=ni(Mn,e,t,n,r,o),!0;case"dragenter":return bn=ni(bn,e,t,n,r,o),!0;case"mouseover":return Dn=ni(Dn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Di.set(i,ni(Di.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ki.set(i,ni(ki.get(i)||null,e,t,n,r,o)),!0}return!1}function V1(e){var t=sr(e.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=Em(n),t!==null){e.blockedOn=t,Rm(e.lanePriority,function(){Ke.unstable_runWithPriority(e.priority,function(){Tm(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ja(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=Gi(n),t!==null&&Vf(t),e.blockedOn=n,!1;t.shift()}return!0}function lh(e,t,n){Ja(e)&&n.delete(t)}function Y1(){for(of=!1;0<Kt.length;){var e=Kt[0];if(e.blockedOn!==null){e=Gi(e.blockedOn),e!==null&&Om(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Kt.shift()}Mn!==null&&Ja(Mn)&&(Mn=null),bn!==null&&Ja(bn)&&(bn=null),Dn!==null&&Ja(Dn)&&(Dn=null),Di.forEach(lh),ki.forEach(lh)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,of||(of=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,Y1)))}function Pm(e){function t(o){return ri(o,e)}if(0<Kt.length){ri(Kt[0],e);for(var n=1;n<Kt.length;n++){var r=Kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mn!==null&&ri(Mn,e),bn!==null&&ri(bn,e),Dn!==null&&ri(Dn,e),Di.forEach(t),ki.forEach(t),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)V1(n),n.blockedOn===null&&ti.shift()}function Ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},Rl={},Am={};ln&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Ns(e){if(Rl[e])return Rl[e];if(!Zr[e])return e;var t=Zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Am)return Rl[e]=t[n];return e}var Im=Ns("animationend"),Mm=Ns("animationiteration"),bm=Ns("animationstart"),Dm=Ns("transitionend"),km=new Map,Yf=new Map,K1=["abort","abort",Im,"animationEnd",Mm,"animationIteration",bm,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dm,"transitionEnd","waiting","waiting"];function Kf(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Yf.set(r,t),km.set(r,o),hr(o,[r])}}var Q1=Ke.unstable_now;Q1();var Re=8;function qr(e){if((1&e)!==0)return Re=15,1;if((2&e)!==0)return Re=14,2;if((4&e)!==0)return Re=13,4;var t=24&e;return t!==0?(Re=12,t):(e&32)!==0?(Re=11,32):(t=192&e,t!==0?(Re=10,t):(e&256)!==0?(Re=9,256):(t=3584&e,t!==0?(Re=8,t):(e&4096)!==0?(Re=7,4096):(t=4186112&e,t!==0?(Re=6,t):(t=62914560&e,t!==0?(Re=5,t):e&67108864?(Re=4,67108864):(e&134217728)!==0?(Re=3,134217728):(t=805306368&e,t!==0?(Re=2,t):(1073741824&e)!==0?(Re=1,1073741824):(Re=8,e))))))}function X1(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function q1(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(J(358,e))}}function Ni(e,t){var n=e.pendingLanes;if(n===0)return Re=0;var r=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,u=e.pingedLanes;if(i!==0)r=i,o=Re=15;else if(i=n&134217727,i!==0){var d=i&~a;d!==0?(r=qr(d),o=Re):(u&=i,u!==0&&(r=qr(u),o=Re))}else i=n&~a,i!==0?(r=qr(i),o=Re):u!==0&&(r=qr(u),o=Re);if(r===0)return 0;if(r=31-Fn(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&a)===0){if(qr(t),o<=Re)return t;Re=o}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fn(t),o=1<<n,r|=e[n],t&=~o;return r}function Nm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ds(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Jr(24&~t),e===0?ds(10,t):e;case 10:return e=Jr(192&~t),e===0?ds(8,t):e;case 8:return e=Jr(3584&~t),e===0&&(e=Jr(4186112&~t),e===0&&(e=512)),e;case 2:return t=Jr(805306368&~t),t===0&&(t=268435456),t}throw Error(J(358,e))}function Jr(e){return e&-e}function Pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _s(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-Fn(t),e[t]=n}var Fn=Math.clz32?Math.clz32:eS,J1=Math.log,Z1=Math.LN2;function eS(e){return e===0?32:31-(J1(e)/Z1|0)|0}var tS=Ke.unstable_UserBlockingPriority,nS=Ke.unstable_runWithPriority,Za=!0;function rS(e,t,n,r){ar||Gf();var o=Qf,i=ar;ar=!0;try{wm(o,e,t,n,r)}finally{(ar=i)||$f()}}function oS(e,t,n,r){nS(tS,Qf.bind(null,e,t,n,r))}function Qf(e,t,n,r){if(Za){var o;if((o=(t&4)===0)&&0<Kt.length&&-1<sh.indexOf(e))e=af(null,e,t,n,r),Kt.push(e);else{var i=Xf(e,t,n,r);if(i===null)o&&uh(e,r);else{if(o){if(-1<sh.indexOf(e)){e=af(i,e,t,n,r),Kt.push(e);return}if($1(i,e,t,n,r))return;uh(e,r)}Ym(e,t,r,null,n)}}}}function Xf(e,t,n,r){var o=Hf(r);if(o=sr(o),o!==null){var i=gr(o);if(i===null)o=null;else{var a=i.tag;if(a===13){if(o=Em(i),o!==null)return o;o=null}else if(a===3){if(i.stateNode.hydrate)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Ym(e,t,r,o,n),null}var Pn=null,qf=null,es=null;function _m(){if(es)return es;var e,t=qf,n=t.length,r,o="value"in Pn?Pn.value:Pn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return es=o.slice(e,1<r?1-r:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function za(){return!0}function fh(){return!1}function wt(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?za:fh,this.isPropagationStopped=fh,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),t}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=wt(wo),zi=De({},wo,{view:0,detail:0}),iS=wt(zi),Al,Il,oi,Ls=De({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(Al=e.screenX-oi.screenX,Il=e.screenY-oi.screenY):Il=Al=0,oi=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),ch=wt(Ls),aS=De({},Ls,{dataTransfer:0}),sS=wt(aS),uS=De({},zi,{relatedTarget:0}),Ml=wt(uS),lS=De({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=wt(lS),cS=De({},wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dS=wt(cS),pS=De({},wo,{data:0}),dh=wt(pS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gS[e])?!!t[e]:!1}function Zf(){return vS}var yS=De({},zi,{key:function(e){if(e.key){var t=hS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zf,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SS=wt(yS),wS=De({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=wt(wS),xS=De({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zf}),ES=wt(xS),CS=De({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),OS=wt(CS),TS=De({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RS=wt(TS),PS=[9,13,27,32],ec=ln&&"CompositionEvent"in window,xi=null;ln&&"documentMode"in document&&(xi=document.documentMode);var AS=ln&&"TextEvent"in window&&!xi,Lm=ln&&(!ec||xi&&8<xi&&11>=xi),hh=String.fromCharCode(32),mh=!1;function Um(e,t){switch(e){case"keyup":return PS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eo=!1;function IS(e,t){switch(e){case"compositionend":return Bm(t);case"keypress":return t.which!==32?null:(mh=!0,hh);case"textInput":return e=t.data,e===hh&&mh?null:e;default:return null}}function MS(e,t){if(eo)return e==="compositionend"||!ec&&Um(e,t)?(e=_m(),es=qf=Pn=null,eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lm&&t.locale!=="ko"?null:t.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bS[e.type]:t==="textarea"}function Fm(e,t,n,r){ym(r),t=ps(t,"onChange"),0<t.length&&(n=new Jf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ei=null,_i=null;function DS(e){Gm(e,0)}function Us(e){var t=no(e);if(cm(t))return e}function kS(e,t){if(e==="change")return t}var jm=!1;ln&&(ln?($a="oninput"in document,$a||(bl=document.createElement("div"),bl.setAttribute("oninput","return;"),$a=typeof bl.oninput=="function"),Ga=$a):Ga=!1,jm=Ga&&(!document.documentMode||9<document.documentMode));var Ga,$a,bl;function vh(){Ei&&(Ei.detachEvent("onpropertychange",Wm),_i=Ei=null)}function Wm(e){if(e.propertyName==="value"&&Us(_i)){var t=[];if(Fm(t,_i,e,Hf(e)),e=DS,ar)e(t);else{ar=!0;try{zf(e,t)}finally{ar=!1,$f()}}}}function NS(e,t,n){e==="focusin"?(vh(),Ei=t,_i=n,Ei.attachEvent("onpropertychange",Wm)):e==="focusout"&&vh()}function _S(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Us(_i)}function LS(e,t){if(e==="click")return Us(t)}function US(e,t){if(e==="input"||e==="change")return Us(t)}function BS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:BS,FS=Object.prototype.hasOwnProperty;function Li(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!FS.call(t,n[r])||!Ot(e[n[r]],t[n[r]]))return!1;return!0}function yh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sh(e,t){var n=yh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yh(n)}}function Hm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(){for(var e=window,t=ls();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ls(e.document)}return t}function sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var jS=ln&&"documentMode"in document&&11>=document.documentMode,to=null,uf=null,Ci=null,lf=!1;function xh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lf||to==null||to!==ls(r)||(r=to,"selectionStart"in r&&sf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ci&&Li(Ci,r)||(Ci=r,r=ps(uf,"onSelect"),0<r.length&&(t=new Jf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=to)))}Kf("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Kf("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Kf(K1,2);for(Dl="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Va=0;Va<Dl.length;Va++)Yf.set(Dl[Va],0);var Dl,Va;go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function Eh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,z1(r,t,void 0,e),e.currentTarget=null}function Gm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],d=u.instance,S=u.currentTarget;if(u=u.listener,d!==i&&o.isPropagationStopped())break e;Eh(o,u,S),i=d}else for(a=0;a<r.length;a++){if(u=r[a],d=u.instance,S=u.currentTarget,u=u.listener,d!==i&&o.isPropagationStopped())break e;Eh(o,u,S),i=d}}}if(cs)throw e=rf,cs=!1,rf=null,e}function Pe(e,t){var n=Qm(t),r=e+"__bubble";n.has(r)||(Vm(t,e,2,!1),n.add(r))}var Ch="_reactListening"+Math.random().toString(36).slice(2);function $m(e){e[Ch]||(e[Ch]=!0,um.forEach(function(t){zm.has(t)||Oh(t,!1,e,null),Oh(t,!0,e,null)}))}function Oh(e,t,n,r){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=n;if(e==="selectionchange"&&n.nodeType!==9&&(i=n.ownerDocument),r!==null&&!t&&zm.has(e)){if(e!=="scroll")return;o|=2,i=r}var a=Qm(i),u=e+"__"+(t?"capture":"bubble");a.has(u)||(t&&(o|=4),Vm(i,e,o,t),a.add(u))}function Vm(e,t,n,r){var o=Yf.get(t);switch(o===void 0?2:o){case 0:o=rS;break;case 1:o=oS;break;default:o=Qf}n=o.bind(null,t,n,e),o=void 0,!nf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ym(e,t,n,r,o){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;a=a.return}for(;u!==null;){if(a=sr(u),a===null)return;if(d=a.tag,d===5||d===6){r=i=a;continue e}u=u.parentNode}}r=r.return}F1(function(){var S=i,y=Hf(n),E=[];e:{var l=km.get(e);if(l!==void 0){var w=Jf,C=e;switch(e){case"keypress":if(ts(n)===0)break e;case"keydown":case"keyup":w=SS;break;case"focusin":C="focus",w=Ml;break;case"focusout":C="blur",w=Ml;break;case"beforeblur":case"afterblur":w=Ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=sS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=ES;break;case Im:case Mm:case bm:w=fS;break;case Dm:w=OS;break;case"scroll":w=iS;break;case"wheel":w=RS;break;case"copy":case"cut":case"paste":w=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ph}var O=(t&4)!==0,h=!O&&e==="scroll",m=O?l!==null?l+"Capture":null:l;O=[];for(var v=S,s;v!==null;){s=v;var f=s.stateNode;if(s.tag===5&&f!==null&&(s=f,m!==null&&(f=bi(v,m),f!=null&&O.push(Ui(v,f,s)))),h)break;v=v.return}0<O.length&&(l=new w(l,C,null,n,y),E.push({event:l,listeners:O}))}}if((t&7)===0){e:{if(l=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",l&&(t&16)===0&&(C=n.relatedTarget||n.fromElement)&&(sr(C)||C[xo]))break e;if((w||l)&&(l=y.window===y?y:(l=y.ownerDocument)?l.defaultView||l.parentWindow:window,w?(C=n.relatedTarget||n.toElement,w=S,C=C?sr(C):null,C!==null&&(h=gr(C),C!==h||C.tag!==5&&C.tag!==6)&&(C=null)):(w=null,C=S),w!==C)){if(O=ch,f="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(O=ph,f="onPointerLeave",m="onPointerEnter",v="pointer"),h=w==null?l:no(w),s=C==null?l:no(C),l=new O(f,v+"leave",w,n,y),l.target=h,l.relatedTarget=s,f=null,sr(y)===S&&(O=new O(m,v+"enter",C,n,y),O.target=s,O.relatedTarget=h,f=O),h=f,w&&C)t:{for(O=w,m=C,v=0,s=O;s;s=Xr(s))v++;for(s=0,f=m;f;f=Xr(f))s++;for(;0<v-s;)O=Xr(O),v--;for(;0<s-v;)m=Xr(m),s--;for(;v--;){if(O===m||m!==null&&O===m.alternate)break t;O=Xr(O),m=Xr(m)}O=null}else O=null;w!==null&&Th(E,l,w,O,!1),C!==null&&h!==null&&Th(E,h,C,O,!0)}}e:{if(l=S?no(S):window,w=l.nodeName&&l.nodeName.toLowerCase(),w==="select"||w==="input"&&l.type==="file")var c=kS;else if(gh(l))if(jm)c=US;else{c=_S;var g=NS}else(w=l.nodeName)&&w.toLowerCase()==="input"&&(l.type==="checkbox"||l.type==="radio")&&(c=LS);if(c&&(c=c(e,S))){Fm(E,c,n,y);break e}g&&g(e,l,S),e==="focusout"&&(g=l._wrapperState)&&g.controlled&&l.type==="number"&&Kl(l,"number",l.value)}switch(g=S?no(S):window,e){case"focusin":(gh(g)||g.contentEditable==="true")&&(to=g,uf=S,Ci=null);break;case"focusout":Ci=uf=to=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,xh(E,n,y);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":xh(E,n,y)}var p;if(ec)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else eo?Um(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Lm&&n.locale!=="ko"&&(eo||x!=="onCompositionStart"?x==="onCompositionEnd"&&eo&&(p=_m()):(Pn=y,qf="value"in Pn?Pn.value:Pn.textContent,eo=!0)),g=ps(S,x),0<g.length&&(x=new dh(x,e,null,n,y),E.push({event:x,listeners:g}),p?x.data=p:(p=Bm(n),p!==null&&(x.data=p)))),(p=AS?IS(e,n):MS(e,n))&&(S=ps(S,"onBeforeInput"),0<S.length&&(y=new dh("onBeforeInput","beforeinput",null,n,y),E.push({event:y,listeners:S}),y.data=p))}Gm(E,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ps(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=bi(e,n),i!=null&&r.unshift(Ui(e,i,o)),i=bi(e,t),i!=null&&r.push(Ui(e,i,o))),e=e.return}return r}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Th(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var u=n,d=u.alternate,S=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&S!==null&&(u=S,o?(d=bi(n,i),d!=null&&a.unshift(Ui(n,d,u))):o||(d=bi(n,i),d!=null&&a.push(Ui(n,d,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}function hs(){}var kl=null,Nl=null;function Km(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ff(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rh=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0;function tc(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function lo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function Ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _l=0;function HS(e){return{$$typeof:jf,toString:e,valueOf:e}}var Bs=Math.random().toString(36).slice(2),An="__reactFiber$"+Bs,ms="__reactProps$"+Bs,xo="__reactContainer$"+Bs,Ah="__reactEvents$"+Bs;function sr(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xo]||n[An]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ph(e);e!==null;){if(n=e[An])return n;e=Ph(e)}return t}e=n,n=e.parentNode}return null}function Gi(e){return e=e[An]||e[xo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function no(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Fs(e){return e[ms]||null}function Qm(e){var t=e[Ah];return t===void 0&&(t=e[Ah]=new Set),t}var cf=[],ro=-1;function zn(e){return{current:e}}function Ae(e){0>ro||(e.current=cf[ro],cf[ro]=null,ro--)}function _e(e,t){ro++,cf[ro]=e.current,e.current=t}var jn={},ut=zn(jn),gt=zn(!1),cr=jn;function vo(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vt(e){return e=e.childContextTypes,e!=null}function gs(){Ae(gt),Ae(ut)}function Ih(e,t,n){if(ut.current!==jn)throw Error(J(168));_e(ut,t),_e(gt,n)}function Xm(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(J(108,io(t)||"Unknown",o));return De({},n,r)}function ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,cr=ut.current,_e(ut,e),_e(gt,gt.current),!0}function Mh(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=Xm(e,t,cr),r.__reactInternalMemoizedMergedChildContext=e,Ae(gt),Ae(ut),_e(ut,e)):Ae(gt),_e(gt,n)}var nc=null,fr=null,zS=Ke.unstable_runWithPriority,rc=Ke.unstable_scheduleCallback,df=Ke.unstable_cancelCallback,GS=Ke.unstable_shouldYield,bh=Ke.unstable_requestPaint,pf=Ke.unstable_now,$S=Ke.unstable_getCurrentPriorityLevel,js=Ke.unstable_ImmediatePriority,qm=Ke.unstable_UserBlockingPriority,Jm=Ke.unstable_NormalPriority,Zm=Ke.unstable_LowPriority,eg=Ke.unstable_IdlePriority,Ll={},VS=bh!==void 0?bh:function(){},rn=null,rs=null,Ul=!1,Dh=pf(),at=1e4>Dh?pf:function(){return pf()-Dh};function yo(){switch($S()){case js:return 99;case qm:return 98;case Jm:return 97;case Zm:return 96;case eg:return 95;default:throw Error(J(332))}}function tg(e){switch(e){case 99:return js;case 98:return qm;case 97:return Jm;case 96:return Zm;case 95:return eg;default:throw Error(J(332))}}function dr(e,t){return e=tg(e),zS(e,t)}function Bi(e,t,n){return e=tg(e),rc(e,t,n)}function Zt(){if(rs!==null){var e=rs;rs=null,df(e)}ng()}function ng(){if(!Ul&&rn!==null){Ul=!0;var e=0;try{var t=rn;dr(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),rn=null}catch(n){throw rn!==null&&(rn=rn.slice(e+1)),rc(js,Zt),n}finally{Ul=!1}}}var YS=mr.ReactCurrentBatchConfig;function Ut(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var vs=zn(null),ys=null,oo=null,Ss=null;function oc(){Ss=oo=ys=null}function ic(e){var t=vs.current;Ae(vs),e.type._context._currentValue=t}function rg(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function fo(e,t){ys=e,Ss=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Bt=!0),e.firstContext=null)}function Pt(e,t){if(Ss!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Ss=e,t=1073741823),t={context:e,observedBits:t,next:null},oo===null){if(ys===null)throw Error(J(308));oo=t,ys.dependencies={lanes:0,firstContext:t,responders:null}}else oo=oo.next=t;return e._currentValue}var Tn=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function og(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nn(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function kh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var o=e.updateQueue;Tn=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var d=u,S=d.next;d.next=null,a===null?i=S:a.next=S,a=d;var y=e.alternate;if(y!==null){y=y.updateQueue;var E=y.lastBaseUpdate;E!==a&&(E===null?y.firstBaseUpdate=S:E.next=S,y.lastBaseUpdate=d)}}if(i!==null){E=o.baseState,a=0,y=S=d=null;do{u=i.lane;var l=i.eventTime;if((r&u)===u){y!==null&&(y=y.next={eventTime:l,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var w=e,C=i;switch(u=t,l=n,C.tag){case 1:if(w=C.payload,typeof w=="function"){E=w.call(l,E,u);break e}E=w;break e;case 3:w.flags=w.flags&-4097|64;case 0:if(w=C.payload,u=typeof w=="function"?w.call(l,E,u):w,u==null)break e;E=De({},E,u);break e;case 2:Tn=!0}}i.callback!==null&&(e.flags|=32,u=o.effects,u===null?o.effects=[i]:u.push(i))}else l={eventTime:l,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},y===null?(S=y=l,d=E):y=y.next=l,a|=u;if(i=i.next,i===null){if(u=o.shared.pending,u===null)break;i=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}while(1);y===null&&(d=E),o.baseState=d,o.firstBaseUpdate=S,o.lastBaseUpdate=y,Vi|=a,e.lanes=a,e.memoizedState=E}}function Nh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(J(191,o));o.call(r)}}}var ig=new bs.Component().refs;function ws(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ws={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),o=_n(e),i=kn(r,o);i.payload=t,n!=null&&(i.callback=n),Nn(e,i),Ln(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),o=_n(e),i=kn(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),Nn(e,i),Ln(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=_n(e),o=kn(n,r);o.tag=2,t!=null&&(o.callback=t),Nn(e,o),Ln(e,r,n)}};function _h(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Li(n,r)||!Li(o,i):!0}function ag(e,t,n){var r=!1,o=jn,i=t.contextType;return typeof i=="object"&&i!==null?i=Pt(i):(o=vt(t)?cr:ut.current,r=t.contextTypes,i=(r=r!=null)?vo(e,o):jn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ws,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ws.enqueueReplaceState(t,t.state,null)}function hf(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ig,ac(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Pt(i):(i=vt(t)?cr:ut.current,o.context=vo(e,i)),Fi(e,n,o,r),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ws(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ws.enqueueReplaceState(o,o.state,null),Fi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4)}var Ya=Array.isArray;function ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=r.refs;a===ig&&(a=r.refs={}),i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function Ka(e,t){if(e.type!=="textarea")throw Error(J(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function sg(e){function t(h,m){if(e){var v=h.lastEffect;v!==null?(v.nextEffect=m,h.lastEffect=m):h.firstEffect=h.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function r(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function o(h,m){return h=Hn(h,m),h.index=0,h.sibling=null,h}function i(h,m,v){return h.index=v,e?(v=h.alternate,v!==null?(v=v.index,v<m?(h.flags=2,m):v):(h.flags=2,m)):m}function a(h){return e&&h.alternate===null&&(h.flags=2),h}function u(h,m,v,s){return m===null||m.tag!==6?(m=Hl(v,h.mode,s),m.return=h,m):(m=o(m,v),m.return=h,m)}function d(h,m,v,s){return m!==null&&m.elementType===v.type?(s=o(m,v.props),s.ref=ii(h,m,v),s.return=h,s):(s=ss(v.type,v.key,v.props,null,h.mode,s),s.ref=ii(h,m,v),s.return=h,s)}function S(h,m,v,s){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=zl(v,h.mode,s),m.return=h,m):(m=o(m,v.children||[]),m.return=h,m)}function y(h,m,v,s,f){return m===null||m.tag!==7?(m=mo(v,h.mode,s,f),m.return=h,m):(m=o(m,v),m.return=h,m)}function E(h,m,v){if(typeof m=="string"||typeof m=="number")return m=Hl(""+m,h.mode,v),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case di:return v=ss(m.type,m.key,m.props,null,h.mode,v),v.ref=ii(h,null,m),v.return=h,v;case ir:return m=zl(m,h.mode,v),m.return=h,m}if(Ya(m)||ei(m))return m=mo(m,h.mode,v,null),m.return=h,m;Ka(h,m)}return null}function l(h,m,v,s){var f=m!==null?m.key:null;if(typeof v=="string"||typeof v=="number")return f!==null?null:u(h,m,""+v,s);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case di:return v.key===f?v.type===Rn?y(h,m,v.props.children,s,f):d(h,m,v,s):null;case ir:return v.key===f?S(h,m,v,s):null}if(Ya(v)||ei(v))return f!==null?null:y(h,m,v,s,null);Ka(h,v)}return null}function w(h,m,v,s,f){if(typeof s=="string"||typeof s=="number")return h=h.get(v)||null,u(m,h,""+s,f);if(typeof s=="object"&&s!==null){switch(s.$$typeof){case di:return h=h.get(s.key===null?v:s.key)||null,s.type===Rn?y(m,h,s.props.children,f,s.key):d(m,h,s,f);case ir:return h=h.get(s.key===null?v:s.key)||null,S(m,h,s,f)}if(Ya(s)||ei(s))return h=h.get(v)||null,y(m,h,s,f,null);Ka(m,s)}return null}function C(h,m,v,s){for(var f=null,c=null,g=m,p=m=0,x=null;g!==null&&p<v.length;p++){g.index>p?(x=g,g=null):x=g.sibling;var T=l(h,g,v[p],s);if(T===null){g===null&&(g=x);break}e&&g&&T.alternate===null&&t(h,g),m=i(T,m,p),c===null?f=T:c.sibling=T,c=T,g=x}if(p===v.length)return n(h,g),f;if(g===null){for(;p<v.length;p++)g=E(h,v[p],s),g!==null&&(m=i(g,m,p),c===null?f=g:c.sibling=g,c=g);return f}for(g=r(h,g);p<v.length;p++)x=w(g,h,p,v[p],s),x!==null&&(e&&x.alternate!==null&&g.delete(x.key===null?p:x.key),m=i(x,m,p),c===null?f=x:c.sibling=x,c=x);return e&&g.forEach(function(A){return t(h,A)}),f}function O(h,m,v,s){var f=ei(v);if(typeof f!="function")throw Error(J(150));if(v=f.call(v),v==null)throw Error(J(151));for(var c=f=null,g=m,p=m=0,x=null,T=v.next();g!==null&&!T.done;p++,T=v.next()){g.index>p?(x=g,g=null):x=g.sibling;var A=l(h,g,T.value,s);if(A===null){g===null&&(g=x);break}e&&g&&A.alternate===null&&t(h,g),m=i(A,m,p),c===null?f=A:c.sibling=A,c=A,g=x}if(T.done)return n(h,g),f;if(g===null){for(;!T.done;p++,T=v.next())T=E(h,T.value,s),T!==null&&(m=i(T,m,p),c===null?f=T:c.sibling=T,c=T);return f}for(g=r(h,g);!T.done;p++,T=v.next())T=w(g,h,p,T.value,s),T!==null&&(e&&T.alternate!==null&&g.delete(T.key===null?p:T.key),m=i(T,m,p),c===null?f=T:c.sibling=T,c=T);return e&&g.forEach(function(k){return t(h,k)}),f}return function(h,m,v,s){var f=typeof v=="object"&&v!==null&&v.type===Rn&&v.key===null;f&&(v=v.props.children);var c=typeof v=="object"&&v!==null;if(c)switch(v.$$typeof){case di:e:{for(c=v.key,f=m;f!==null;){if(f.key===c){switch(f.tag){case 7:if(v.type===Rn){n(h,f.sibling),m=o(f,v.props.children),m.return=h,h=m;break e}break;default:if(f.elementType===v.type){n(h,f.sibling),m=o(f,v.props),m.ref=ii(h,f,v),m.return=h,h=m;break e}}n(h,f);break}else t(h,f);f=f.sibling}v.type===Rn?(m=mo(v.props.children,h.mode,s,v.key),m.return=h,h=m):(s=ss(v.type,v.key,v.props,null,h.mode,s),s.ref=ii(h,m,v),s.return=h,h=s)}return a(h);case ir:e:{for(f=v.key;m!==null;){if(m.key===f)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(h,m.sibling),m=o(m,v.children||[]),m.return=h,h=m;break e}else{n(h,m);break}else t(h,m);m=m.sibling}m=zl(v,h.mode,s),m.return=h,h=m}return a(h)}if(typeof v=="string"||typeof v=="number")return v=""+v,m!==null&&m.tag===6?(n(h,m.sibling),m=o(m,v),m.return=h,h=m):(n(h,m),m=Hl(v,h.mode,s),m.return=h,h=m),a(h);if(Ya(v))return C(h,m,v,s);if(ei(v))return O(h,m,v,s);if(c&&Ka(h,v),typeof v>"u"&&!f)switch(h.tag){case 1:case 22:case 0:case 11:case 15:throw Error(J(152,io(h.type)||"Component"))}return n(h,m)}}var xs=sg(!0),ug=sg(!1),$i={},qt=zn($i),ji=zn($i),Wi=zn($i);function ur(e){if(e===$i)throw Error(J(174));return e}function mf(e,t){switch(_e(Wi,t),_e(ji,e),_e(qt,$i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jl(t,e)}Ae(qt),_e(qt,t)}function So(){Ae(qt),Ae(ji),Ae(Wi)}function Uh(e){ur(Wi.current);var t=ur(qt.current),n=Jl(t,e.type);t!==n&&(_e(ji,e),_e(qt,n))}function sc(e){ji.current===e&&(Ae(qt),Ae(ji))}var Ne=zn(0);function Es(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var an=null,In=null,Jt=!1;function lg(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function gf(e){if(Jt){var t=In;if(t){var n=t;if(!Bh(e,t)){if(t=lo(n.nextSibling),!t||!Bh(e,t)){e.flags=e.flags&-1025|2,Jt=!1,an=e;return}lg(an,n)}an=e,In=lo(t.firstChild)}else e.flags=e.flags&-1025|2,Jt=!1,an=e}}function Fh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;an=e}function Qa(e){if(e!==an)return!1;if(!Jt)return Fh(e),Jt=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!ff(t,e.memoizedProps))for(t=In;t;)lg(e,t),t=lo(t.nextSibling);if(Fh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){In=lo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}In=null}}else In=an?lo(e.stateNode.nextSibling):null;return!0}function Bl(){In=an=null,Jt=!1}var co=[];function uc(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var Oi=mr.ReactCurrentDispatcher,Rt=mr.ReactCurrentBatchConfig,Hi=0,Ue=null,it=null,et=null,Cs=!1,Ti=!1;function ht(){throw Error(J(321))}function lc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function fc(e,t,n,r,o,i){if(Hi=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oi.current=e===null||e.memoizedState===null?QS:XS,e=n(r,o),Ti){i=0;do{if(Ti=!1,!(25>i))throw Error(J(301));i+=1,et=it=null,t.updateQueue=null,Oi.current=qS,e=n(r,o)}while(Ti)}if(Oi.current=Ps,t=it!==null&&it.next!==null,Hi=0,et=it=Ue=null,Cs=!1,t)throw Error(J(300));return e}function lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ue.memoizedState=et=e:et=et.next=e,et}function vr(){if(it===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=et===null?Ue.memoizedState:et.next;if(t!==null)et=t,it=e;else{if(e===null)throw Error(J(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},et===null?Ue.memoizedState=et=e:et=et.next=e}return et}function Qt(e,t){return typeof t=="function"?t(e):t}function ai(e){var t=vr(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=it,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){o=o.next,r=r.baseState;var u=a=i=null,d=o;do{var S=d.lane;if((Hi&S)===S)u!==null&&(u=u.next={lane:0,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null}),r=d.eagerReducer===e?d.eagerState:e(r,d.action);else{var y={lane:S,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null};u===null?(a=u=y,i=r):u=u.next=y,Ue.lanes|=S,Vi|=S}d=d.next}while(d!==null&&d!==o);u===null?i=r:u.next=a,Ot(r,t.memoizedState)||(Bt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function si(e){var t=vr(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Ot(i,t.memoizedState)||(Bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function jh(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(o!==null?e=o===r:(e=e.mutableReadLanes,(e=(Hi&e)===e)&&(t._workInProgressVersionPrimary=r,co.push(t))),e)return n(t._source);throw co.push(t),Error(J(350))}function fg(e,t,n,r){var o=ft;if(o===null)throw Error(J(349));var i=t._getVersion,a=i(t._source),u=Oi.current,d=u.useState(function(){return jh(o,t,n)}),S=d[1],y=d[0];d=et;var E=e.memoizedState,l=E.refs,w=l.getSnapshot,C=E.source;E=E.subscribe;var O=Ue;return e.memoizedState={refs:l,source:t,subscribe:r},u.useEffect(function(){l.getSnapshot=n,l.setSnapshot=S;var h=i(t._source);if(!Ot(a,h)){h=n(t._source),Ot(y,h)||(S(h),h=_n(O),o.mutableReadLanes|=h&o.pendingLanes),h=o.mutableReadLanes,o.entangledLanes|=h;for(var m=o.entanglements,v=h;0<v;){var s=31-Fn(v),f=1<<s;m[s]|=h,v&=~f}}},[n,t,r]),u.useEffect(function(){return r(t._source,function(){var h=l.getSnapshot,m=l.setSnapshot;try{m(h(t._source));var v=_n(O);o.mutableReadLanes|=v&o.pendingLanes}catch(s){m(function(){throw s})}})},[t,r]),Ot(w,n)&&Ot(C,t)&&Ot(E,r)||(e={pending:null,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:y},e.dispatch=S=pc.bind(null,Ue,e),d.queue=e,d.baseQueue=null,y=jh(o,t,n),d.memoizedState=d.baseState=y),y}function cg(e,t,n){var r=vr();return fg(r,e,t,n)}function ui(e){var t=lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:e},e=e.dispatch=pc.bind(null,Ue,e),[t.memoizedState,e]}function Os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wh(e){var t=lr();return e={current:e},t.memoizedState=e}function Ts(){return vr().memoizedState}function vf(e,t,n,r){var o=lr();Ue.flags|=e,o.memoizedState=Os(1|t,n,void 0,r===void 0?null:r)}function cc(e,t,n,r){var o=vr();r=r===void 0?null:r;var i=void 0;if(it!==null){var a=it.memoizedState;if(i=a.destroy,r!==null&&lc(r,a.deps)){Os(t,n,i,r);return}}Ue.flags|=e,o.memoizedState=Os(1|t,n,i,r)}function Hh(e,t){return vf(516,4,e,t)}function Rs(e,t){return cc(516,4,e,t)}function dg(e,t){return cc(4,2,e,t)}function pg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hg(e,t,n){return n=n!=null?n.concat([e]):null,cc(4,2,pg.bind(null,t,e),n)}function dc(){}function mg(e,t){var n=vr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function gg(e,t){var n=vr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function KS(e,t){var n=yo();dr(98>n?98:n,function(){e(!0)}),dr(97<n?97:n,function(){var r=Rt.transition;Rt.transition=1;try{e(!1),t()}finally{Rt.transition=r}})}function pc(e,t,n){var r=St(),o=_n(e),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ue||a!==null&&a===Ue)Ti=Cs=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,d=a(u,n);if(i.eagerReducer=a,i.eagerState=d,Ot(d,u))return}catch{}finally{}Ln(e,o,r)}}var Ps={readContext:Pt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useOpaqueIdentifier:ht,unstable_isNewReconciler:!1},QS={readContext:Pt,useCallback:function(e,t){return lr().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Hh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vf(4,2,pg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vf(4,2,e,t)},useMemo:function(e,t){var n=lr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=pc.bind(null,Ue,e),[r.memoizedState,e]},useRef:Wh,useState:ui,useDebugValue:dc,useDeferredValue:function(e){var t=ui(e),n=t[0],r=t[1];return Hh(function(){var o=Rt.transition;Rt.transition=1;try{r(e)}finally{Rt.transition=o}},[e]),n},useTransition:function(){var e=ui(!1),t=e[0];return e=KS.bind(null,e[1]),Wh(e),[e,t]},useMutableSource:function(e,t,n){var r=lr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fg(r,e,t,n)},useOpaqueIdentifier:function(){if(Jt){var e=!1,t=HS(function(){throw e||(e=!0,n("r:"+(_l++).toString(36))),Error(J(355))}),n=ui(t)[1];return(Ue.mode&2)===0&&(Ue.flags|=516,Os(5,function(){n("r:"+(_l++).toString(36))},void 0,null)),t}return t="r:"+(_l++).toString(36),ui(t),t},unstable_isNewReconciler:!1},XS={readContext:Pt,useCallback:mg,useContext:Pt,useEffect:Rs,useImperativeHandle:hg,useLayoutEffect:dg,useMemo:gg,useReducer:ai,useRef:Ts,useState:function(){return ai(Qt)},useDebugValue:dc,useDeferredValue:function(e){var t=ai(Qt),n=t[0],r=t[1];return Rs(function(){var o=Rt.transition;Rt.transition=1;try{r(e)}finally{Rt.transition=o}},[e]),n},useTransition:function(){var e=ai(Qt)[0];return[Ts().current,e]},useMutableSource:cg,useOpaqueIdentifier:function(){return ai(Qt)[0]},unstable_isNewReconciler:!1},qS={readContext:Pt,useCallback:mg,useContext:Pt,useEffect:Rs,useImperativeHandle:hg,useLayoutEffect:dg,useMemo:gg,useReducer:si,useRef:Ts,useState:function(){return si(Qt)},useDebugValue:dc,useDeferredValue:function(e){var t=si(Qt),n=t[0],r=t[1];return Rs(function(){var o=Rt.transition;Rt.transition=1;try{r(e)}finally{Rt.transition=o}},[e]),n},useTransition:function(){var e=si(Qt)[0];return[Ts().current,e]},useMutableSource:cg,useOpaqueIdentifier:function(){return si(Qt)[0]},unstable_isNewReconciler:!1},JS=mr.ReactCurrentOwner,Bt=!1;function mt(e,t,n,r){t.child=e===null?ug(t,null,n,r):xs(t,e.child,n,r)}function zh(e,t,n,r,o){n=n.render;var i=t.ref;return fo(t,o),r=fc(e,t,n,r,i,o),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,sn(e,t,o)):(t.flags|=1,mt(e,t,r,o),t.child)}function Gh(e,t,n,r,o,i){if(e===null){var a=n.type;return typeof a=="function"&&!Sc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,vg(e,t,a,r,o,i)):(e=ss(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,(o&i)===0&&(o=a.memoizedProps,n=n.compare,n=n!==null?n:Li,n(o,r)&&e.ref===t.ref)?sn(e,t,i):(t.flags|=1,e=Hn(a,r),e.ref=t.ref,e.return=t,t.child=e)}function vg(e,t,n,r,o,i){if(e!==null&&Li(e.memoizedProps,r)&&e.ref===t.ref)if(Bt=!1,(i&o)!==0)(e.flags&16384)!==0&&(Bt=!0);else return t.lanes=e.lanes,sn(e,t,i);return yf(e,t,n,r,i)}function Fl(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},qa(t,n);else if((n&1073741824)!==0)t.memoizedState={baseLanes:0},qa(t,i!==null?i.baseLanes:n);else return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},qa(t,e),null;else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,qa(t,r);return mt(e,t,o,n),t.child}function yg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function yf(e,t,n,r,o){var i=vt(n)?cr:ut.current;return i=vo(t,i),fo(t,o),n=fc(e,t,n,r,i,o),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,sn(e,t,o)):(t.flags|=1,mt(e,t,n,o),t.child)}function $h(e,t,n,r,o){if(vt(n)){var i=!0;ns(t)}else i=!1;if(fo(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),ag(t,n,r),hf(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var d=a.context,S=n.contextType;typeof S=="object"&&S!==null?S=Pt(S):(S=vt(n)?cr:ut.current,S=vo(t,S));var y=n.getDerivedStateFromProps,E=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function";E||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||d!==S)&&Lh(t,a,r,S),Tn=!1;var l=t.memoizedState;a.state=l,Fi(t,r,a,o),d=t.memoizedState,u!==r||l!==d||gt.current||Tn?(typeof y=="function"&&(ws(t,n,y,r),d=t.memoizedState),(u=Tn||_h(t,n,u,r,l,d,S))?(E||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=S,r=u):(typeof a.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{a=t.stateNode,og(e,t),u=t.memoizedProps,S=t.type===t.elementType?u:Ut(t.type,u),a.props=S,E=t.pendingProps,l=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=Pt(d):(d=vt(n)?cr:ut.current,d=vo(t,d));var w=n.getDerivedStateFromProps;(y=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==E||l!==d)&&Lh(t,a,r,d),Tn=!1,l=t.memoizedState,a.state=l,Fi(t,r,a,o);var C=t.memoizedState;u!==E||l!==C||gt.current||Tn?(typeof w=="function"&&(ws(t,n,w,r),C=t.memoizedState),(S=Tn||_h(t,n,S,r,l,C,d))?(y||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&l===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&l===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=C),a.props=r,a.state=C,a.context=d,r=S):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&l===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&l===e.memoizedState||(t.flags|=256),r=!1)}return Sf(e,t,n,r,i,o)}function Sf(e,t,n,r,o,i){yg(e,t);var a=(t.flags&64)!==0;if(!r&&!a)return o&&Mh(t,n,!1),sn(e,t,i);r=t.stateNode,JS.current=t;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=xs(t,e.child,null,i),t.child=xs(t,null,u,i)):mt(e,t,u,i),t.memoizedState=r.state,o&&Mh(t,n,!0),t.child}function Vh(e){var t=e.stateNode;t.pendingContext?Ih(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ih(e,t.context,!1),mf(e,t.containerInfo)}var Xa={dehydrated:null,retryLane:0};function Yh(e,t,n){var r=t.pendingProps,o=Ne.current,i=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),_e(Ne,o&1),e===null?(r.fallback!==void 0&&gf(t),e=r.children,o=r.fallback,i?(e=Kh(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):typeof r.unstable_expectedLoadTime=="number"?(e=Kh(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):(n=wc({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?i?(r=Xh(e,t,r.children,r.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Xa,r):(n=Qh(e,t,r.children,n),t.memoizedState=null,n):i?(r=Xh(e,t,r.children,r.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Xa,r):(n=Qh(e,t,r.children,n),t.memoizedState=null,n)}function Kh(e,t,n,r){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},(o&2)===0&&i!==null?(i.childLanes=0,i.pendingProps=t):i=wc(t,o,0,null),n=mo(n,o,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function Qh(e,t,n,r){var o=e.child;return e=o.sibling,n=Hn(o,{mode:"visible",children:n}),(t.mode&2)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Xh(e,t,n,r,o){var i=t.mode,a=e.child;e=a.sibling;var u={mode:"hidden",children:n};return(i&2)===0&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=u,a=n.lastEffect,a!==null?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hn(a,u),e!==null?r=Hn(e,r):(r=mo(r,i,o,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function qh(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rg(e.return,t)}function jl(e,t,n,r,o,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=i)}function Jh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(mt(e,t,r.children,n),r=Ne.current,(r&2)!==0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qh(e,n);else if(e.tag===19)qh(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Ne,r),(t.mode&2)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Es(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),jl(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Es(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}jl(t,!0,n,null,i,t.lastEffect);break;case"together":jl(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vi|=t.lanes,(n&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=Hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var Sg,wf,wg,xg;Sg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wf=function(){};wg=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ur(qt.current);var i=null;switch(n){case"input":o=Vl(e,o),r=Vl(e,r),i=[];break;case"option":o=Ql(e,o),r=Ql(e,r),i=[];break;case"select":o=De({},o,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":o=Xl(e,o),r=Xl(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hs)}Zl(n,r);var a;n=null;for(S in o)if(!r.hasOwnProperty(S)&&o.hasOwnProperty(S)&&o[S]!=null)if(S==="style"){var u=o[S];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else S!=="dangerouslySetInnerHTML"&&S!=="children"&&S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(Ii.hasOwnProperty(S)?i||(i=[]):(i=i||[]).push(S,null));for(S in r){var d=r[S];if(u=o!=null?o[S]:void 0,r.hasOwnProperty(S)&&d!==u&&(d!=null||u!=null))if(S==="style")if(u){for(a in u)!u.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&u[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(i||(i=[]),i.push(S,n)),n=d;else S==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(S,d)):S==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(S,""+d):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&(Ii.hasOwnProperty(S)?(d!=null&&S==="onScroll"&&Pe("scroll",e),i||u===d||(i=[])):typeof d=="object"&&d!==null&&d.$$typeof===jf?d.toString():(i=i||[]).push(S,d))}n&&(i=i||[]).push("style",n);var S=i;(t.updateQueue=S)&&(t.flags|=4)}};xg=function(e,t,n,r){n!==r&&(t.flags|=4)};function li(e,t){if(!Jt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ZS(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vt(t.type)&&gs(),null;case 3:return So(),Ae(gt),Ae(ut),uc(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),wf(t),null;case 5:sc(t);var o=ur(Wi.current);if(n=t.type,e!==null&&t.stateNode!=null)wg(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(J(166));return null}if(e=ur(qt.current),Qa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[An]=t,r[ms]=i,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(e=0;e<hi.length;e++)Pe(hi[e],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":eh(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":nh(r,i),Pe("invalid",r)}Zl(n,i),e=null;for(var a in i)i.hasOwnProperty(a)&&(o=i[a],a==="children"?typeof o=="string"?r.textContent!==o&&(e=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(e=["children",""+o]):Ii.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Pe("scroll",r));switch(n){case"input":ja(r),th(r,i,!0);break;case"textarea":ja(r),rh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hs)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(a=o.nodeType===9?o:o.ownerDocument,e===ql.html&&(e=hm(n)),e===ql.html?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[An]=t,e[ms]=r,Sg(e,t,!1,!1),t.stateNode=e,a=ef(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),o=r;break;case"iframe":case"object":case"embed":Pe("load",e),o=r;break;case"video":case"audio":for(o=0;o<hi.length;o++)Pe(hi[o],e);o=r;break;case"source":Pe("error",e),o=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),o=r;break;case"details":Pe("toggle",e),o=r;break;case"input":eh(e,r),o=Vl(e,r),Pe("invalid",e);break;case"option":o=Ql(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=De({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":nh(e,r),o=Xl(e,r),Pe("invalid",e);break;default:o=r}Zl(n,o);var u=o;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?vm(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&mm(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Mi(e,d):typeof d=="number"&&Mi(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ii.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Pe("scroll",e):d!=null&&Nf(e,i,d,a))}switch(n){case"input":ja(e),th(e,r,!1);break;case"textarea":ja(e),rh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ao(e,!!r.multiple,i,!1):r.defaultValue!=null&&ao(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hs)}Km(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)xg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));n=ur(Wi.current),ur(qt.current),Qa(t)?(r=t.stateNode,n=t.memoizedProps,r[An]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=t,t.stateNode=r)}return null;case 13:return Ae(Ne),r=t.memoizedState,(t.flags&64)!==0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&Qa(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Ne.current&1)!==0?tt===0&&(tt=3):((tt===0||tt===3)&&(tt=4),ft===null||(Vi&134217727)===0&&(Co&134217727)===0||po(ft,st))),(r||n)&&(t.flags|=4),null);case 4:return So(),wf(t),e===null&&$m(t.stateNode.containerInfo),null;case 10:return ic(t),null;case 17:return vt(t.type)&&gs(),null;case 19:if(Ae(Ne),r=t.memoizedState,r===null)return null;if(i=(t.flags&64)!==0,a=r.rendering,a===null)if(i)li(r,!1);else{if(tt!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(a=Es(e),a!==null){for(t.flags|=64,li(r,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Ne,Ne.current&1|2),t.child}e=e.sibling}r.tail!==null&&at()>Rf&&(t.flags|=64,i=!0,li(r,!1),t.lanes=33554432)}else{if(!i)if(e=Es(a),e!==null){if(t.flags|=64,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),li(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Jt)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*at()-r.renderingStartTime>Rf&&n!==1073741824&&(t.flags|=64,i=!0,li(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=at(),n.sibling=null,t=Ne.current,_e(Ne,i?t&1|2:t&1),n):null;case 23:case 24:return yc(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(J(156,t.tag))}function ew(e){switch(e.tag){case 1:vt(e.type)&&gs();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(So(),Ae(gt),Ae(ut),uc(),t=e.flags,(t&64)!==0)throw Error(J(285));return e.flags=t&-4097|64,e;case 5:return sc(e),null;case 13:return Ae(Ne),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Ae(Ne),null;case 4:return So(),null;case 10:return ic(e),null;case 23:case 24:return yc(),null;default:return null}}function hc(e,t){try{var n="",r=t;do n+=N1(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o}}function xf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tw=typeof WeakMap=="function"?WeakMap:Map;function Eg(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Is||(Is=!0,Pf=r),xf(e,t)},n}function Cg(e,t,n){n=kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return xf(e,t),r(o)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this),xf(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}var nw=typeof WeakSet=="function"?WeakSet:Set;function Zh(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Un(e,n)}else t.current=null}function rw(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Ut(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&tc(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(J(163))}function ow(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var o=e;r=o.next,o=o.tag,(o&4)!==0&&(o&1)!==0&&(Dg(n,e),dw(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ut(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&Nh(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Nh(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&Km(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Pm(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(J(163))}function em(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,r.style.display=gm("display",o)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function tm(e,t){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(nc,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,o!==void 0)if((r&4)!==0)Dg(t,n);else{r=t;try{o()}catch(i){Un(r,i)}}n=n.next}while(n!==e)}break;case 1:if(Zh(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Un(t,i)}break;case 5:Zh(t);break;case 4:Og(e,t)}}function nm(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function rm(e){return e.tag===5||e.tag===3||e.tag===4}function om(e){e:{for(var t=e.return;t!==null;){if(rm(t))break e;t=t.return}throw Error(J(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(J(161))}n.flags&16&&(Mi(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||rm(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Ef(e,n,t):Cf(e,n,t)}function Ef(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hs));else if(r!==4&&(e=e.child,e!==null))for(Ef(e,t,n),e=e.sibling;e!==null;)Ef(e,t,n),e=e.sibling}function Cf(e,t,n){var r=e.tag,o=r===5||r===6;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cf(e,t,n),e=e.sibling;e!==null;)Cf(e,t,n),e=e.sibling}function Og(e,t){for(var n=t,r=!1,o,i;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(J(160));switch(o=r.stateNode,r.tag){case 5:i=!1;break e;case 3:o=o.containerInfo,i=!0;break e;case 4:o=o.containerInfo,i=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=e,u=n,d=u;;)if(tm(a,d),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===u)break e;for(;d.sibling===null;){if(d.return===null||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(a=o,u=n.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,i=!0,n.child.return=n,n=n.child;continue}}else if(tm(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Wl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var o=e!==null?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,i!==null){for(n[ms]=r,e==="input"&&r.type==="radio"&&r.name!=null&&dm(n,r),ef(e,o),t=ef(e,r),o=0;o<i.length;o+=2){var a=i[o],u=i[o+1];a==="style"?vm(n,u):a==="dangerouslySetInnerHTML"?mm(n,u):a==="children"?Mi(n,u):Nf(n,a,u,t)}switch(e){case"input":Yl(n,r);break;case"textarea":pm(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,i=r.value,i!=null?ao(n,!!r.multiple,i,!1):e!==!!r.multiple&&(r.defaultValue!=null?ao(n,!!r.multiple,r.defaultValue,!0):ao(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(J(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,Pm(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(vc=at(),em(t.child,!0)),im(t);return;case 19:im(t);return;case 17:return;case 23:case 24:em(t,t.memoizedState!==null);return}throw Error(J(163))}function im(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new nw),t.forEach(function(r){var o=mw.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function iw(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var aw=Math.ceil,As=mr.ReactCurrentDispatcher,mc=mr.ReactCurrentOwner,ce=0,ft=null,$e=null,st=0,pr=0,Of=zn(0),tt=0,Hs=null,Eo=0,Vi=0,Co=0,gc=0,Tf=null,vc=0,Rf=1/0;function Oo(){Rf=at()+500}var ee=null,Is=!1,Pf=null,Xt=null,Wn=!1,Ri=null,mi=90,Af=[],If=[],un=null,Pi=0,Mf=null,os=-1,on=0,is=0,Ai=null,as=!1;function St(){return(ce&48)!==0?at():os!==-1?os:os=at()}function _n(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return yo()===99?1:2;if(on===0&&(on=Eo),YS.transition!==0){is!==0&&(is=Tf!==null?Tf.pendingLanes:0),e=on;var t=4186112&~is;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=yo(),(ce&4)!==0&&e===98?e=ds(12,on):(e=X1(e),e=ds(e,on)),e}function Ln(e,t,n){if(50<Pi)throw Pi=0,Mf=null,Error(J(185));if(e=zs(e,t),e===null)return null;_s(e,t,n),e===ft&&(Co|=t,tt===4&&po(e,st));var r=yo();t===1?(ce&8)!==0&&(ce&48)===0?bf(e):(At(e,n),ce===0&&(Oo(),Zt())):((ce&4)===0||r!==98&&r!==99||(un===null?un=new Set([e]):un.add(e)),At(e,n)),Tf=e}function zs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function At(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Fn(a),d=1<<u,S=i[u];if(S===-1){if((d&r)===0||(d&o)!==0){S=t,qr(d);var y=Re;i[u]=10<=y?S+250:6<=y?S+5e3:-1}}else S<=t&&(e.expiredLanes|=d);a&=~d}if(r=Ni(e,e===ft?st:0),t=Re,r===0)n!==null&&(n!==Ll&&df(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==Ll&&df(n)}t===15?(n=bf.bind(null,e),rn===null?(rn=[n],rs=rc(js,ng)):rn.push(n),n=Ll):t===14?n=Bi(99,bf.bind(null,e)):(n=q1(t),n=Bi(n,Tg.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Tg(e){if(os=-1,is=on=0,(ce&48)!==0)throw Error(J(327));var t=e.callbackNode;if(Gn()&&e.callbackNode!==t)return null;var n=Ni(e,e===ft?st:0);if(n===0)return null;var r=n,o=ce;ce|=16;var i=Ig();(ft!==e||st!==r)&&(Oo(),ho(e,r));do try{lw();break}catch(u){Ag(e,u)}while(1);if(oc(),As.current=i,ce=o,$e!==null?r=0:(ft=null,st=0,r=tt),(Eo&Co)!==0)ho(e,0);else if(r!==0){if(r===2&&(ce|=64,e.hydrate&&(e.hydrate=!1,tc(e.containerInfo)),n=Nm(e),n!==0&&(r=gi(e,n))),r===1)throw t=Hs,ho(e,0),po(e,n),At(e,at()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(J(345));case 2:or(e);break;case 3:if(po(e,n),(n&62914560)===n&&(r=vc+500-at(),10<r)){if(Ni(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){St(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Rh(or.bind(null,e),r);break}or(e);break;case 4:if(po(e,n),(n&4186112)===n)break;for(r=e.eventTimes,o=-1;0<n;){var a=31-Fn(n);i=1<<a,a=r[a],a>o&&(o=a),n&=~i}if(n=o,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aw(n/1960))-n,10<n){e.timeoutHandle=Rh(or.bind(null,e),n);break}or(e);break;case 5:or(e);break;default:throw Error(J(329))}}return At(e,at()),e.callbackNode===t?Tg.bind(null,e):null}function po(e,t){for(t&=~gc,t&=~Co,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fn(t),r=1<<n;e[n]=-1,t&=~r}}function bf(e){if((ce&48)!==0)throw Error(J(327));if(Gn(),e===ft&&(e.expiredLanes&st)!==0){var t=st,n=gi(e,t);(Eo&Co)!==0&&(t=Ni(e,t),n=gi(e,t))}else t=Ni(e,0),n=gi(e,t);if(e.tag!==0&&n===2&&(ce|=64,e.hydrate&&(e.hydrate=!1,tc(e.containerInfo)),t=Nm(e),t!==0&&(n=gi(e,t))),n===1)throw n=Hs,ho(e,0),po(e,t),At(e,at()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e),At(e,at()),null}function sw(){if(un!==null){var e=un;un=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,At(t,at())})}Zt()}function Rg(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Oo(),Zt())}}function Pg(e,t){var n=ce;ce&=-2,ce|=8;try{return e(t)}finally{ce=n,ce===0&&(Oo(),Zt())}}function qa(e,t){_e(Of,pr),pr|=t,Eo|=t}function yc(){pr=Of.current,Ae(Of)}function ho(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,WS(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&gs();break;case 3:So(),Ae(gt),Ae(ut),uc();break;case 5:sc(r);break;case 4:So();break;case 13:Ae(Ne);break;case 19:Ae(Ne);break;case 10:ic(r);break;case 23:case 24:yc()}n=n.return}ft=e,$e=Hn(e.current,null),st=pr=Eo=t,tt=0,Hs=null,gc=Co=Vi=0}function Ag(e,t){do{var n=$e;try{if(oc(),Oi.current=Ps,Cs){for(var r=Ue.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Cs=!1}if(Hi=0,et=it=Ue=null,Ti=!1,mc.current=null,n===null||n.return===null){tt=1,Hs=t,$e=null;break}e:{var i=e,a=n.return,u=n,d=t;if(t=st,u.flags|=2048,u.firstEffect=u.lastEffect=null,d!==null&&typeof d=="object"&&typeof d.then=="function"){var S=d;if((u.mode&2)===0){var y=u.alternate;y?(u.updateQueue=y.updateQueue,u.memoizedState=y.memoizedState,u.lanes=y.lanes):(u.updateQueue=null,u.memoizedState=null)}var E=(Ne.current&1)!==0,l=a;do{var w;if(w=l.tag===13){var C=l.memoizedState;if(C!==null)w=C.dehydrated!==null;else{var O=l.memoizedProps;w=O.fallback===void 0?!1:O.unstable_avoidThisFallback!==!0?!0:!E}}if(w){var h=l.updateQueue;if(h===null){var m=new Set;m.add(S),l.updateQueue=m}else h.add(S);if((l.mode&2)===0){if(l.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var v=kn(-1,1);v.tag=2,Nn(u,v)}u.lanes|=1;break e}d=void 0,u=t;var s=i.pingCache;if(s===null?(s=i.pingCache=new tw,d=new Set,s.set(S,d)):(d=s.get(S),d===void 0&&(d=new Set,s.set(S,d))),!d.has(u)){d.add(u);var f=hw.bind(null,i,S,u);S.then(f,f)}l.flags|=4096,l.lanes=t;break e}l=l.return}while(l!==null);d=Error((io(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}tt!==5&&(tt=2),d=hc(d,u),l=a;do{switch(l.tag){case 3:i=d,l.flags|=4096,t&=-t,l.lanes|=t;var c=Eg(l,i,t);kh(l,c);break e;case 1:i=d;var g=l.type,p=l.stateNode;if((l.flags&64)===0&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xt===null||!Xt.has(p)))){l.flags|=4096,t&=-t,l.lanes|=t;var x=Cg(l,i,t);kh(l,x);break e}}l=l.return}while(l!==null)}bg(n)}catch(T){t=T,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function Ig(){var e=As.current;return As.current=Ps,e===null?Ps:e}function gi(e,t){var n=ce;ce|=16;var r=Ig();ft===e&&st===t||ho(e,t);do try{uw();break}catch(o){Ag(e,o)}while(1);if(oc(),ce=n,As.current=r,$e!==null)throw Error(J(261));return ft=null,st=0,tt}function uw(){for(;$e!==null;)Mg($e)}function lw(){for(;$e!==null&&!GS();)Mg($e)}function Mg(e){var t=kg(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?bg(e):$e=t,mc.current=null}function bg(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)===0){if(n=ZS(n,t,pr),n!==null){$e=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(pr&1073741824)!==0||(n.mode&4)===0){for(var r=0,o=n.child;o!==null;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=ew(t),n!==null){n.flags&=2047,$e=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);tt===0&&(tt=5)}function or(e){var t=yo();return dr(99,fw.bind(null,e,t)),null}function fw(e,t){do Gn();while(Ri!==null);if((ce&48)!==0)throw Error(J(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<i;){var d=31-Fn(i),S=1<<d;o[d]=0,a[d]=-1,u[d]=-1,i&=~S}if(un!==null&&(r&24)===0&&un.has(e)&&un.delete(e),e===ft&&($e=ft=null,st=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(o=ce,ce|=32,mc.current=null,kl=Za,a=wh(),sf(a)){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(S=u.getSelection&&u.getSelection())&&S.rangeCount!==0){u=S.anchorNode,i=S.anchorOffset,d=S.focusNode,S=S.focusOffset;try{u.nodeType,d.nodeType}catch{u=null;break e}var y=0,E=-1,l=-1,w=0,C=0,O=a,h=null;t:for(;;){for(var m;O!==u||i!==0&&O.nodeType!==3||(E=y+i),O!==d||S!==0&&O.nodeType!==3||(l=y+S),O.nodeType===3&&(y+=O.nodeValue.length),(m=O.firstChild)!==null;)h=O,O=m;for(;;){if(O===a)break t;if(h===u&&++w===i&&(E=y),h===d&&++C===S&&(l=y),(m=O.nextSibling)!==null)break;O=h,h=O.parentNode}O=m}u=E===-1||l===-1?null:{start:E,end:l}}else u=null;u=u||{start:0,end:0}}else u=null;Nl={focusedElem:a,selectionRange:u},Za=!1,Ai=null,as=!1,ee=r;do try{cw()}catch(T){if(ee===null)throw Error(J(330));Un(ee,T),ee=ee.nextEffect}while(ee!==null);Ai=null,ee=r;do try{for(a=e;ee!==null;){var v=ee.flags;if(v&16&&Mi(ee.stateNode,""),v&128){var s=ee.alternate;if(s!==null){var f=s.ref;f!==null&&(typeof f=="function"?f(null):f.current=null)}}switch(v&1038){case 2:om(ee),ee.flags&=-3;break;case 6:om(ee),ee.flags&=-3,Wl(ee.alternate,ee);break;case 1024:ee.flags&=-1025;break;case 1028:ee.flags&=-1025,Wl(ee.alternate,ee);break;case 4:Wl(ee.alternate,ee);break;case 8:u=ee,Og(a,u);var c=u.alternate;nm(u),c!==null&&nm(c)}ee=ee.nextEffect}}catch(T){if(ee===null)throw Error(J(330));Un(ee,T),ee=ee.nextEffect}while(ee!==null);if(f=Nl,s=wh(),v=f.focusedElem,a=f.selectionRange,s!==v&&v&&v.ownerDocument&&Hm(v.ownerDocument.documentElement,v)){for(a!==null&&sf(v)&&(s=a.start,f=a.end,f===void 0&&(f=s),"selectionStart"in v?(v.selectionStart=s,v.selectionEnd=Math.min(f,v.value.length)):(f=(s=v.ownerDocument||document)&&s.defaultView||window,f.getSelection&&(f=f.getSelection(),u=v.textContent.length,c=Math.min(a.start,u),a=a.end===void 0?c:Math.min(a.end,u),!f.extend&&c>a&&(u=a,a=c,c=u),u=Sh(v,c),i=Sh(v,a),u&&i&&(f.rangeCount!==1||f.anchorNode!==u.node||f.anchorOffset!==u.offset||f.focusNode!==i.node||f.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(u.node,u.offset),f.removeAllRanges(),c>a?(f.addRange(s),f.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),f.addRange(s)))))),s=[],f=v;f=f.parentNode;)f.nodeType===1&&s.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<s.length;v++)f=s[v],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}Za=!!kl,Nl=kl=null,e.current=n,ee=r;do try{for(v=e;ee!==null;){var g=ee.flags;if(g&36&&ow(v,ee.alternate,ee),g&128){s=void 0;var p=ee.ref;if(p!==null){var x=ee.stateNode;switch(ee.tag){case 5:s=x;break;default:s=x}typeof p=="function"?p(s):p.current=s}}ee=ee.nextEffect}}catch(T){if(ee===null)throw Error(J(330));Un(ee,T),ee=ee.nextEffect}while(ee!==null);ee=null,VS(),ce=o}else e.current=n;if(Wn)Wn=!1,Ri=e,mi=t;else for(ee=r;ee!==null;)t=ee.nextEffect,ee.nextEffect=null,ee.flags&8&&(g=ee,g.sibling=null,g.stateNode=null),ee=t;if(r=e.pendingLanes,r===0&&(Xt=null),r===1?e===Mf?Pi++:(Pi=0,Mf=e):Pi=0,n=n.stateNode,fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(nc,n,void 0,(n.current.flags&64)===64)}catch{}if(At(e,at()),Is)throw Is=!1,e=Pf,Pf=null,e;return(ce&8)!==0||Zt(),null}function cw(){for(;ee!==null;){var e=ee.alternate;as||Ai===null||((ee.flags&8)!==0?ah(ee,Ai)&&(as=!0):ee.tag===13&&iw(e,ee)&&ah(ee,Ai)&&(as=!0));var t=ee.flags;(t&256)!==0&&rw(e,ee),(t&512)===0||Wn||(Wn=!0,Bi(97,function(){return Gn(),null})),ee=ee.nextEffect}}function Gn(){if(mi!==90){var e=97<mi?97:mi;return mi=90,dr(e,pw)}return!1}function dw(e,t){Af.push(t,e),Wn||(Wn=!0,Bi(97,function(){return Gn(),null}))}function Dg(e,t){If.push(t,e),Wn||(Wn=!0,Bi(97,function(){return Gn(),null}))}function pw(){if(Ri===null)return!1;var e=Ri;if(Ri=null,(ce&48)!==0)throw Error(J(331));var t=ce;ce|=32;var n=If;If=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],a=o.destroy;if(o.destroy=void 0,typeof a=="function")try{a()}catch(d){if(i===null)throw Error(J(330));Un(i,d)}}for(n=Af,Af=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var u=o.create;o.destroy=u()}catch(d){if(i===null)throw Error(J(330));Un(i,d)}}for(u=e.current.firstEffect;u!==null;)e=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=e;return ce=t,Zt(),!0}function am(e,t,n){t=hc(n,t),t=Eg(e,t,1),Nn(e,t),t=St(),e=zs(e,1),e!==null&&(_s(e,1,t),At(e,t))}function Un(e,t){if(e.tag===3)am(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){am(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){e=hc(t,e);var o=Cg(n,e,1);if(Nn(n,o),o=St(),n=zs(n,1),n!==null)_s(n,1,o),At(n,o);else if(typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function hw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(st&n)===n&&(tt===4||tt===3&&(st&62914560)===st&&500>at()-vc?ho(e,0):gc|=n),At(e,t)}function mw(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=yo()===99?1:2:(on===0&&(on=Eo),t=Jr(62914560&~on),t===0&&(t=4194304))),n=St(),e=zs(e,t),e!==null&&(_s(e,t,n),At(e,n))}var kg;kg=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)Bt=!0;else if((n&r)!==0)Bt=(e.flags&16384)!==0;else{switch(Bt=!1,t.tag){case 3:Vh(t),Bl();break;case 5:Uh(t);break;case 1:vt(t.type)&&ns(t);break;case 4:mf(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;_e(vs,o._currentValue),o._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!==0?Yh(e,t,n):(_e(Ne,Ne.current&1),t=sn(e,t,n),t!==null?t.sibling:null);_e(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&64)!==0){if(r)return Jh(e,t,n);t.flags|=64}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),_e(Ne,Ne.current),r)break;return null;case 23:case 24:return t.lanes=0,Fl(e,t,n)}return sn(e,t,n)}else Bt=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=vo(t,ut.current),fo(t,n),o=fc(null,t,r,e,o,n),t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)){var i=!0;ns(t)}else i=!1;t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ac(t);var a=r.getDerivedStateFromProps;typeof a=="function"&&ws(t,r,a,e),o.updater=Ws,t.stateNode=o,o._reactInternals=t,hf(t,r,e,n),t=Sf(null,t,r,!0,i,n)}else t.tag=0,mt(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=vw(o),e=Ut(o,e),i){case 0:t=yf(null,t,o,e,n);break e;case 1:t=$h(null,t,o,e,n);break e;case 11:t=zh(null,t,o,e,n);break e;case 14:t=Gh(null,t,o,Ut(o.type,e),r,n);break e}throw Error(J(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ut(r,o),yf(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ut(r,o),$h(e,t,r,o,n);case 3:if(Vh(t),r=t.updateQueue,e===null||r===null)throw Error(J(282));if(r=t.pendingProps,o=t.memoizedState,o=o!==null?o.element:null,og(e,t),Fi(t,r,null,n),r=t.memoizedState.element,r===o)Bl(),t=sn(e,t,n);else{if(o=t.stateNode,(i=o.hydrate)&&(In=lo(t.stateNode.containerInfo.firstChild),an=t,i=Jt=!0),i){if(e=o.mutableSourceEagerHydrationData,e!=null)for(o=0;o<e.length;o+=2)i=e[o],i._workInProgressVersionPrimary=e[o+1],co.push(i);for(n=ug(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else mt(e,t,r,n),Bl();t=t.child}return t;case 5:return Uh(t),e===null&&gf(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,ff(r,o)?a=null:i!==null&&ff(r,i)&&(t.flags|=16),yg(e,t),mt(e,t,a,n),t.child;case 6:return e===null&&gf(t),null;case 13:return Yh(e,t,n);case 4:return mf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xs(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ut(r,o),zh(e,t,r,o,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value;var u=t.type._context;if(_e(vs,u._currentValue),u._currentValue=i,a!==null)if(u=a.value,i=Ot(u,i)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,i):1073741823)|0,i===0){if(a.children===o.children&&!gt.current){t=sn(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var d=u.dependencies;if(d!==null){a=u.child;for(var S=d.firstContext;S!==null;){if(S.context===r&&(S.observedBits&i)!==0){u.tag===1&&(S=kn(-1,n&-n),S.tag=2,Nn(u,S)),u.lanes|=n,S=u.alternate,S!==null&&(S.lanes|=n),rg(u.return,n),d.lanes|=n;break}S=S.next}}else a=u.tag===10&&u.type===t.type?null:u.child;if(a!==null)a.return=u;else for(a=u;a!==null;){if(a===t){a=null;break}if(u=a.sibling,u!==null){u.return=a.return,a=u;break}a=a.return}u=a}mt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps,r=i.children,fo(t,n),o=Pt(o,i.unstable_observedBits),r=r(o),t.flags|=1,mt(e,t,r,n),t.child;case 14:return o=t.type,i=Ut(o,t.pendingProps),i=Ut(o.type,i),Gh(e,t,o,i,r,n);case 15:return vg(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ut(r,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vt(r)?(e=!0,ns(t)):e=!1,fo(t,n),ag(t,r,o),hf(t,r,o,n),Sf(null,t,r,!0,e,n);case 19:return Jh(e,t,n);case 23:return Fl(e,t,n);case 24:return Fl(e,t,n)}throw Error(J(156,t.tag))};function gw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new gw(e,t,n,r)}function Sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vw(e){if(typeof e=="function")return Sc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ds)return 11;if(e===ks)return 14}return 2}function Hn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ss(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")Sc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Rn:return mo(n.children,o,i,t);case lm:a=8,o|=16;break;case _f:a=8,o|=1;break;case vi:return e=Tt(12,n,t,o|8),e.elementType=vi,e.type=vi,e.lanes=i,e;case yi:return e=Tt(13,n,t,o),e.type=yi,e.elementType=yi,e.lanes=i,e;case us:return e=Tt(19,n,t,o),e.elementType=us,e.lanes=i,e;case Wf:return wc(n,o,i,t);case $l:return e=Tt(24,n,t,o),e.elementType=$l,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lf:a=10;break e;case Uf:a=9;break e;case Ds:a=11;break e;case ks:a=14;break e;case Bf:a=16,r=null;break e;case Ff:a=22;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Tt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function mo(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function wc(e,t,n,r){return e=Tt(23,e,r,t),e.elementType=Wf,e.lanes=n,e}function Hl(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function zl(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yw(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.mutableSourceEagerHydrationData=null}function Sw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ms(e,t,n,r){var o=t.current,i=St(),a=_n(o);e:if(n){n=n._reactInternals;t:{if(gr(n)!==n||n.tag!==1)throw Error(J(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(J(171))}if(n.tag===1){var d=n.type;if(vt(d)){n=Xm(n,d,u);break e}}n=u}else n=jn;return t.context===null?t.context=n:t.pendingContext=n,t=kn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),Nn(o,t),Ln(o,a,i),a}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xc(e,t){sm(e,t),(e=e.alternate)&&sm(e,t)}function ww(){return null}function Ec(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new yw(e,t,n!=null&&n.hydrate===!0),t=Tt(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,ac(t),e[xo]=n.current,$m(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var o=t._getVersion;o=o(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}Ec.prototype.render=function(e){Ms(e,this._internalRoot,null,null)};Ec.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ms(null,e,null,function(){t[xo]=null})};function Yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xw(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ec(e,0,t?{hydrate:!0}:void 0)}function Gs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if(typeof o=="function"){var u=o;o=function(){var S=Gl(a);u.call(S)}}Ms(t,a,e,o)}else{if(i=n._reactRootContainer=xw(n,r),a=i._internalRoot,typeof o=="function"){var d=o;o=function(){var S=Gl(a);d.call(S)}}Pg(function(){Ms(t,a,e,o)})}return Gl(a)}Om=function(e){if(e.tag===13){var t=St();Ln(e,4,t),xc(e,4)}};Vf=function(e){if(e.tag===13){var t=St();Ln(e,67108864,t),xc(e,67108864)}};Tm=function(e){if(e.tag===13){var t=St(),n=_n(e);Ln(e,n,t),xc(e,n)}};Rm=function(e,t){return t()};tf=function(e,t,n){switch(t){case"input":if(Yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Fs(r);if(!o)throw Error(J(90));cm(r),Yl(r,o)}}}break;case"textarea":pm(e,n);break;case"select":t=n.value,t!=null&&ao(e,!!n.multiple,t,!1)}};zf=Rg;wm=function(e,t,n,r,o){var i=ce;ce|=4;try{return dr(98,e.bind(null,t,n,r,o))}finally{ce=i,ce===0&&(Oo(),Zt())}};Gf=function(){(ce&49)===0&&(sw(),Gn())};xm=function(e,t){var n=ce;ce|=2;try{return e(t)}finally{ce=n,ce===0&&(Oo(),Zt())}};function Ng(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yi(t))throw Error(J(200));return Sw(e,t,null,n)}var Ew={Events:[Gi,no,Fs,ym,Sm,Gn,{current:!1}]},fi={findFiberByHostInstance:sr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Cw={bundleType:fi.bundleType,version:fi.version,rendererPackageName:fi.rendererPackageName,rendererConfig:fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cm(e),e===null?null:e.stateNode},findFiberByHostInstance:fi.findFiberByHostInstance||ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ci=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ci.isDisabled&&ci.supportsFiber))try{nc=ci.inject(Cw),fr=ci}catch{}var ci;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ew;It.createPortal=Ng;It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):Error(J(268,Object.keys(e)));return e=Cm(t),e=e===null?null:e.stateNode,e};It.flushSync=function(e,t){var n=ce;if((n&48)!==0)return e(t);ce|=1;try{if(e)return dr(99,e.bind(null,t))}finally{ce=n,Zt()}};It.hydrate=function(e,t,n){if(!Yi(t))throw Error(J(200));return Gs(null,e,t,!0,n)};It.render=function(e,t,n){if(!Yi(t))throw Error(J(200));return Gs(null,e,t,!1,n)};It.unmountComponentAtNode=function(e){if(!Yi(e))throw Error(J(40));return e._reactRootContainer?(Pg(function(){Gs(null,null,e,!1,function(){e._reactRootContainer=null,e[xo]=null})}),!0):!1};It.unstable_batchedUpdates=Rg;It.unstable_createPortal=function(e,t){return Ng(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};It.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yi(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Gs(e,t,n,!1,r)};It.version="17.0.2"});var To=Ze((dA,Ug)=>{"use strict";N();function Lg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lg)}catch(e){console.error(e)}}Lg(),Ug.exports=_g()});var vv=Ze((Ki,Po)=>{N();var Ow=200,Tw="Expected a function",Dc="__lodash_hash_undefined__",Js=1,Ao=2,Yg=1/0,Kg=9007199254740991,$s="[object Arguments]",Tc="[object Array]",Qg="[object Boolean]",Xg="[object Date]",qg="[object Error]",Jg="[object Function]",Rw="[object GeneratorFunction]",Vs="[object Map]",Zg="[object Number]",Ro="[object Object]",Bg="[object Promise]",ev="[object RegExp]",Ys="[object Set]",tv="[object String]",nv="[object Symbol]",Rc="[object WeakMap]",rv="[object ArrayBuffer]",Ks="[object DataView]",Pw="[object Float32Array]",Aw="[object Float64Array]",Iw="[object Int8Array]",Mw="[object Int16Array]",bw="[object Int32Array]",Dw="[object Uint8Array]",kw="[object Uint8ClampedArray]",Nw="[object Uint16Array]",_w="[object Uint32Array]",Lw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Uw=/^\w*$/,Bw=/^\./,Fw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jw=/[\\^$.*+?()[\]{}|]/g,Ww=/\\(\\)?/g,Hw=/^\[object .+?Constructor\]$/,zw=/^(?:0|[1-9]\d*)$/,Ie={};Ie[Pw]=Ie[Aw]=Ie[Iw]=Ie[Mw]=Ie[bw]=Ie[Dw]=Ie[kw]=Ie[Nw]=Ie[_w]=!0;Ie[$s]=Ie[Tc]=Ie[rv]=Ie[Qg]=Ie[Ks]=Ie[Xg]=Ie[qg]=Ie[Jg]=Ie[Vs]=Ie[Zg]=Ie[Ro]=Ie[ev]=Ie[Ys]=Ie[tv]=Ie[Rc]=!1;var ov=typeof global=="object"&&global&&global.Object===Object&&global,Gw=typeof self=="object"&&self&&self.Object===Object&&self,Vn=ov||Gw||Function("return this")(),iv=typeof Ki=="object"&&Ki&&!Ki.nodeType&&Ki,Fg=iv&&typeof Po=="object"&&Po&&!Po.nodeType&&Po,$w=Fg&&Fg.exports===iv,jg=$w&&ov.process,Wg=function(){try{return jg&&jg.binding("util")}catch{}}(),Hg=Wg&&Wg.isTypedArray;function Vw(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function Yw(e){return function(t){return t==null?void 0:t[e]}}function Kw(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qw(e){return function(t){return e(t)}}function Xw(e,t){return e==null?void 0:e[t]}function Pc(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function qw(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function Jw(e,t){return function(n){return e(t(n))}}function Zw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ex=Array.prototype,tx=Function.prototype,Zs=Object.prototype,Cc=Vn["__core-js_shared__"],zg=function(){var e=/[^.]+$/.exec(Cc&&Cc.keys&&Cc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),av=tx.toString,cn=Zs.hasOwnProperty,Io=Zs.toString,nx=RegExp("^"+av.call(cn).replace(jw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gg=Vn.Symbol,$g=Vn.Uint8Array,rx=Zs.propertyIsEnumerable,ox=ex.splice,ix=Jw(Object.keys,Object),Ac=Mo(Vn,"DataView"),Qi=Mo(Vn,"Map"),Ic=Mo(Vn,"Promise"),Mc=Mo(Vn,"Set"),bc=Mo(Vn,"WeakMap"),Xi=Mo(Object,"create"),ax=wr(Ac),sx=wr(Qi),ux=wr(Ic),lx=wr(Mc),fx=wr(bc),Qs=Gg?Gg.prototype:void 0,Oc=Qs?Qs.valueOf:void 0,Vg=Qs?Qs.toString:void 0;function yr(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function cx(){this.__data__=Xi?Xi(null):{}}function dx(e){return this.has(e)&&delete this.__data__[e]}function px(e){var t=this.__data__;if(Xi){var n=t[e];return n===Dc?void 0:n}return cn.call(t,e)?t[e]:void 0}function hx(e){var t=this.__data__;return Xi?t[e]!==void 0:cn.call(t,e)}function mx(e,t){var n=this.__data__;return n[e]=Xi&&t===void 0?Dc:t,this}yr.prototype.clear=cx;yr.prototype.delete=dx;yr.prototype.get=px;yr.prototype.has=hx;yr.prototype.set=mx;function dn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function gx(){this.__data__=[]}function vx(e){var t=this.__data__,n=eu(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ox.call(t,n,1),!0}function yx(e){var t=this.__data__,n=eu(t,e);return n<0?void 0:t[n][1]}function Sx(e){return eu(this.__data__,e)>-1}function wx(e,t){var n=this.__data__,r=eu(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}dn.prototype.clear=gx;dn.prototype.delete=vx;dn.prototype.get=yx;dn.prototype.has=Sx;dn.prototype.set=wx;function pn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xx(){this.__data__={hash:new yr,map:new(Qi||dn),string:new yr}}function Ex(e){return tu(this,e).delete(e)}function Cx(e){return tu(this,e).get(e)}function Ox(e){return tu(this,e).has(e)}function Tx(e,t){return tu(this,e).set(e,t),this}pn.prototype.clear=xx;pn.prototype.delete=Ex;pn.prototype.get=Cx;pn.prototype.has=Ox;pn.prototype.set=Tx;function Xs(e){var t=-1,n=e?e.length:0;for(this.__data__=new pn;++t<n;)this.add(e[t])}function Rx(e){return this.__data__.set(e,Dc),this}function Px(e){return this.__data__.has(e)}Xs.prototype.add=Xs.prototype.push=Rx;Xs.prototype.has=Px;function fn(e){this.__data__=new dn(e)}function Ax(){this.__data__=new dn}function Ix(e){return this.__data__.delete(e)}function Mx(e){return this.__data__.get(e)}function bx(e){return this.__data__.has(e)}function Dx(e,t){var n=this.__data__;if(n instanceof dn){var r=n.__data__;if(!Qi||r.length<Ow-1)return r.push([e,t]),this;n=this.__data__=new pn(r)}return n.set(e,t),this}fn.prototype.clear=Ax;fn.prototype.delete=Ix;fn.prototype.get=Mx;fn.prototype.has=bx;fn.prototype.set=Dx;function kx(e,t){var n=Sr(e)||hv(e)?Kw(e.length,String):[],r=n.length,o=!!r;for(var i in e)(t||cn.call(e,i))&&!(o&&(i=="length"||fv(i,r)))&&n.push(i);return n}function eu(e,t){for(var n=e.length;n--;)if(pv(e[n][0],t))return n;return-1}var Nx=Kx();function _x(e,t){return e&&Nx(e,t,qs)}function sv(e,t){t=nu(t,e)?[t]:uv(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ru(t[n++])];return n&&n==r?e:void 0}function Lx(e){return Io.call(e)}function Ux(e,t){return e!=null&&t in Object(e)}function kc(e,t,n,r,o){return e===t?!0:e==null||t==null||!ou(e)&&!iu(t)?e!==e&&t!==t:Bx(e,t,kc,n,r,o)}function Bx(e,t,n,r,o,i){var a=Sr(e),u=Sr(t),d=Tc,S=Tc;a||(d=$n(e),d=d==$s?Ro:d),u||(S=$n(t),S=S==$s?Ro:S);var y=d==Ro&&!Pc(e),E=S==Ro&&!Pc(t),l=d==S;if(l&&!y)return i||(i=new fn),a||oE(e)?lv(e,t,n,r,o,i):Qx(e,t,d,n,r,o,i);if(!(o&Ao)){var w=y&&cn.call(e,"__wrapped__"),C=E&&cn.call(t,"__wrapped__");if(w||C){var O=w?e.value():e,h=C?t.value():t;return i||(i=new fn),n(O,h,r,o,i)}}return l?(i||(i=new fn),Xx(e,t,n,r,o,i)):!1}function Fx(e,t,n,r){var o=n.length,i=o,a=!r;if(e==null)return!i;for(e=Object(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){u=n[o];var d=u[0],S=e[d],y=u[1];if(a&&u[2]){if(S===void 0&&!(d in e))return!1}else{var E=new fn;if(r)var l=r(S,y,d,e,t,E);if(!(l===void 0?kc(y,S,r,Js|Ao,E):l))return!1}}return!0}function jx(e){if(!ou(e)||eE(e))return!1;var t=gv(e)||Pc(e)?nx:Hw;return t.test(wr(e))}function Wx(e){return iu(e)&&_c(e.length)&&!!Ie[Io.call(e)]}function Hx(e){return typeof e=="function"?e:e==null?lE:typeof e=="object"?Sr(e)?$x(e[0],e[1]):Gx(e):fE(e)}function zx(e){if(!tE(e))return ix(e);var t=[];for(var n in Object(e))cn.call(e,n)&&n!="constructor"&&t.push(n);return t}function Gx(e){var t=qx(e);return t.length==1&&t[0][2]?dv(t[0][0],t[0][1]):function(n){return n===e||Fx(n,e,t)}}function $x(e,t){return nu(e)&&cv(t)?dv(ru(e),t):function(n){var r=aE(n,e);return r===void 0&&r===t?sE(n,e):kc(t,r,void 0,Js|Ao)}}function Vx(e){return function(t){return sv(t,e)}}function Yx(e){if(typeof e=="string")return e;if(Lc(e))return Vg?Vg.call(e):"";var t=e+"";return t=="0"&&1/e==-Yg?"-0":t}function uv(e){return Sr(e)?e:nE(e)}function Kx(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var d=a[e?u:++o];if(n(i[d],d,i)===!1)break}return t}}function lv(e,t,n,r,o,i){var a=o&Ao,u=e.length,d=t.length;if(u!=d&&!(a&&d>u))return!1;var S=i.get(e);if(S&&i.get(t))return S==t;var y=-1,E=!0,l=o&Js?new Xs:void 0;for(i.set(e,t),i.set(t,e);++y<u;){var w=e[y],C=t[y];if(r)var O=a?r(C,w,y,t,e,i):r(w,C,y,e,t,i);if(O!==void 0){if(O)continue;E=!1;break}if(l){if(!Vw(t,function(h,m){if(!l.has(m)&&(w===h||n(w,h,r,o,i)))return l.add(m)})){E=!1;break}}else if(!(w===C||n(w,C,r,o,i))){E=!1;break}}return i.delete(e),i.delete(t),E}function Qx(e,t,n,r,o,i,a){switch(n){case Ks:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rv:return!(e.byteLength!=t.byteLength||!r(new $g(e),new $g(t)));case Qg:case Xg:case Zg:return pv(+e,+t);case qg:return e.name==t.name&&e.message==t.message;case ev:case tv:return e==t+"";case Vs:var u=qw;case Ys:var d=i&Ao;if(u||(u=Zw),e.size!=t.size&&!d)return!1;var S=a.get(e);if(S)return S==t;i|=Js,a.set(e,t);var y=lv(u(e),u(t),r,o,i,a);return a.delete(e),y;case nv:if(Oc)return Oc.call(e)==Oc.call(t)}return!1}function Xx(e,t,n,r,o,i){var a=o&Ao,u=qs(e),d=u.length,S=qs(t),y=S.length;if(d!=y&&!a)return!1;for(var E=d;E--;){var l=u[E];if(!(a?l in t:cn.call(t,l)))return!1}var w=i.get(e);if(w&&i.get(t))return w==t;var C=!0;i.set(e,t),i.set(t,e);for(var O=a;++E<d;){l=u[E];var h=e[l],m=t[l];if(r)var v=a?r(m,h,l,t,e,i):r(h,m,l,e,t,i);if(!(v===void 0?h===m||n(h,m,r,o,i):v)){C=!1;break}O||(O=l=="constructor")}if(C&&!O){var s=e.constructor,f=t.constructor;s!=f&&"constructor"in e&&"constructor"in t&&!(typeof s=="function"&&s instanceof s&&typeof f=="function"&&f instanceof f)&&(C=!1)}return i.delete(e),i.delete(t),C}function tu(e,t){var n=e.__data__;return Zx(t)?n[typeof t=="string"?"string":"hash"]:n.map}function qx(e){for(var t=qs(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,cv(o)]}return t}function Mo(e,t){var n=Xw(e,t);return jx(n)?n:void 0}var $n=Lx;(Ac&&$n(new Ac(new ArrayBuffer(1)))!=Ks||Qi&&$n(new Qi)!=Vs||Ic&&$n(Ic.resolve())!=Bg||Mc&&$n(new Mc)!=Ys||bc&&$n(new bc)!=Rc)&&($n=function(e){var t=Io.call(e),n=t==Ro?e.constructor:void 0,r=n?wr(n):void 0;if(r)switch(r){case ax:return Ks;case sx:return Vs;case ux:return Bg;case lx:return Ys;case fx:return Rc}return t});function Jx(e,t,n){t=nu(t,e)?[t]:uv(t);for(var r,o=-1,a=t.length;++o<a;){var i=ru(t[o]);if(!(r=e!=null&&n(e,i)))break;e=e[i]}if(r)return r;var a=e?e.length:0;return!!a&&_c(a)&&fv(i,a)&&(Sr(e)||hv(e))}function fv(e,t){return t=t??Kg,!!t&&(typeof e=="number"||zw.test(e))&&e>-1&&e%1==0&&e<t}function nu(e,t){if(Sr(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Lc(e)?!0:Uw.test(e)||!Lw.test(e)||t!=null&&e in Object(t)}function Zx(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function eE(e){return!!zg&&zg in e}function tE(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Zs;return e===n}function cv(e){return e===e&&!ou(e)}function dv(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var nE=Nc(function(e){e=iE(e);var t=[];return Bw.test(e)&&t.push(""),e.replace(Fw,function(n,r,o,i){t.push(o?i.replace(Ww,"$1"):r||n)}),t});function ru(e){if(typeof e=="string"||Lc(e))return e;var t=e+"";return t=="0"&&1/e==-Yg?"-0":t}function wr(e){if(e!=null){try{return av.call(e)}catch{}try{return e+""}catch{}}return""}function Nc(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(Tw);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(Nc.Cache||pn),n}Nc.Cache=pn;function pv(e,t){return e===t||e!==e&&t!==t}function hv(e){return rE(e)&&cn.call(e,"callee")&&(!rx.call(e,"callee")||Io.call(e)==$s)}var Sr=Array.isArray;function mv(e){return e!=null&&_c(e.length)&&!gv(e)}function rE(e){return iu(e)&&mv(e)}function gv(e){var t=ou(e)?Io.call(e):"";return t==Jg||t==Rw}function _c(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Kg}function ou(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function iu(e){return!!e&&typeof e=="object"}function Lc(e){return typeof e=="symbol"||iu(e)&&Io.call(e)==nv}var oE=Hg?Qw(Hg):Wx;function iE(e){return e==null?"":Yx(e)}function aE(e,t,n){var r=e==null?void 0:sv(e,t);return r===void 0?n:r}function sE(e,t){return e!=null&&Jx(e,t,Ux)}function qs(e){return mv(e)?kx(e):zx(e)}function uE(e,t){var n={};return t=Hx(t,3),_x(e,function(r,o,i){n[t(r,o,i)]=r}),n}function lE(e){return e}function fE(e){return nu(e)?Yw(ru(e)):Vx(e)}Po.exports=uE});var yv=Ze((au,Uc)=>{N();(function(t,n){typeof au=="object"&&typeof Uc=="object"?Uc.exports=n():typeof define=="function"&&define.amd?define([],n):typeof au=="object"?au.Ably=n():t.Ably=n()})(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(r,o,i){n.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:i})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,o){if(o&1&&(r=n(r)),o&8||o&4&&typeof r=="object"&&r&&r.__esModule)return r;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),o&2&&typeof r!="string")for(var a in r)n.d(i,a,function(u){return r[u]}.bind(null,a));return i},n.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(o,"a",o),o},n.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},n.p="",n(n.s=42)}([function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=n(1),i=o.__importDefault(n(3)),a=r||window,u;(function(l){l[l.None=0]="None",l[l.Error=1]="Error",l[l.Major=2]="Major",l[l.Minor=3]="Minor",l[l.Micro=4]="Micro"})(u||(u={}));function d(l,w){return(""+l).padStart(w?3:2,"0")}function S(l){return i.default.Config.logTimestamps?function(w){var C=new Date;l(d(C.getHours())+":"+d(C.getMinutes())+":"+d(C.getSeconds())+"."+d(C.getMilliseconds(),1)+" "+w)}:l}var y=function(){var l,w,C,O;return typeof Window>"u"&&typeof WorkerGlobalScope>"u"||typeof((w=(l=a==null?void 0:a.console)===null||l===void 0?void 0:l.log)===null||w===void 0?void 0:w.apply)=="function"?(C=function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];console.log.apply(console,h)},O=console.warn?function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];console.warn.apply(console,h)}:C):a!=null&&a.console.log?C=O=function(){Function.prototype.apply.call(console.log,console,arguments)}:C=O=function(){},[C,O].map(S)},E=function(){function l(){l.logLevel=l.LOG_DEFAULT}return l.initLogHandlers=function(){var w=y(),C=w[0],O=w[1];this.logHandler=C,this.logErrorHandler=O},l.logLevel=u.Error,l.LOG_NONE=u.None,l.LOG_ERROR=u.Error,l.LOG_MAJOR=u.Major,l.LOG_MINOR=u.Minor,l.LOG_MICRO=u.Micro,l.LOG_DEFAULT=u.Error,l.LOG_DEBUG=u.Micro,l.logAction=function(w,C,O){l.shouldLog(w)&&(w===u.Error?l.logErrorHandler:l.logHandler)("Ably: "+C+": "+O)},l.deprecated=function(w,C){l.deprecatedWithMsg(w,"Please use '"+C+"' instead.")},l.deprecatedWithMsg=function(w,C){l.shouldLog(u.Error)&&l.logErrorHandler("Ably: Deprecation warning - '"+w+"' is deprecated and will be removed from a future version. "+C)},l.shouldLog=function(w){return w<=l.logLevel},l.setLog=function(w,C){w!==void 0&&(l.logLevel=w),C!==void 0&&(l.logHandler=l.logErrorHandler=C)},l}();t.default=E}).call(this,n(10))},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return o}),n.d(t,"__assign",function(){return i}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return u}),n.d(t,"__param",function(){return d}),n.d(t,"__metadata",function(){return S}),n.d(t,"__awaiter",function(){return y}),n.d(t,"__generator",function(){return E}),n.d(t,"__createBinding",function(){return l}),n.d(t,"__exportStar",function(){return w}),n.d(t,"__values",function(){return C}),n.d(t,"__read",function(){return O}),n.d(t,"__spread",function(){return h}),n.d(t,"__spreadArrays",function(){return m}),n.d(t,"__spreadArray",function(){return v}),n.d(t,"__await",function(){return s}),n.d(t,"__asyncGenerator",function(){return f}),n.d(t,"__asyncDelegator",function(){return c}),n.d(t,"__asyncValues",function(){return g}),n.d(t,"__makeTemplateObject",function(){return p}),n.d(t,"__importStar",function(){return T}),n.d(t,"__importDefault",function(){return A}),n.d(t,"__classPrivateFieldGet",function(){return k}),n.d(t,"__classPrivateFieldSet",function(){return D});var r=function(M,R){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,B){I.__proto__=B}||function(I,B){for(var L in B)Object.prototype.hasOwnProperty.call(B,L)&&(I[L]=B[L])},r(M,R)};function o(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");r(M,R);function I(){this.constructor=M}M.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)}var i=function(){return i=Object.assign||function(R){for(var I,B=1,L=arguments.length;B<L;B++){I=arguments[B];for(var W in I)Object.prototype.hasOwnProperty.call(I,W)&&(R[W]=I[W])}return R},i.apply(this,arguments)};function a(M,R){var I={};for(var B in M)Object.prototype.hasOwnProperty.call(M,B)&&R.indexOf(B)<0&&(I[B]=M[B]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,B=Object.getOwnPropertySymbols(M);L<B.length;L++)R.indexOf(B[L])<0&&Object.prototype.propertyIsEnumerable.call(M,B[L])&&(I[B[L]]=M[B[L]]);return I}function u(M,R,I,B){var L=arguments.length,W=L<3?R:B===null?B=Object.getOwnPropertyDescriptor(R,I):B,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(M,R,I,B);else for(var b=M.length-1;b>=0;b--)(z=M[b])&&(W=(L<3?z(W):L>3?z(R,I,W):z(R,I))||W);return L>3&&W&&Object.defineProperty(R,I,W),W}function d(M,R){return function(I,B){R(I,B,M)}}function S(M,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,R)}function y(M,R,I,B){function L(W){return W instanceof I?W:new I(function(z){z(W)})}return new(I||(I=Promise))(function(W,z){function b(_){try{P(B.next(_))}catch(H){z(H)}}function F(_){try{P(B.throw(_))}catch(H){z(H)}}function P(_){_.done?W(_.value):L(_.value).then(b,F)}P((B=B.apply(M,R||[])).next())})}function E(M,R){var I={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},B,L,W,z;return z={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(z[Symbol.iterator]=function(){return this}),z;function b(P){return function(_){return F([P,_])}}function F(P){if(B)throw new TypeError("Generator is already executing.");for(;I;)try{if(B=1,L&&(W=P[0]&2?L.return:P[0]?L.throw||((W=L.return)&&W.call(L),0):L.next)&&!(W=W.call(L,P[1])).done)return W;switch(L=0,W&&(P=[P[0]&2,W.value]),P[0]){case 0:case 1:W=P;break;case 4:return I.label++,{value:P[1],done:!1};case 5:I.label++,L=P[1],P=[0];continue;case 7:P=I.ops.pop(),I.trys.pop();continue;default:if(W=I.trys,!(W=W.length>0&&W[W.length-1])&&(P[0]===6||P[0]===2)){I=0;continue}if(P[0]===3&&(!W||P[1]>W[0]&&P[1]<W[3])){I.label=P[1];break}if(P[0]===6&&I.label<W[1]){I.label=W[1],W=P;break}if(W&&I.label<W[2]){I.label=W[2],I.ops.push(P);break}W[2]&&I.ops.pop(),I.trys.pop();continue}P=R.call(M,I)}catch(_){P=[6,_],L=0}finally{B=W=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}}var l=Object.create?function(M,R,I,B){B===void 0&&(B=I),Object.defineProperty(M,B,{enumerable:!0,get:function(){return R[I]}})}:function(M,R,I,B){B===void 0&&(B=I),M[B]=R[I]};function w(M,R){for(var I in M)I!=="default"&&!Object.prototype.hasOwnProperty.call(R,I)&&l(R,M,I)}function C(M){var R=typeof Symbol=="function"&&Symbol.iterator,I=R&&M[R],B=0;if(I)return I.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&B>=M.length&&(M=void 0),{value:M&&M[B++],done:!M}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(M,R){var I=typeof Symbol=="function"&&M[Symbol.iterator];if(!I)return M;var B=I.call(M),L,W=[],z;try{for(;(R===void 0||R-- >0)&&!(L=B.next()).done;)W.push(L.value)}catch(b){z={error:b}}finally{try{L&&!L.done&&(I=B.return)&&I.call(B)}finally{if(z)throw z.error}}return W}function h(){for(var M=[],R=0;R<arguments.length;R++)M=M.concat(O(arguments[R]));return M}function m(){for(var M=0,R=0,I=arguments.length;R<I;R++)M+=arguments[R].length;for(var B=Array(M),L=0,R=0;R<I;R++)for(var W=arguments[R],z=0,b=W.length;z<b;z++,L++)B[L]=W[z];return B}function v(M,R,I){if(I||arguments.length===2)for(var B=0,L=R.length,W;B<L;B++)(W||!(B in R))&&(W||(W=Array.prototype.slice.call(R,0,B)),W[B]=R[B]);return M.concat(W||Array.prototype.slice.call(R))}function s(M){return this instanceof s?(this.v=M,this):new s(M)}function f(M,R,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B=I.apply(M,R||[]),L,W=[];return L={},z("next"),z("throw"),z("return"),L[Symbol.asyncIterator]=function(){return this},L;function z(U){B[U]&&(L[U]=function(j){return new Promise(function(q,Y){W.push([U,j,q,Y])>1||b(U,j)})})}function b(U,j){try{F(B[U](j))}catch(q){H(W[0][3],q)}}function F(U){U.value instanceof s?Promise.resolve(U.value.v).then(P,_):H(W[0][2],U)}function P(U){b("next",U)}function _(U){b("throw",U)}function H(U,j){U(j),W.shift(),W.length&&b(W[0][0],W[0][1])}}function c(M){var R,I;return R={},B("next"),B("throw",function(L){throw L}),B("return"),R[Symbol.iterator]=function(){return this},R;function B(L,W){R[L]=M[L]?function(z){return(I=!I)?{value:s(M[L](z)),done:L==="return"}:W?W(z):z}:W}}function g(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=M[Symbol.asyncIterator],I;return R?R.call(M):(M=typeof C=="function"?C(M):M[Symbol.iterator](),I={},B("next"),B("throw"),B("return"),I[Symbol.asyncIterator]=function(){return this},I);function B(W){I[W]=M[W]&&function(z){return new Promise(function(b,F){z=M[W](z),L(b,F,z.done,z.value)})}}function L(W,z,b,F){Promise.resolve(F).then(function(P){W({value:P,done:b})},z)}}function p(M,R){return Object.defineProperty?Object.defineProperty(M,"raw",{value:R}):M.raw=R,M}var x=Object.create?function(M,R){Object.defineProperty(M,"default",{enumerable:!0,value:R})}:function(M,R){M.default=R};function T(M){if(M&&M.__esModule)return M;var R={};if(M!=null)for(var I in M)I!=="default"&&Object.prototype.hasOwnProperty.call(M,I)&&l(R,M,I);return x(R,M),R}function A(M){return M&&M.__esModule?M:{default:M}}function k(M,R,I,B){if(I==="a"&&!B)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?M!==R||!B:!R.has(M))throw new TypeError("Cannot read private member from an object whose class did not declare it");return I==="m"?B:I==="a"?B.call(M):B?B.value:R.get(M)}function D(M,R,I,B,L){if(B==="m")throw new TypeError("Private method is not writable");if(B==="a"&&!L)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?M!==R||!L:!R.has(M))throw new TypeError("Cannot write private member to an object whose class did not declare it");return B==="a"?L.call(M,I):L?L.value=I:R.set(M,I),I}},function(e,t,n){"use strict";t.__esModule=!0,t.allToUpperCase=t.allToLowerCase=t.encodeBody=t.decodeBody=t.Format=t.promisify=t.trim=t.arrChooseN=t.randomHexString=t.randomString=t.cheapRandStr=t.dataSizeBytes=t.inspectBody=t.inspectError=t.isErrorInfo=t.now=t.parseQueryString=t.toQueryString=t.arrPopRandomElement=t.defaultPostHeaders=t.defaultGetHeaders=t.allSame=t.arrEvery=t.arrFilter=t.arrMap=t.safeArrForEach=t.arrForEach=t.forInOwnNonNullProperties=t.valuesArray=t.keysArray=t.arrWithoutValue=t.arrDeleteValue=t.arrIn=t.arrIndexOf=t.arrSubtract=t.arrIntersectOb=t.arrIntersect=t.intersect=t.containsValue=t.inherits=t.prototypicalClone=t.shallowClone=t.isEmptyArg=t.isOnlyPropIn=t.isEmpty=t.isObject=t.ensureArray=t.isArray=t.copy=t.mixin=void 0;var r=n(1),o=r.__importDefault(n(3)),i=r.__importDefault(n(8));function a(G){return Math.floor(Math.random()*G.length)}function u(G){for(var $=[],K=1;K<arguments.length;K++)$[K-1]=arguments[K];for(var X=0;X<$.length;X++){var ie=$[X];if(!ie)break;var xe=Object.prototype.hasOwnProperty;for(var ge in ie)(!xe||xe.call(ie,ge))&&(G[ge]=ie[ge])}return G}t.mixin=u;function d(G){return u({},G)}t.copy=d,t.isArray=Array.isArray||function(G){return Object.prototype.toString.call(G)=="[object Array]"};function S(G){return w(G)?[]:t.isArray(G)?G:[G]}t.ensureArray=S;function y(G){return Object.prototype.toString.call(G)=="[object Object]"}t.isObject=y;function E(G){for(var $ in G)return!1;return!0}t.isEmpty=E;function l(G,$){for(var K in G)if(K!==$)return!1;return!0}t.isOnlyPropIn=l;function w(G){return G==null}t.isEmptyArg=w;function C(G){var $=new Object;for(var K in G)$[K]=G[K];return $}t.shallowClone=C;function O(G,$){var K=function(){function ie(){}return ie}();K.prototype=G;var X=new K;return $&&u(X,$),X}t.prototypicalClone=O;var h=function(G,$){if(o.default.Config.inherits){o.default.Config.inherits(G,$);return}G.super_=$,G.prototype=O($.prototype,{constructor:G})};t.inherits=h;function m(G,$){for(var K in G)if(G[K]==$)return!0;return!1}t.containsValue=m;function v(G,$){return t.isArray($)?s(G,$):f(G,$)}t.intersect=v;function s(G,$){for(var K=[],X=0;X<G.length;X++){var ie=G[X];t.arrIndexOf($,ie)!=-1&&K.push(ie)}return K}t.arrIntersect=s;function f(G,$){for(var K=[],X=0;X<G.length;X++){var ie=G[X];ie in $&&K.push(ie)}return K}t.arrIntersectOb=f;function c(G,$){for(var K=[],X=0;X<G.length;X++){var ie=G[X];t.arrIndexOf($,ie)==-1&&K.push(ie)}return K}t.arrSubtract=c,t.arrIndexOf=Array.prototype.indexOf?function(G,$,K){return G.indexOf($,K)}:function(G,$,K){K=K||0;for(var X=G.length;K<X;K++)if(G[K]===$)return K;return-1};function g(G,$){return t.arrIndexOf(G,$)!==-1}t.arrIn=g;function p(G,$){var K=t.arrIndexOf(G,$),X=K!=-1;return X&&G.splice(K,1),X}t.arrDeleteValue=p;function x(G,$){var K=G.slice();return p(K,$),K}t.arrWithoutValue=x;function T(G,$){var K=[];for(var X in G)$&&!Object.prototype.hasOwnProperty.call(G,X)||K.push(X);return K}t.keysArray=T;function A(G,$){var K=[];for(var X in G)$&&!Object.prototype.hasOwnProperty.call(G,X)||K.push(G[X]);return K}t.valuesArray=A;function k(G,$){for(var K in G)Object.prototype.hasOwnProperty.call(G,K)&&G[K]&&$(K)}t.forInOwnNonNullProperties=k,t.arrForEach=Array.prototype.forEach?function(G,$){G.forEach($)}:function(G,$){for(var K=G.length,X=0;X<K;X++)$(G[X],X,G)};function D(G,$){return t.arrForEach(G.slice(),$)}t.safeArrForEach=D,t.arrMap=Array.prototype.map?function(G,$){return G.map($)}:function(G,$){for(var K=[],X=G.length,ie=0;ie<X;ie++)K.push($(G[ie],ie,G));return K},t.arrFilter=Array.prototype.filter?function(G,$){return G.filter($)}:function(G,$){for(var K=[],X=G.length,ie=0;ie<X;ie++)$(G[ie])&&K.push(G[ie]);return K},t.arrEvery=Array.prototype.every?function(G,$){return G.every($)}:function(G,$){for(var K=G.length,X=0;X<K;X++)if(!$(G[X],X,G))return!1;return!0};function M(G,$){if(G.length===0)return!0;var K=G[0][$];return t.arrEvery(G,function(X){return X[$]===K})}t.allSame=M;var R={json:"application/json",jsonp:"application/javascript",xml:"application/xml",html:"text/html",msgpack:"application/x-msgpack"};function I(G){var $=R[G||Z.json];return{accept:$,"X-Ably-Version":i.default.apiVersion,"Ably-Agent":i.default.agent}}t.defaultGetHeaders=I;function B(G){var $,K=$=R[G||Z.json];return{accept:K,"content-type":$,"X-Ably-Version":i.default.apiVersion,"Ably-Agent":i.default.agent}}t.defaultPostHeaders=B;function L(G){return G.splice(a(G),1)[0]}t.arrPopRandomElement=L;function W(G){var $=[];if(G)for(var K in G)$.push(encodeURIComponent(K)+"="+encodeURIComponent(G[K]));return $.length?"?"+$.join("&"):""}t.toQueryString=W;function z(G){for(var $,K=/([^?&=]+)=?([^&]*)/g,X={};$=K.exec(G);)X[decodeURIComponent($[1])]=decodeURIComponent($[2]);return X}t.parseQueryString=z,t.now=Date.now||function(){return new Date().getTime()};function b(G){return G.constructor.name=="ErrorInfo"}t.isErrorInfo=b;function F(G){var $,K;return G instanceof Error||((K=($=G)===null||$===void 0?void 0:$.constructor)===null||K===void 0?void 0:K.name)==="ErrorInfo"?o.default.Config.inspect(G):G.toString()}t.inspectError=F;function P(G){return o.default.BufferUtils.isBuffer(G)?G.toString():typeof G=="string"?G:o.default.Config.inspect(G)}t.inspectBody=P;function _(G){if(o.default.BufferUtils.isBuffer(G))return o.default.BufferUtils.byteLength(G);if(typeof G=="string")return o.default.Config.stringByteSize(G);throw new Error("Expected input of Utils.dataSizeBytes to be a buffer or string, but was: "+typeof G)}t.dataSizeBytes=_;function H(){return String(Math.random()).substr(2)}t.cheapRandStr=H;var U=function(G){if(o.default.Config.getRandomValues&&typeof Uint8Array<"u"){var $=new Uint8Array(G);return o.default.Config.getRandomValues($),o.default.BufferUtils.base64Encode($)}for(var K=o.default.BufferUtils.base64CharSet,X=Math.round(G*4/3),ie="",xe=0;xe<X;xe++)ie+=K[a(K)];return ie};t.randomString=U;var j=function(G){if(o.default.Config.getRandomValues&&typeof Uint8Array<"u"){var $=new Uint8Array(G);return o.default.Config.getRandomValues($),o.default.BufferUtils.hexEncode($)}for(var K=o.default.BufferUtils.hexCharSet,X=G*2,ie="",xe=0;xe<X;xe++)ie+=K[a(K)];return ie};t.randomHexString=j;function q(G,$){for(var K=Math.min($,G.length),X=G.slice(),ie=[],xe=0;xe<K;xe++)ie.push(L(X));return ie}t.arrChooseN=q,t.trim=String.prototype.trim?function(G){return G.trim()}:function(G){return G.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Y(G,$,K){return new Promise(function(X,ie){G[$].apply(G,r.__spreadArray(r.__spreadArray([],K),[function(xe,ge){xe?ie(xe):X(ge)}]))})}t.promisify=Y;var Z;(function(G){G.msgpack="msgpack",G.json="json"})(Z=t.Format||(t.Format={}));function re(G,$){return $=="msgpack"?o.default.Config.msgpack.decode(G):JSON.parse(String(G))}t.decodeBody=re;function te(G,$){return $=="msgpack"?o.default.Config.msgpack.encode(G,!0):JSON.stringify(G)}t.encodeBody=te;function Q(G){return G.map(function($){return $&&$.toLowerCase()})}t.allToLowerCase=Q;function he(G){return G.map(function($){return $&&$.toUpperCase()})}t.allToUpperCase=he},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function o(){}return o}();t.default=r},function(e,t,n){(function(r,o){e.exports=t=o(n(6))})(this,function(r){return function(){if(typeof ArrayBuffer=="function"){var o=r,i=o.lib,a=i.WordArray,u=a.init,d=a.init=function(S){if(S instanceof ArrayBuffer&&(S=new Uint8Array(S)),(S instanceof Int8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)&&(S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength)),S instanceof Uint8Array){for(var y=S.byteLength,E=[],l=0;l<y;l++)E[l>>>2]|=S[l]<<24-l%4*8;u.call(this,E,y)}else u.apply(this,arguments)};d.prototype=a}}(),r.lib.WordArray})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(3)),i=r.__importStar(n(2)),a=function(){function u(d,S,y,E){this.message=d,this.code=S,this.statusCode=y,this.cause=E}return u.prototype.toString=function(){var d="["+this.constructor.name;return this.message&&(d+=": "+this.message),this.statusCode&&(d+="; statusCode="+this.statusCode),this.code&&(d+="; code="+this.code),this.cause&&(d+="; cause="+i.inspectError(this.cause)),this.href&&!(this.message&&this.message.indexOf("help.ably.io")>-1)&&(d+="; see "+this.href+" "),d+="]",d},u.fromValues=function(d){var S=d,y=S.message,E=S.code,l=S.statusCode;if(typeof y!="string"||typeof E!="number"||typeof l!="number")throw new Error("ErrorInfo.fromValues(): invalid values: "+o.default.Config.inspect(d));var w=Object.assign(new u(y,E,l),d);return w.code&&!w.href&&(w.href="https://help.ably.io/error/"+w.code),w},u}();t.default=a},function(e,t,n){(function(r){(function(o,i){e.exports=t=i()})(this,function(){var o=o||function(i,a){var u;if(typeof window<"u"&&window.crypto&&(u=window.crypto),!u&&typeof window<"u"&&window.msCrypto&&(u=window.msCrypto),!u&&typeof r<"u"&&r.crypto&&(u=r.crypto),!u)try{u=n(45)}catch{}var d=function(){if(u){if(typeof u.getRandomValues=="function")try{return u.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof u.randomBytes=="function")try{return u.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},S=Object.create||function(){function c(){}return function(g){var p;return c.prototype=g,p=new c,c.prototype=null,p}}(),y={},E=y.lib={},l=E.Base=function(){return{extend:function(c){var g=S(this);return c&&g.mixIn(c),(!g.hasOwnProperty("init")||this.init===g.init)&&(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var g in c)c.hasOwnProperty(g)&&(this[g]=c[g]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),w=E.WordArray=l.extend({init:function(c,g){c=this.words=c||[],g!=a?this.sigBytes=g:this.sigBytes=c.length*4},toString:function(c){return(c||O).stringify(this)},concat:function(c){var g=this.words,p=c.words,x=this.sigBytes,T=c.sigBytes;if(this.clamp(),x%4)for(var A=0;A<T;A++){var k=p[A>>>2]>>>24-A%4*8&255;g[x+A>>>2]|=k<<24-(x+A)%4*8}else for(var A=0;A<T;A+=4)g[x+A>>>2]=p[A>>>2];return this.sigBytes+=T,this},clamp:function(){var c=this.words,g=this.sigBytes;c[g>>>2]&=4294967295<<32-g%4*8,c.length=i.ceil(g/4)},clone:function(){var c=l.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var g=[],p=0;p<c;p+=4)g.push(d());return new w.init(g,c)}}),C=y.enc={},O=C.Hex={stringify:function(c){for(var g=c.words,p=c.sigBytes,x=[],T=0;T<p;T++){var A=g[T>>>2]>>>24-T%4*8&255;x.push((A>>>4).toString(16)),x.push((A&15).toString(16))}return x.join("")},parse:function(c){for(var g=c.length,p=[],x=0;x<g;x+=2)p[x>>>3]|=parseInt(c.substr(x,2),16)<<24-x%8*4;return new w.init(p,g/2)}},h=C.Latin1={stringify:function(c){for(var g=c.words,p=c.sigBytes,x=[],T=0;T<p;T++){var A=g[T>>>2]>>>24-T%4*8&255;x.push(String.fromCharCode(A))}return x.join("")},parse:function(c){for(var g=c.length,p=[],x=0;x<g;x++)p[x>>>2]|=(c.charCodeAt(x)&255)<<24-x%4*8;return new w.init(p,g)}},m=C.Utf8={stringify:function(c){try{return decodeURIComponent(escape(h.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return h.parse(unescape(encodeURIComponent(c)))}},v=E.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=m.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var g,p=this._data,x=p.words,T=p.sigBytes,A=this.blockSize,k=A*4,D=T/k;c?D=i.ceil(D):D=i.max((D|0)-this._minBufferSize,0);var M=D*A,R=i.min(M*4,T);if(M){for(var I=0;I<M;I+=A)this._doProcessBlock(x,I);g=x.splice(0,M),p.sigBytes-=R}return new w.init(g,R)},clone:function(){var c=l.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0}),s=E.Hasher=v.extend({cfg:l.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var g=this._doFinalize();return g},blockSize:512/32,_createHelper:function(c){return function(g,p){return new c.init(p).finalize(g)}},_createHmacHelper:function(c){return function(g,p){return new f.HMAC.init(c,p).finalize(g)}}}),f=y.algo={};return y}(Math);return o})}).call(this,n(10))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(0)),a=r.__importDefault(n(3));function u(y,E,l){try{E.apply(y,l)}catch(w){i.default.logAction(i.default.LOG_ERROR,"EventEmitter.emit()","Unexpected listener exception: "+w+"; stack = "+(w&&w.stack))}}function d(y,E,l){for(var w,C,O,h=0;h<y.length;h++)if(w=y[h],l&&(w=w[l]),o.isArray(w)){for(;(C=o.arrIndexOf(w,E))!==-1;)w.splice(C,1);l&&w.length===0&&delete y[h][l]}else if(o.isObject(w))for(O in w)Object.prototype.hasOwnProperty.call(w,O)&&o.isArray(w[O])&&d([w],E,O)}var S=function(){function y(){this.any=[],this.events=Object.create(null),this.anyOnce=[],this.eventsOnce=Object.create(null)}return y.prototype.on=function(){for(var E=this,l=[],w=0;w<arguments.length;w++)l[w]=arguments[w];if(l.length===1){var C=l[0];if(typeof C=="function")this.any.push(C);else throw new Error("EventListener.on(): Invalid arguments: "+a.default.Config.inspect(l))}if(l.length===2){var O=l[0],h=l[1];if(typeof h!="function")throw new Error("EventListener.on(): Invalid arguments: "+a.default.Config.inspect(l));if(o.isEmptyArg(O))this.any.push(h);else if(o.isArray(O))O.forEach(function(v){E.on(v,h)});else{if(typeof O!="string")throw new Error("EventListener.on(): Invalid arguments: "+a.default.Config.inspect(l));var m=this.events[O]||(this.events[O]=[]);m.push(h)}}},y.prototype.off=function(){for(var E,l=this,w=[],C=0;C<arguments.length;C++)w[C]=arguments[C];if(w.length==0||o.isEmptyArg(w[0])&&o.isEmptyArg(w[1])){this.any=[],this.events=Object.create(null),this.anyOnce=[],this.eventsOnce=Object.create(null);return}var O=w[0],h=w[1],m=null,v=null;if(w.length===1||!h)typeof O=="function"?m=O:v=O;else{if(typeof h!="function")throw new Error("EventEmitter.off(): invalid arguments:"+a.default.Config.inspect(w));E=[O,h],v=E[0],m=E[1]}if(m&&o.isEmptyArg(v)){d([this.any,this.events,this.anyOnce,this.eventsOnce],m);return}if(o.isArray(v)){v.forEach(function(s){l.off(s,m)});return}if(typeof v!="string")throw new Error("EventEmitter.off(): invalid arguments:"+a.default.Config.inspect(w));m?d([this.events,this.eventsOnce],m,v):(delete this.events[v],delete this.eventsOnce[v])},y.prototype.listeners=function(E){if(E){var l=this.events[E]||[];return this.eventsOnce[E]&&Array.prototype.push.apply(l,this.eventsOnce[E]),l.length?l:null}return this.any.length?this.any:null},y.prototype.emit=function(E){for(var l=[],w=1;w<arguments.length;w++)l[w-1]=arguments[w];var C={event:E},O=[];this.anyOnce.length&&(Array.prototype.push.apply(O,this.anyOnce),this.anyOnce=[]),this.any.length&&Array.prototype.push.apply(O,this.any);var h=this.eventsOnce[E];h&&(Array.prototype.push.apply(O,h),delete this.eventsOnce[E]);var m=this.events[E];m&&Array.prototype.push.apply(O,m),o.arrForEach(O,function(v){u(C,v,l)})},y.prototype.once=function(){for(var E=this,l=[],w=0;w<arguments.length;w++)l[w]=arguments[w];var C=l.length;if((C===0||C===1&&typeof l[0]!="function")&&a.default.Config.Promise){var O=l[0];if(typeof O!="string")throw new Error("EventEmitter.once(): Invalid arguments:"+a.default.Config.inspect(l));return new a.default.Config.Promise(function(c){E.once(O,c)})}var h=l[0],m=l[1];if(l.length===1&&typeof h=="function")this.anyOnce.push(h);else if(o.isEmptyArg(h)){if(typeof m!="function")throw new Error("EventEmitter.once(): Invalid arguments:"+a.default.Config.inspect(l));this.anyOnce.push(m)}else if(o.isArray(h)){var v=this,s=function(){var c=Array.prototype.slice.call(arguments);if(o.arrForEach(h,function(g){v.off(g,s)}),typeof m!="function")throw new Error("EventEmitter.once(): Invalid arguments:"+a.default.Config.inspect(l));m.apply(this,c)};o.arrForEach(h,function(c){v.on(c,s)})}else{if(typeof h!="string")throw new Error("EventEmitter.once(): Invalid arguments:"+a.default.Config.inspect(l));var f=this.eventsOnce[h]||(this.eventsOnce[h]=[]);if(m){if(typeof m!="function")throw new Error("EventEmitter.once(): Invalid arguments:"+a.default.Config.inspect(l));f.push(m)}}},y.prototype.whenState=function(E,l,w){for(var C=this,O=[],h=3;h<arguments.length;h++)O[h-3]=arguments[h];var m={event:E};if(typeof E!="string"||typeof l!="string")throw"whenState requires a valid event String argument";if(typeof w!="function"&&a.default.Config.Promise)return new a.default.Config.Promise(function(v){y.prototype.whenState.apply(C,[E,l,v].concat(O))});E===l?u(m,w,O):this.once(E,w)},y}();t.default=S},function(e,t,n){"use strict";t.__esModule=!0,t.getDefaults=t.normaliseOptions=t.objectifyOptions=t.getHosts=t.getFallbackHosts=t.environmentFallbackHosts=t.getHttpScheme=t.getPort=t.getHost=void 0;var r=n(1),o=r.__importDefault(n(3)),i=r.__importStar(n(2)),a=r.__importDefault(n(0)),u=r.__importDefault(n(5)),d=n(43),S="ably-js/"+d.version,y={ENVIRONMENT:"",REST_HOST:"rest.ably.io",REALTIME_HOST:"realtime.ably.io",FALLBACK_HOSTS:["A.ably-realtime.com","B.ably-realtime.com","C.ably-realtime.com","D.ably-realtime.com","E.ably-realtime.com"],PORT:80,TLS_PORT:443,TIMEOUTS:{disconnectedRetryTimeout:15e3,suspendedRetryTimeout:3e4,httpRequestTimeout:15e3,channelRetryTimeout:15e3,fallbackRetryTimeout:6e5,connectionStateTtl:12e4,realtimeRequestTimeout:1e4,recvTimeout:9e4,preferenceConnectTimeout:6e3,parallelUpgradeDelay:6e3},httpMaxRetryCount:3,maxMessageSize:65536,version:d.version,apiVersion:"1.2",agent:S,getHost:E,getPort:l,getHttpScheme:w,environmentFallbackHosts:C,getFallbackHosts:O,getHosts:h,checkHost:m,objectifyOptions:f,normaliseOptions:c};function E(p,x,T){return T?x=x==p.restHost&&p.realtimeHost||x||p.realtimeHost:x=x||p.restHost,x}t.getHost=E;function l(p,x){return x||p.tls?p.tlsPort:p.port}t.getPort=l;function w(p){return p.tls?"https://":"http://"}t.getHttpScheme=w;function C(p){return[p+"-a-fallback.ably-realtime.com",p+"-b-fallback.ably-realtime.com",p+"-c-fallback.ably-realtime.com",p+"-d-fallback.ably-realtime.com",p+"-e-fallback.ably-realtime.com"]}t.environmentFallbackHosts=C;function O(p){var x=p.fallbackHosts,T=typeof p.httpMaxRetryCount<"u"?p.httpMaxRetryCount:y.httpMaxRetryCount;return x?i.arrChooseN(x,T):[]}t.getFallbackHosts=O;function h(p){return[p.restHost].concat(O(p))}t.getHosts=h;function m(p){if(typeof p!="string")throw new u.default("host must be a string; was a "+typeof p,4e4,400);if(!p.length)throw new u.default("host must not be zero-length",4e4,400)}function v(p,x,T){return p.realtimeHost?p.realtimeHost:p.restHost?(a.default.logAction(a.default.LOG_MINOR,"Defaults.normaliseOptions",'restHost is set to "'+p.restHost+'" but realtimeHost is not set, so setting realtimeHost to "'+p.restHost+'" too. If this is not what you want, please set realtimeHost explicitly.'),p.restHost):x?y.REALTIME_HOST:T+"-"+y.REALTIME_HOST}function s(p){var x={};for(var T in y.TIMEOUTS)x[T]=p[T]||y.TIMEOUTS[T];return x}function f(p){return typeof p=="string"?p.indexOf(":")==-1?{token:p}:{key:p}:p}t.objectifyOptions=f;function c(p){if(p.host&&(a.default.deprecated("host","restHost"),p.restHost=p.host),p.wsHost&&(a.default.deprecated("wsHost","realtimeHost"),p.realtimeHost=p.wsHost),p.queueEvents&&(a.default.deprecated("queueEvents","queueMessages"),p.queueMessages=p.queueEvents),p.fallbackHostsUseDefault){if(p.fallbackHosts){var x="fallbackHosts and fallbackHostsUseDefault cannot both be set";throw a.default.logAction(a.default.LOG_ERROR,"Defaults.normaliseOptions",x),new u.default(x,4e4,400)}if(p.port||p.tlsPort){var x="fallbackHostsUseDefault cannot be set when port or tlsPort are set";throw a.default.logAction(a.default.LOG_ERROR,"Defaults.normaliseOptions",x),new u.default(x,4e4,400)}p.environment?a.default.deprecatedWithMsg("fallbackHostsUseDefault","There is no longer a need to set this when the environment option is also set since the library will now generate the correct fallback hosts using the environment option."):a.default.deprecated("fallbackHostsUseDefault","fallbackHosts: Ably.Defaults.FALLBACK_HOSTS"),p.fallbackHosts=y.FALLBACK_HOSTS}p.recover===!0&&(a.default.deprecated("{recover: true}","{recover: function(lastConnectionDetails, cb) { cb(true); }}"),p.recover=function(B,L){L(!0)}),typeof p.recover=="function"&&p.closeOnUnload===!0&&(a.default.logAction(a.default.LOG_ERROR,"Defaults.normaliseOptions","closeOnUnload was true and a session recovery function was set - these are mutually exclusive, so unsetting the latter"),p.recover=void 0),"closeOnUnload"in p||(p.closeOnUnload=!p.recover),p.transports&&i.arrIn(p.transports,"xhr")&&(a.default.deprecated('transports: ["xhr"]','transports: ["xhr_streaming"]'),i.arrDeleteValue(p.transports,"xhr"),p.transports.push("xhr_streaming")),"queueMessages"in p||(p.queueMessages=!0);var T=p.environment&&String(p.environment).toLowerCase()||y.ENVIRONMENT,A=!T||T==="production";!p.fallbackHosts&&!p.restHost&&!p.realtimeHost&&!p.port&&!p.tlsPort&&(p.fallbackHosts=A?y.FALLBACK_HOSTS:C(T));var k=p.restHost||(A?y.REST_HOST:T+"-"+y.REST_HOST),D=v(p,A,T);i.arrForEach((p.fallbackHosts||[]).concat(k,D),m),p.port=p.port||y.PORT,p.tlsPort=p.tlsPort||y.TLS_PORT,"tls"in p||(p.tls=!0);var M=s(p);if("useBinaryProtocol"in p?p.useBinaryProtocol=o.default.Config.supportsBinary&&p.useBinaryProtocol:p.useBinaryProtocol=o.default.Config.preferBinary,p.clientId){var R=p.headers=p.headers||{};R["X-Ably-ClientId"]=o.default.BufferUtils.base64Encode(o.default.BufferUtils.utf8Encode(p.clientId))}if("idempotentRestPublishing"in p||(p.idempotentRestPublishing=!0),p.promises&&!o.default.Config.Promise&&(a.default.logAction(a.default.LOG_ERROR,"Defaults.normaliseOptions","{promises: true} was specified, but no Promise constructor found; disabling promises"),p.promises=!1),p.agents)for(var I in p.agents)y.agent+=" "+I+"/"+p.agents[I];return r.__assign(r.__assign({},p),{useBinaryProtocol:"useBinaryProtocol"in p?o.default.Config.supportsBinary&&p.useBinaryProtocol:o.default.Config.preferBinary,realtimeHost:D,restHost:k,maxMessageSize:p.maxMessageSize||y.maxMessageSize,timeouts:M})}t.normaliseOptions=c,t.default=y;function g(p){return Object.assign(y,p)}t.getDefaults=g},function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=n(1),i=o.__importDefault(n(41)),a=r||window;typeof Window>"u"&&typeof WorkerGlobalScope>"u"&&console.log("Warning: this distribution of Ably is intended for browsers. On nodejs, please use the 'ably' package on npm");function u(){var E=a.location;return!a.WebSocket||!E||!E.origin||E.origin.indexOf("http")>-1}var d=a.navigator&&a.navigator.userAgent.toString(),S=a.location&&a.location.href,y={agent:"browser",logTimestamps:!0,userAgent:d,currentUrl:S,noUpgrade:d&&!!d.match(/MSIE\s8\.0/),binaryType:"arraybuffer",WebSocket:a.WebSocket,xhrSupported:a.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,jsonpSupported:typeof document<"u",allowComet:u(),streamingSupported:!0,useProtocolHeartbeats:!0,createHmac:null,msgpack:i.default,supportsBinary:!!a.TextDecoder,preferBinary:!1,ArrayBuffer:a.ArrayBuffer,atob:a.atob,nextTick:typeof a.setImmediate<"u"?a.setImmediate.bind(a):function(E){setTimeout(E,0)},addEventListener:a.addEventListener,inspect:JSON.stringify,stringByteSize:function(E){return a.TextDecoder&&new a.TextEncoder().encode(E).length||E.length},TextEncoder:a.TextEncoder,TextDecoder:a.TextDecoder,Promise:a.Promise,getRandomValues:function(E){if(E!==void 0)return function(l,w){E.getRandomValues(l),w&&w(null)}}(a.crypto||msCrypto)};t.default=y}).call(this,n(10))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(3)),i=r.__importDefault(n(0)),a=r.__importDefault(n(5)),u=r.__importStar(n(2));function d(l){return!l||!l.channelOptions?{channelOptions:l,plugins:{},baseEncodedPreviousPayload:void 0}:l}function S(l){if(l&&l.cipher&&!l.cipher.channelCipher){if(!o.default.Crypto)throw new Error("Encryption not enabled; use ably.encryption.js instead");var w=o.default.Crypto.getCipher(l.cipher);return{cipher:w.cipherParams,channelCipher:w.cipher}}return l}function y(l){var w=0;return l.name&&(w+=l.name.length),l.clientId&&(w+=l.clientId.length),l.extras&&(w+=JSON.stringify(l.extras).length),l.data&&(w+=u.dataSizeBytes(l.data)),w}var E=function(){function l(){}return l.prototype.toJSON=function(){var w=this.encoding,C=this.data;return C&&o.default.BufferUtils.isBuffer(C)&&(arguments.length>0?(w=w?w+"/base64":"base64",C=o.default.BufferUtils.base64Encode(C)):C=o.default.BufferUtils.toBuffer(C)),{name:this.name,id:this.id,clientId:this.clientId,connectionId:this.connectionId,connectionKey:this.connectionKey,extras:this.extras,encoding:w,data:C}},l.prototype.toString=function(){var w="[Message";return this.name&&(w+="; name="+this.name),this.id&&(w+="; id="+this.id),this.timestamp&&(w+="; timestamp="+this.timestamp),this.clientId&&(w+="; clientId="+this.clientId),this.connectionId&&(w+="; connectionId="+this.connectionId),this.encoding&&(w+="; encoding="+this.encoding),this.extras&&(w+="; extras ="+JSON.stringify(this.extras)),this.data&&(typeof this.data=="string"?w+="; data="+this.data:o.default.BufferUtils.isBuffer(this.data)?w+="; data (buffer)="+o.default.BufferUtils.base64Encode(this.data):w+="; data (json)="+JSON.stringify(this.data)),this.extras&&(w+="; extras="+JSON.stringify(this.extras)),w+="]",w},l.encrypt=function(w,C,O){var h=w.data,m=w.encoding,v=C.channelCipher;m=m?m+"/":"",o.default.BufferUtils.isBuffer(h)||(h=o.default.BufferUtils.utf8Encode(String(h)),m=m+"utf-8/"),v.encrypt(h,function(s,f){if(s){O(s);return}w.data=f,w.encoding=m+"cipher+"+v.algorithm,O(null,w)})},l.encode=function(w,C,O){var h=w.data,m=typeof h=="string"||o.default.BufferUtils.isBuffer(h)||h===null||h===void 0;if(!m)if(u.isObject(h)||u.isArray(h))w.data=JSON.stringify(h),w.encoding=w.encoding?w.encoding+"/json":"json";else throw new a.default("Data type is unsupported",40013,400);C!=null&&C.cipher?l.encrypt(w,C,O):O(null,w)},l.encodeArray=function(w,C,O){for(var h=0,m=0;m<w.length;m++)l.encode(w[m],C,function(v){if(v){O(v);return}h++,h==w.length&&O(null,w)})},l.decode=function(w,C){var O=d(C),h=w.data,m=w.encoding;if(m){var v=m.split("/"),s=void 0,f=v.length,c=w.data,g="";try{for(;(s=f)>0;){var p=v[--f].match(/([-\w]+)(\+([\w-]+))?/);if(!p)break;switch(g=p[1],g){case"base64":c=o.default.BufferUtils.base64Decode(String(c)),s==v.length&&(h=c);continue;case"utf-8":c=o.default.BufferUtils.utf8Decode(c);continue;case"json":c=JSON.parse(c);continue;case"cipher":if(O.channelOptions!=null&&O.channelOptions.cipher&&O.channelOptions.channelCipher){var x=p[3],T=O.channelOptions.channelCipher;if(x!=T.algorithm)throw new Error("Unable to decrypt message with given cipher; incompatible cipher params");c=T.decrypt(c);continue}else throw new Error("Unable to decrypt message; not an encrypted channel");case"vcdiff":if(!O.plugins||!O.plugins.vcdiff)throw new a.default("Missing Vcdiff decoder (https://github.com/ably-forks/vcdiff-decoder)",40019,400);if(typeof Uint8Array>"u")throw new a.default("Delta decoding not supported on this browser (need ArrayBuffer & Uint8Array)",40020,400);try{var A=O.baseEncodedPreviousPayload;typeof A=="string"&&(A=o.default.BufferUtils.utf8Encode(A)),A=o.default.BufferUtils.toBuffer(A),c=o.default.BufferUtils.toBuffer(c),c=o.default.BufferUtils.typedArrayToBuffer(O.plugins.vcdiff.decode(c,A)),h=c}catch(D){throw new a.default("Vcdiff delta decode failed with "+D,40018,400)}continue;default:throw new Error("Unknown encoding")}}}catch(D){var k=D;throw new a.default("Error processing the "+g+" encoding, decoder returned \u2018"+k.message+"\u2019",k.code||40013,400)}finally{w.encoding=s<=0?null:v.slice(0,s).join("/"),w.data=c}}O.baseEncodedPreviousPayload=h},l.fromResponseBody=function(w,C,O){O&&(w=u.decodeBody(w,O));for(var h=0;h<w.length;h++){var m=w[h]=l.fromValues(w[h]);try{l.decode(m,C)}catch(v){i.default.logAction(i.default.LOG_ERROR,"Message.fromResponseBody()",v.toString())}}return w},l.fromValues=function(w){return Object.assign(new l,w)},l.fromValuesArray=function(w){for(var C=w.length,O=new Array(C),h=0;h<C;h++)O[h]=l.fromValues(w[h]);return O},l.fromEncoded=function(w,C){var O=l.fromValues(w),h=S(C);try{l.decode(O,h)}catch(m){i.default.logAction(i.default.LOG_ERROR,"Message.fromEncoded()",m.toString())}return O},l.fromEncodedArray=function(w,C){return S(C),w.map(function(O){return l.fromEncoded(O,C)})},l.getMessagesSize=function(w){for(var C,O=0,h=0;h<w.length;h++)C=w[h],O+=C.size||(C.size=y(C));return O},l.serialize=u.encodeBody,l}();t.default=E},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(5)),a=r.__importDefault(n(11)),u=r.__importDefault(n(15)),d={HEARTBEAT:0,ACK:1,NACK:2,CONNECT:3,CONNECTED:4,DISCONNECT:5,DISCONNECTED:6,CLOSE:7,CLOSED:8,ERROR:9,ATTACH:10,ATTACHED:11,DETACH:12,DETACHED:13,PRESENCE:14,MESSAGE:15,SYNC:16,AUTH:17},S=[];Object.keys(d).forEach(function(O){S[d[O]]=O});var y={HAS_PRESENCE:1<<0,HAS_BACKLOG:1<<1,RESUMED:1<<2,TRANSIENT:1<<4,ATTACH_RESUME:1<<5,PRESENCE:1<<16,PUBLISH:1<<17,SUBSCRIBE:1<<18,PRESENCE_SUBSCRIBE:1<<19},E=Object.keys(y);y.MODE_ALL=y.PRESENCE|y.PUBLISH|y.SUBSCRIBE|y.PRESENCE_SUBSCRIBE;function l(O){var h=[];if(O)for(var m=0;m<O.length;m++)h.push(O[m].toString());return"[ "+h.join(", ")+" ]"}var w="id channel channelSerial connectionId connectionKey connectionSerial count msgSerial timestamp".split(" "),C=function(){function O(){var h=this;this.hasFlag=function(m){return(h.flags&y[m])>0}}return O.prototype.setFlag=function(h){return this.flags=this.flags|y[h]},O.prototype.getMode=function(){return this.flags&&this.flags&y.MODE_ALL},O.prototype.encodeModesToFlags=function(h){var m=this;h.forEach(function(v){return m.setFlag(v)})},O.prototype.decodeModesFromFlags=function(){var h=this,m=[];return O.channelModes.forEach(function(v){h.hasFlag(v)&&m.push(v)}),m.length>0?m:void 0},O.fromValues=function(h){return Object.assign(new O,h)},O.Action=d,O.channelModes=["PRESENCE","PUBLISH","SUBSCRIBE","PRESENCE_SUBSCRIBE"],O.ActionName=S,O.serialize=o.encodeBody,O.deserialize=function(h,m){var v=o.decodeBody(h,m);return O.fromDeserialized(v)},O.fromDeserialized=function(h){var m=h.error;m&&(h.error=i.default.fromValues(m));var v=h.messages;if(v)for(var s=0;s<v.length;s++)v[s]=a.default.fromValues(v[s]);var f=h.presence;if(f)for(var s=0;s<f.length;s++)f[s]=u.default.fromValues(f[s],!0);return Object.assign(new O,h)},O.stringify=function(h){var m="[ProtocolMessage";h.action!==void 0&&(m+="; action="+O.ActionName[h.action]||!1);for(var v,s=0;s<w.length;s++)v=w[s],h[v]!==void 0&&(m+="; "+v+"="+h[v]);if(h.messages&&(m+="; messages="+l(a.default.fromValuesArray(h.messages))),h.presence&&(m+="; presence="+l(u.default.fromValuesArray(h.presence))),h.error&&(m+="; error="+i.default.fromValues(h.error).toString()),h.auth&&h.auth.accessToken&&(m+="; token="+h.auth.accessToken),h.flags&&(m+="; flags="+E.filter(h.hasFlag).join(",")),h.params){var f="";o.forInOwnNonNullProperties(h.params,function(c){f.length>0&&(f+="; "),f+=c+"="+h.params[c]}),f.length>0&&(m+="; params=["+f+"]")}return m+="]",m},O.isDuplicate=function(h,m){if(h&&m&&(h.action===d.MESSAGE||h.action===d.PRESENCE)&&h.action===m.action&&h.channel===m.channel&&h.id===m.id){if(h.action===d.PRESENCE)return!0;if(h.messages.length===m.messages.length){for(var v=0;v<h.messages.length;v++){var s=h.messages[v],f=m.messages[v];if((s.extras&&s.extras.delta&&s.extras.delta.format)!==(f.extras&&f.extras.delta&&f.extras.delta.format))return!1}return!0}}return!1},O}();t.default=C},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(12)),a=r.__importDefault(n(37)),u=r.__importDefault(n(0)),d=r.__importDefault(n(8)),S=r.__importDefault(n(20)),y=r.__importDefault(n(17)),E=r.__importDefault(n(5)),l=r.__importDefault(n(21)),w=r.__importDefault(n(3));function C(m){var v=[80015,80017,80030];return m.code?y.default.isTokenErr(m)?!1:o.arrIn(v,m.code)?!0:m.code>=4e4&&m.code<5e4:!1}function O(m){return C(m)?[i.default.fromValues({action:i.default.Action.ERROR,error:m})]:[i.default.fromValues({action:i.default.Action.DISCONNECTED,error:m})]}var h=function(m){r.__extends(v,m);function v(s,f,c){var g=m.call(this,s,f,c,!0)||this;return g.onAuthUpdated=function(p){g.authParams={access_token:p.token}},g.stream="stream"in c?c.stream:!0,g.sendRequest=null,g.recvRequest=null,g.pendingCallback=null,g.pendingItems=null,g}return v.prototype.connect=function(){var s=this;u.default.logAction(u.default.LOG_MINOR,"CometTransport.connect()","starting"),a.default.prototype.connect.call(this);var f=this.params,c=f.options,g=d.default.getHost(c,f.host),p=d.default.getPort(c),x=c.tls?"https://":"http://";this.baseUri=x+g+":"+p+"/comet/";var T=this.baseUri+"connect";u.default.logAction(u.default.LOG_MINOR,"CometTransport.connect()","uri: "+T),this.auth.getAuthParams(function(A,k){if(A){s.disconnect(A);return}if(!s.isDisposed){s.authParams=k;var D=s.params.getConnectParams(k);"stream"in D&&(s.stream=D.stream),u.default.logAction(u.default.LOG_MINOR,"CometTransport.connect()","connectParams:"+o.toQueryString(D));var M=!1,R=s.recvRequest=s.createRequest(T,null,D,null,s.stream?l.default.REQ_RECV_STREAM:l.default.REQ_RECV);R.on("data",function(I){!s.recvRequest||(M||(M=!0,s.emit("preconnect")),s.onData(I))}),R.on("complete",function(I){if(s.recvRequest||(I=I||new E.default("Request cancelled",80003,400)),s.recvRequest=null,!M&&!I&&(M=!0,s.emit("preconnect")),s.onActivity(),I){I.code?s.onData(O(I)):s.disconnect(I);return}w.default.Config.nextTick(function(){s.recv()})}),R.exec()}})},v.prototype.requestClose=function(){u.default.logAction(u.default.LOG_MINOR,"CometTransport.requestClose()"),this._requestCloseOrDisconnect(!0)},v.prototype.requestDisconnect=function(){u.default.logAction(u.default.LOG_MINOR,"CometTransport.requestDisconnect()"),this._requestCloseOrDisconnect(!1)},v.prototype._requestCloseOrDisconnect=function(s){var f=this,c=s?this.closeUri:this.disconnectUri;if(c){var g=this.createRequest(c,null,this.authParams,null,l.default.REQ_SEND);g.on("complete",function(p){p&&(u.default.logAction(u.default.LOG_ERROR,"CometTransport.request"+(s?"Close()":"Disconnect()"),"request returned err = "+o.inspectError(p)),f.finish("disconnected",p))}),g.exec()}},v.prototype.dispose=function(){var s=this;u.default.logAction(u.default.LOG_MINOR,"CometTransport.dispose()",""),this.isDisposed||(this.isDisposed=!0,this.recvRequest&&(u.default.logAction(u.default.LOG_MINOR,"CometTransport.dispose()","aborting recv request"),this.recvRequest.abort(),this.recvRequest=null),this.finish("disconnected",S.default.disconnected),w.default.Config.nextTick(function(){s.emit("disposed")}))},v.prototype.onConnect=function(s){if(!this.isDisposed){var f=s.connectionKey;a.default.prototype.onConnect.call(this,s);var c=this.baseUri+f;u.default.logAction(u.default.LOG_MICRO,"CometTransport.onConnect()","baseUri = "+c+"; connectionKey = "+s.connectionKey),this.sendUri=c+"/send",this.recvUri=c+"/recv",this.closeUri=c+"/close",this.disconnectUri=c+"/disconnect"}},v.prototype.send=function(s){if(this.sendRequest){this.pendingItems=this.pendingItems||[],this.pendingItems.push(s);return}var f=this.pendingItems||[];f.push(s),this.pendingItems=null,this.sendItems(f)},v.prototype.sendAnyPending=function(){var s=this.pendingItems;!s||(this.pendingItems=null,this.sendItems(s))},v.prototype.sendItems=function(s){var f=this,c=this.sendRequest=this.createRequest(this.sendUri,null,this.authParams,this.encodeRequest(s),l.default.REQ_SEND);c.on("complete",function(g,p){if(g&&u.default.logAction(u.default.LOG_ERROR,"CometTransport.sendItems()","on complete: err = "+o.inspectError(g)),f.sendRequest=null,g){g.code?f.onData(O(g)):f.disconnect(g);return}p&&f.onData(p),f.pendingItems&&w.default.Config.nextTick(function(){f.sendRequest||f.sendAnyPending()})}),c.exec()},v.prototype.recv=function(){var s=this;if(!this.recvRequest&&!!this.isConnected){var f=this.recvRequest=this.createRequest(this.recvUri,null,this.authParams,null,this.stream?l.default.REQ_RECV_STREAM:l.default.REQ_RECV_POLL);f.on("data",function(c){s.onData(c)}),f.on("complete",function(c){if(s.recvRequest=null,s.onActivity(),c){c.code?s.onData(O(c)):s.disconnect(c);return}w.default.Config.nextTick(function(){s.recv()})}),f.exec()}},v.prototype.onData=function(s){try{var f=this.decodeResponse(s);if(f&&f.length)for(var c=0;c<f.length;c++)this.onProtocolMessage(i.default.fromDeserialized(f[c]))}catch(g){u.default.logAction(u.default.LOG_ERROR,"CometTransport.onData()","Unexpected exception handing channel event: "+g.stack)}},v.prototype.encodeRequest=function(s){return JSON.stringify(s)},v.prototype.decodeResponse=function(s){return typeof s=="string"?JSON.parse(s):s},v}(a.default);t.default=h},function(e,t,n){(function(r,o){e.exports=t=o(n(6))})(this,function(r){return function(){var o=r,i=o.lib,a=i.WordArray,u=o.enc,d=u.Base64={stringify:function(y){var E=y.words,l=y.sigBytes,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.clamp();for(var C=[],O=0;O<l;O+=3)for(var h=E[O>>>2]>>>24-O%4*8&255,m=E[O+1>>>2]>>>24-(O+1)%4*8&255,v=E[O+2>>>2]>>>24-(O+2)%4*8&255,s=h<<16|m<<8|v,f=0;f<4&&O+f*.75<l;f++)C.push(w.charAt(s>>>6*(3-f)&63));var c=w.charAt(64);if(c)for(;C.length%4;)C.push(c);return C.join("")},parse:function(y){var E=y.length,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=this._reverseMap;if(!w){w=this._reverseMap=[];for(var C=0;C<l.length;C++)w[l.charCodeAt(C)]=C}var O=l.charAt(64);if(O){var h=y.indexOf(O);h!==-1&&(E=h)}return S(y,E,w)}};function S(y,E,l){for(var w=[],C=0,O=0;O<E;O++)if(O%4){var h=l[y.charCodeAt(O-1)]<<O%4*2,m=l[y.charCodeAt(O)]>>>6-O%4*2,v=h|m;w[C>>>2]|=v<<24-C%4*8,C++}return a.create(w,C)}}(),r.enc.Base64})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(0)),i=r.__importDefault(n(3)),a=r.__importDefault(n(11)),u=r.__importStar(n(2));function d(y){return S.Actions.indexOf(y)}var S=function(){function y(){}return y.prototype.isSynthesized=function(){return!this.id||!this.connectionId?!0:this.id.substring(this.connectionId.length,0)!==this.connectionId},y.prototype.parseId=function(){if(!this.id)throw new Error("parseId(): Presence message does not contain an id");var E=this.id.split(":");return{connectionId:E[0],msgSerial:parseInt(E[1],10),index:parseInt(E[2],10)}},y.prototype.toJSON=function(){var E=this.data,l=this.encoding;return E&&i.default.BufferUtils.isBuffer(E)&&(arguments.length>0?(l=l?l+"/base64":"base64",E=i.default.BufferUtils.base64Encode(E)):E=i.default.BufferUtils.toBuffer(E)),{clientId:this.clientId,action:d(this.action),data:E,encoding:l}},y.prototype.toString=function(){var E="[PresenceMessage";return E+="; action="+this.action,this.id&&(E+="; id="+this.id),this.timestamp&&(E+="; timestamp="+this.timestamp),this.clientId&&(E+="; clientId="+this.clientId),this.connectionId&&(E+="; connectionId="+this.connectionId),this.encoding&&(E+="; encoding="+this.encoding),this.data&&(typeof this.data=="string"?E+="; data="+this.data:i.default.BufferUtils.isBuffer(this.data)?E+="; data (buffer)="+i.default.BufferUtils.base64Encode(this.data):E+="; data (json)="+JSON.stringify(this.data)),E+="]",E},y.fromResponseBody=function(E,l,w){var C=[];w&&(E=u.decodeBody(E,w));for(var O=0;O<E.length;O++){var h=C[O]=y.fromValues(E[O],!0);try{y.decode(h,l)}catch(m){o.default.logAction(o.default.LOG_ERROR,"PresenceMessage.fromResponseBody()",m.toString())}}return C},y.fromValues=function(E,l){return l&&(E.action=y.Actions[E.action]),Object.assign(new y,E)},y.fromValuesArray=function(E){for(var l=E.length,w=new Array(l),C=0;C<l;C++)w[C]=y.fromValues(E[C]);return w},y.fromEncoded=function(E,l){var w=y.fromValues(E,!0);try{y.decode(w,l)}catch(C){o.default.logAction(o.default.LOG_ERROR,"PresenceMessage.fromEncoded()",C.toString())}return w},y.fromEncodedArray=function(E,l){return E.map(function(w){return y.fromEncoded(w,l)})},y.Actions=["absent","present","enter","leave","update"],y.encode=a.default.encode,y.decode=a.default.decode,y.getMessagesSize=a.default.getMessagesSize,y}();t.default=S},function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=n(1),i=o.__importStar(n(2)),a=o.__importDefault(n(7)),u=o.__importDefault(n(5)),d=o.__importDefault(n(0)),S=o.__importDefault(n(8)),y=o.__importDefault(n(21)),E=o.__importDefault(n(3));function l(x,T){return i.arrIn(i.allToLowerCase(i.keysArray(T)),"x-ably-errorcode")}function w(x,T){if(l(x,T))return x.error&&u.default.fromValues(x.error)}var C=function(){},O=0,h={},m=typeof r<"u"&&r.XDomainRequest;function v(){var x=navigator.userAgent.toString().match(/MSIE\s([\d.]+)/);return x&&Number(x[1])}function s(){var x;return m&&(x=v())&&x===10}function f(x,T){return x.getResponseHeader&&x.getResponseHeader(T)}function c(x){return x.getResponseHeader&&(x.getResponseHeader("transfer-encoding")||!x.getResponseHeader("content-length"))}function g(x){for(var T=i.trim(x.getAllResponseHeaders()).split(`\r
`),A={},k=0;k<T.length;k++){var D=T[k].split(":").map(i.trim);A[D[0].toLowerCase()]=D[1]}return A}var p=function(x){o.__extends(T,x);function T(A,k,D,M,R,I,B){var L=x.call(this)||this;return D=D||{},D.rnd=i.cheapRandStr(),s()&&!D.envelope&&(D.envelope="json"),L.uri=A+i.toQueryString(D),L.headers=k||{},L.body=M,L.method=B?B.toUpperCase():i.isEmptyArg(M)?"GET":"POST",L.requestMode=R,L.timeouts=I,L.timedOut=!1,L.requestComplete=!1,L.id=String(++O),h[L.id]=L,L}return T.createRequest=function(A,k,D,M,R,I,B){var L=I||S.default.TIMEOUTS;return new T(A,k,i.copy(D),M,R,L,B)},T.prototype.complete=function(A,k,D,M,R){this.requestComplete||(this.requestComplete=!0,!A&&k&&this.emit("data",k),this.emit("complete",A,k,D,M,R),this.dispose())},T.prototype.abort=function(){this.dispose()},T.prototype.exec=function(){var A=this,k=this.headers,D=this.requestMode==y.default.REQ_SEND?this.timeouts.httpRequestTimeout:this.timeouts.recvTimeout,M=this.timer=setTimeout(function(){A.timedOut=!0,I.abort()},D),R=this.method,I=this.xhr=new XMLHttpRequest,B=k.accept,L=this.body,W="text";if(B?B.indexOf("application/x-msgpack")===0&&(W="arraybuffer"):k.accept="application/json",L){var z=k["content-type"]||(k["content-type"]="application/json");z.indexOf("application/json")>-1&&typeof L!="string"&&(L=JSON.stringify(L))}I.open(R,this.uri,!0),I.responseType=W,"authorization"in k&&(I.withCredentials=!0);for(var b in k)I.setRequestHeader(b,k[b]);var F=function(Q,he,G,$){var K,X=he+" (event type: "+Q.type+")";!((K=A==null?void 0:A.xhr)===null||K===void 0)&&K.statusText&&(X+=", current statusText is "+A.xhr.statusText),d.default.logAction(d.default.LOG_ERROR,"Request.on"+Q.type+"()",X),A.complete(new u.default(X,G,$))};I.onerror=function(Q){F(Q,"XHR error occurred",null,400)},I.onabort=function(Q){A.timedOut?F(Q,"Request aborted due to request timeout expiring",null,408):F(Q,"Request cancelled",null,400)},I.ontimeout=function(Q){F(Q,"Request timed out",null,408)};var P,_,H,U=0,j=!1,q=function(){if(clearTimeout(M),H=_<400,_==204){A.complete(null,null,null,null,_);return}P=A.requestMode==y.default.REQ_RECV_STREAM&&H&&c(I)},Y=function(){var Q;try{var he=f(I,"content-type"),G=he?he.indexOf("application/json")>=0:I.responseType=="text";if(G){var $=I.responseType==="arraybuffer"?E.default.BufferUtils.utf8Decode(I.response):String(I.responseText);$.length?Q=JSON.parse($):Q=$,j=!0}else Q=I.response;Q.response!==void 0?(_=Q.statusCode,H=_<400,k=Q.headers,Q=Q.response):k=g(I)}catch(X){A.complete(new u.default("Malformed response body from server: "+X.message,null,400));return}if(H||i.isArray(Q)){A.complete(null,Q,k,j,_);return}var K=w(Q,k);K||(K=new u.default("Error response received from server: "+_+" body was: "+E.default.Config.inspect(Q),null,_)),A.complete(K,Q,k,j,_)};function Z(){for(var Q=I.responseText,he=Q.length-1,G,$;U<he&&(G=Q.indexOf(`
`,U))>-1;)$=Q.slice(U,G),U=G+1,re($)}var re=function(Q){try{Q=JSON.parse(Q)}catch(he){A.complete(new u.default("Malformed response body from server: "+he.message,null,400));return}A.emit("data",Q)},te=function(){Z(),A.streamComplete=!0,E.default.Config.nextTick(function(){A.complete()})};I.onreadystatechange=function(){var Q=I.readyState;Q<3||I.status!==0&&(_===void 0&&(_=I.status,_===1223&&(_=204),q()),Q==3&&P?Z():Q==4&&(P?te():Y()))},I.send(L)},T.prototype.dispose=function(){var A=this.xhr;if(A){A.onreadystatechange=A.onerror=A.onabort=A.ontimeout=C,this.xhr=null;var k=this.timer;k&&(clearTimeout(k),this.timer=null),this.requestComplete||A.abort()}delete h[this.id]},T}(a.default);t.default=p}).call(this,n(10))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(0)),i=r.__importStar(n(2)),a=r.__importDefault(n(23)),u=r.__importDefault(n(5)),d=r.__importDefault(n(44)),S=n(14),y=n(32),E=r.__importDefault(n(18)),l=r.__importDefault(n(3)),w=Math.pow(2,17);function C(){}function O(){return("000000"+Math.floor(Math.random()*1e16)).slice(-16)}function h(D){return!!D.connection}function m(D){return i.isErrorInfo(D)?(D.code||(D.statusCode===403?D.code=40300:(D.code=40170,D.statusCode=401)),D):new u.default(i.inspectError(D),D.code||40170,D.statusCode||401)}var v=function(D){return l.default.Config.createHmac?Buffer.from(D,"ascii").toString("base64"):S.stringify(y.parse(D))},s=function(D,M){if(l.default.Config.createHmac){var R=l.default.Config.createHmac("SHA256",M);return R.update(D),R.digest("base64")}return S.stringify(d.default(D,M))};function f(D){if(!D)return"";typeof D=="string"&&(D=JSON.parse(D));var M={},R=i.keysArray(D,!0);if(!R)return"";R.sort();for(var I=0;I<R.length;I++)M[R[I]]=D[R[I]].sort();return JSON.stringify(M)}function c(D){if(D.authCallback)o.default.logAction(o.default.LOG_MINOR,"Auth()","using token auth with authCallback");else if(D.authUrl)o.default.logAction(o.default.LOG_MINOR,"Auth()","using token auth with authUrl");else if(D.key)o.default.logAction(o.default.LOG_MINOR,"Auth()","using token auth with client-side signing");else if(D.tokenDetails)o.default.logAction(o.default.LOG_MINOR,"Auth()","using token auth with supplied token only");else{var M="authOptions must include valid authentication parameters";throw o.default.logAction(o.default.LOG_ERROR,"Auth()",M),new Error(M)}}function g(D){return"useTokenAuth"in D&&!D.useTokenAuth}function p(D){return D.useTokenAuth||!g(D)&&(D.authCallback||D.authUrl||D.token||D.tokenDetails)}function x(D){return!D.key&&!D.authCallback&&!D.authUrl}var T=0;function A(){return T++}var k=function(){function D(M,R){if(this.authOptions={},this.client=M,this.tokenParams=R.defaultTokenParams||{},this.currentTokenRequestId=null,this.waitingForTokenRequest=null,p(R)){if(R.key&&!s){var I="client-side token request signing not supported";throw o.default.logAction(o.default.LOG_ERROR,"Auth()",I),new Error(I)}x(R)&&o.default.logAction(o.default.LOG_ERROR,"Auth()","Warning: library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help"),this._saveTokenOptions(R.defaultTokenParams,R),c(this.authOptions)}else{if(!R.key){var I="No authentication options provided; need one of: key, authUrl, or authCallback (or for testing only, token or tokenDetails)";throw o.default.logAction(o.default.LOG_ERROR,"Auth()",I),new u.default(I,40160,401)}o.default.logAction(o.default.LOG_MINOR,"Auth()","anonymous, using basic auth"),this._saveBasicOptions(R)}}return D.prototype.authorize=function(M,R,I){var B=this,L;if(typeof M=="function"&&!I?(I=M,L=M=null):typeof R=="function"&&!I?(I=R,L=null):L=R,!I&&this.client.options.promises)return i.promisify(this,"authorize",arguments);if(L&&L.key&&this.authOptions.key!==L.key)throw new u.default("Unable to update auth options with incompatible key",40102,401);L&&"force"in L&&(o.default.logAction(o.default.LOG_ERROR,"Auth.authorize","Deprecation warning: specifying {force: true} in authOptions is no longer necessary, authorize() now always gets a new token. Please remove this, as in version 1.0 and later, having a non-null authOptions will overwrite stored library authOptions, which may not be what you want"),i.isOnlyPropIn(L,"force")&&(L=null)),this._forceNewToken(M,L,function(W,z){if(W){B.client.connection&&B.client.connection.connectionManager.actOnErrorFromAuthorize(W),I==null||I(W);return}h(B.client)?B.client.connection.connectionManager.onAuthUpdated(z,I||C):I==null||I(null,z)})},D.prototype.authorise=function(M,R,I){o.default.deprecated("Auth.authorise","Auth.authorize"),this.authorize(M,R,I)},D.prototype._forceNewToken=function(M,R,I){var B=this;this.tokenDetails=null,this._saveTokenOptions(M,R),c(this.authOptions),this._ensureValidAuthCredentials(!0,function(L,W){delete B.tokenParams.timestamp,delete B.authOptions.queryTime,I(L,W)})},D.prototype.requestToken=function(M,R,I){var B=this;if(typeof M=="function"&&!I?(I=M,R=M=null):typeof R=="function"&&!I&&(I=R,R=null),!I&&this.client.options.promises)return i.promisify(this,"requestToken",arguments);R=R||this.authOptions,M=M||i.copy(this.tokenParams);var L=I||C,W,z=this.client;if(R.authCallback)o.default.logAction(o.default.LOG_MINOR,"Auth.requestToken()","using token auth with authCallback"),W=R.authCallback;else if(R.authUrl)o.default.logAction(o.default.LOG_MINOR,"Auth.requestToken()","using token auth with authUrl"),W=function(U,j){var q=i.mixin({accept:"application/json, text/plain"},R.authHeaders),Y=R.authMethod&&R.authMethod.toLowerCase()==="post",Z,re=R.authUrl.indexOf("?");re>-1&&(Z=i.parseQueryString(R.authUrl.slice(re)),R.authUrl=R.authUrl.slice(0,re),Y||(R.authParams=i.mixin(Z,R.authParams)));var te=i.mixin({},R.authParams||{},U),Q=function($,K,X,ie){var xe;if($?o.default.logAction(o.default.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Received Error: "+i.inspectError($)):(xe=X["content-type"],o.default.logAction(o.default.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Received; content-type: "+xe+"; body: "+i.inspectBody(K))),$||ie)return j($,K);if(l.default.BufferUtils.isBuffer(K)&&(K=K.toString()),!xe){j(new u.default("authUrl response is missing a content-type header",40170,401));return}var ge=xe.indexOf("application/json")>-1,Nt=xe.indexOf("text/plain")>-1||xe.indexOf("application/jwt")>-1;if(!ge&&!Nt){j(new u.default("authUrl responded with unacceptable content-type "+xe+", should be either text/plain, application/jwt or application/json",40170,401));return}if(ge){if(K.length>w){j(new u.default("authUrl response exceeded max permitted length",40170,401));return}try{K=JSON.parse(K)}catch(Vt){j(new u.default("Unexpected error processing authURL response; err = "+Vt.message,40170,401));return}}j(null,K,xe)};if(o.default.logAction(o.default.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Requesting token from "+R.authUrl+"; Params: "+JSON.stringify(te)+"; method: "+(Y?"POST":"GET")),Y){var he=q||{};he["content-type"]="application/x-www-form-urlencoded";var G=i.toQueryString(te).slice(1);B.client.http.doUri(E.default.Post,z,R.authUrl,he,G,Z,Q)}else B.client.http.doUri(E.default.Get,z,R.authUrl,q||{},null,te,Q)};else if(R.key)o.default.logAction(o.default.LOG_MINOR,"Auth.requestToken()","using token auth with client-side signing"),W=function(U,j){B.createTokenRequest(U,R,j)};else{var b="Need a new token, but authOptions does not include any way to request one (no authUrl, authCallback, or key)";o.default.logAction(o.default.LOG_ERROR,"Auth()","library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help"),L(new u.default(b,40171,403));return}"capability"in M&&(M.capability=f(M.capability));var F=function(U,j){var q=U.keyName,Y="/keys/"+q+"/requestToken",Z=function(te){return z.baseUri(te)+Y},re=i.defaultPostHeaders();R.requestHeaders&&i.mixin(re,R.requestHeaders),o.default.logAction(o.default.LOG_MICRO,"Auth.requestToken().requestToken","Sending POST to "+Y+"; Token params: "+JSON.stringify(U)),B.client.http.do(E.default.Post,z,Z,re,JSON.stringify(U),null,j)},P=!1,_=this.client.options.timeouts.realtimeRequestTimeout,H=setTimeout(function(){P=!0;var U="Token request callback timed out after "+_/1e3+" seconds";o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()",U),L(new u.default(U,40170,401))},_);W(M,function(U,j,q){if(!P){if(clearTimeout(H),U){o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()","token request signing call returned error; err = "+i.inspectError(U)),L(m(U));return}if(typeof j=="string"){j.length===0?L(new u.default("Token string is empty",40170,401)):j.length>w?L(new u.default("Token string exceeded max permitted length (was "+j.length+" bytes)",40170,401)):j==="undefined"||j==="null"?L(new u.default("Token string was literal null/undefined",40170,401)):j[0]==="{"&&!(q&&q.indexOf("application/jwt")>-1)?L(new u.default("Token was double-encoded; make sure you're not JSON-encoding an already encoded token request or details",40170,401)):L(null,{token:j});return}if(typeof j!="object"){var Y="Expected token request callback to call back with a token string or token request/details object, but got a "+typeof j;o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()",Y),L(new u.default(Y,40170,401));return}var Z=JSON.stringify(j).length;if(Z>w&&!R.suppressMaxLengthCheck){L(new u.default("Token request/details object exceeded max permitted stringified size (was "+Z+" bytes)",40170,401));return}if("issued"in j){L(null,j);return}if(!("keyName"in j)){var Y="Expected token request callback to call back with a token string, token request object, or token details object";o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()",Y),L(new u.default(Y,40170,401));return}F(j,function(re,te,Q,he){if(re){o.default.logAction(o.default.LOG_ERROR,"Auth.requestToken()","token request API call returned error; err = "+i.inspectError(re)),L(m(re));return}he||(te=JSON.parse(te)),o.default.logAction(o.default.LOG_MINOR,"Auth.getToken()","token received"),L(null,te)})}})},D.prototype.createTokenRequest=function(M,R,I){var B=this;if(typeof M=="function"&&!I?(I=M,R=M=null):typeof R=="function"&&!I&&(I=R,R=null),!I&&this.client.options.promises)return i.promisify(this,"createTokenRequest",arguments);R=R||this.authOptions,M=M||i.copy(this.tokenParams);var L=R.key;if(!L){I(new u.default("No key specified",40101,403));return}var W=L.split(":"),z=W[0],b=W[1];if(!b){I(new u.default("Invalid key specified",40101,403));return}if(M.clientId===""){I(new u.default("clientId can\u2019t be an empty string",40012,400));return}"capability"in M&&(M.capability=f(M.capability));var F=i.mixin({keyName:z},M),P=M.clientId||"",_=M.ttl||"",H=M.capability||"";(function(U){if(F.timestamp){U();return}B.getTimestamp(R&&R.queryTime,function(j,q){if(j){I(j);return}F.timestamp=q,U()})})(function(){var U=F.nonce||(F.nonce=O()),j=F.timestamp,q=F.keyName+`
`+_+`
`+H+`
`+P+`
`+j+`
`+U+`
`;F.mac=F.mac||s(q,b),o.default.logAction(o.default.LOG_MINOR,"Auth.getTokenRequest()","generated signed request"),I(null,F)})},D.prototype.getAuthParams=function(M){this.method=="basic"?M(null,{key:this.key}):this._ensureValidAuthCredentials(!1,function(R,I){if(R){M(R);return}if(!I)throw new Error("Auth.getAuthParams(): _ensureValidAuthCredentials returned no error or tokenDetails");M(null,{access_token:I.token})})},D.prototype.getAuthHeaders=function(M){this.method=="basic"?M(null,{authorization:"Basic "+this.basicKey}):this._ensureValidAuthCredentials(!1,function(R,I){if(R){M(R);return}if(!I)throw new Error("Auth.getAuthParams(): _ensureValidAuthCredentials returned no error or tokenDetails");M(null,{authorization:"Bearer "+v(I.token)})})},D.prototype.getTimestamp=function(M,R){!this.isTimeOffsetSet()&&(M||this.authOptions.queryTime)?this.client.time(R):R(null,this.getTimestampUsingOffset())},D.prototype.getTimestampUsingOffset=function(){return i.now()+(this.client.serverTimeOffset||0)},D.prototype.isTimeOffsetSet=function(){return this.client.serverTimeOffset!==null},D.prototype._saveBasicOptions=function(M){this.method="basic",this.key=M.key,this.basicKey=v(M.key),this.authOptions=M||{},"clientId"in M&&this._userSetClientId(M.clientId)},D.prototype._saveTokenOptions=function(M,R){this.method="token",M&&(this.tokenParams=M),R&&(R.token&&(R.tokenDetails=typeof R.token=="string"?{token:R.token}:R.token),R.tokenDetails&&(this.tokenDetails=R.tokenDetails),"clientId"in R&&this._userSetClientId(R.clientId),this.authOptions=R)},D.prototype._ensureValidAuthCredentials=function(M,R){var I=this,B=this.tokenDetails;if(B){if(this._tokenClientIdMismatch(B.clientId)){R(new u.default("Mismatch between clientId in token ("+B.clientId+") and current clientId ("+this.clientId+")",40102,403));return}if(!this.isTimeOffsetSet()||!B.expires||B.expires>=this.getTimestampUsingOffset()){o.default.logAction(o.default.LOG_MINOR,"Auth.getToken()","using cached token; expires = "+B.expires),R(null,B);return}o.default.logAction(o.default.LOG_MINOR,"Auth.getToken()","deleting expired token"),this.tokenDetails=null}if((this.waitingForTokenRequest||(this.waitingForTokenRequest=a.default.create())).push(R),!(this.currentTokenRequestId!==null&&!M)){var L=this.currentTokenRequestId=A();this.requestToken(this.tokenParams,this.authOptions,function(W,z){if(I.currentTokenRequestId>L){o.default.logAction(o.default.LOG_MINOR,"Auth._ensureValidAuthCredentials()","Discarding token request response; overtaken by newer one");return}I.currentTokenRequestId=null;var b=I.waitingForTokenRequest||C;if(I.waitingForTokenRequest=null,W){b(W);return}b(null,I.tokenDetails=z)})}},D.prototype._userSetClientId=function(M){if(typeof M=="string"||M===null){if(M==="*")throw new u.default('Can\u2019t use "*" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, instantiate the library with {defaultTokenParams: {clientId: "*"}}), or if calling authorize(), pass it in as a tokenParam: authorize({clientId: "*"}, authOptions)',40012,400);var R=this._uncheckedSetClientId(M);if(R)throw R}else throw new u.default("clientId must be either a string or null",40012,400)},D.prototype._uncheckedSetClientId=function(M){if(this._tokenClientIdMismatch(M)){var R="Unexpected clientId mismatch: client has "+this.clientId+", requested "+M,I=new u.default(R,40102,401);return o.default.logAction(o.default.LOG_ERROR,"Auth._uncheckedSetClientId()",R),I}else return this.clientId=this.tokenParams.clientId=M,null},D.prototype._tokenClientIdMismatch=function(M){return!!(this.clientId&&this.clientId!=="*"&&M&&M!=="*"&&this.clientId!==M)},D.isTokenErr=function(M){return M.code&&M.code>=40140&&M.code<40150},D}();t.default=k},function(e,t,n){"use strict";t.__esModule=!0;var r;(function(o){o.Get="get",o.Delete="delete",o.Post="post",o.Put="put",o.Patch="patch"})(r||(r={})),t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.HttpPaginatedResponse=t.PaginatedResult=void 0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(0)),a=r.__importDefault(n(25));function u(w){var C=w.match(/^\.\/(\w+)\?(.*)$/);return C&&C[2]&&o.parseQueryString(C[2])}function d(w){typeof w=="string"&&(w=w.split(","));for(var C={},O=0;O<w.length;O++){var h=w[O].match(/^\s*<(.+)>;\s*rel="(\w+)"$/);if(h){var m=u(h[1]);m&&(C[h[2]]=m)}}return C}function S(w,C,O){return!(O&&(C||typeof w.code=="number"))}var y=function(){function w(C,O,h,m,v,s){this.rest=C,this.path=O,this.headers=h,this.envelope=m??null,this.bodyHandler=v,this.useHttpPaginatedResponse=s||!1}return w.prototype.get=function(C,O){var h=this;a.default.get(this.rest,this.path,this.headers,C,this.envelope,function(m,v,s,f,c){h.handlePage(m,v,s,f,c,O)})},w.prototype.delete=function(C,O){var h=this;a.default.delete(this.rest,this.path,this.headers,C,this.envelope,function(m,v,s,f,c){h.handlePage(m,v,s,f,c,O)})},w.prototype.post=function(C,O,h){var m=this;a.default.post(this.rest,this.path,O,this.headers,C,this.envelope,function(v,s,f,c,g){h&&m.handlePage(v,s,f,c,g,h)})},w.prototype.put=function(C,O,h){var m=this;a.default.put(this.rest,this.path,O,this.headers,C,this.envelope,function(v,s,f,c,g){h&&m.handlePage(v,s,f,c,g,h)})},w.prototype.patch=function(C,O,h){var m=this;a.default.patch(this.rest,this.path,O,this.headers,C,this.envelope,function(v,s,f,c,g){h&&m.handlePage(v,s,f,c,g,h)})},w.prototype.handlePage=function(C,O,h,m,v,s){if(C&&S(C,O,this.useHttpPaginatedResponse)){i.default.logAction(i.default.LOG_ERROR,"PaginatedResource.handlePage()","Unexpected error getting resource: err = "+o.inspectError(C)),s==null||s(C);return}var f,c,g;try{f=this.bodyHandler(O,h||{},m)}catch(p){s==null||s(C||p);return}h&&(c=h.Link||h.link)&&(g=d(c)),this.useHttpPaginatedResponse?s(null,new l(this,f,h||{},v,g,C)):s(null,new E(this,f,g))},w}(),E=function(){function w(C,O,h){var m=this;this.resource=C,this.items=O;var v=this;h&&("first"in h&&(this.first=function(s){if(!s&&v.resource.rest.options.promises)return o.promisify(v,"first",[]);v.get(h.first,s)}),"current"in h&&(this.current=function(s){if(!s&&v.resource.rest.options.promises)return o.promisify(v,"current",[]);v.get(h.current,s)}),this.next=function(s){if(!s&&v.resource.rest.options.promises)return o.promisify(v,"next",[]);"next"in h?v.get(h.next,s):s(null)},this.hasNext=function(){return"next"in h},this.isLast=function(){var s;return!(!((s=m.hasNext)===null||s===void 0)&&s.call(m))})}return w.prototype.get=function(C,O){var h=this.resource;a.default.get(h.rest,h.path,h.headers,C,h.envelope,function(m,v,s,f,c){h.handlePage(m,v,s,f,c,O)})},w}();t.PaginatedResult=E;var l=function(w){r.__extends(C,w);function C(O,h,m,v,s,f){var c=w.call(this,O,h,s)||this;return c.statusCode=v,c.success=v<300&&v>=200,c.headers=m,c.errorCode=f&&f.code,c.errorMessage=f&&f.message,c}return C.prototype.toJSON=function(){return{items:this.items,statusCode:this.statusCode,success:this.success,headers:this.headers,errorCode:this.errorCode,errorMessage:this.errorMessage}},C}(E);t.HttpPaginatedResponse=l,t.default=y},function(e,t,n){"use strict";t.__esModule=!0,t.isRetriable=void 0;var r=n(1),o=r.__importDefault(n(5)),i={disconnected:o.default.fromValues({statusCode:400,code:80003,message:"Connection to server temporarily unavailable"}),suspended:o.default.fromValues({statusCode:400,code:80002,message:"Connection to server unavailable"}),failed:o.default.fromValues({statusCode:400,code:8e4,message:"Connection failed or disconnected by server"}),closing:o.default.fromValues({statusCode:400,code:80017,message:"Connection closing"}),closed:o.default.fromValues({statusCode:400,code:80017,message:"Connection closed"}),unknownConnectionErr:o.default.fromValues({statusCode:500,code:50002,message:"Internal connection error"}),unknownChannelErr:o.default.fromValues({statusCode:500,code:50001,message:"Internal channel error"})};function a(u){if(!u.statusCode||!u.code||u.statusCode>=500)return!0;var d=!1;return Object.values(i).forEach(function(S){S.code&&S.code==u.code&&(d=!0)}),d}t.isRetriable=a,t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var r;(function(o){o[o.REQ_SEND=0]="REQ_SEND",o[o.REQ_RECV=1]="REQ_RECV",o[o.REQ_RECV_POLL=2]="REQ_RECV_POLL",o[o.REQ_RECV_STREAM=3]="REQ_RECV_STREAM"})(r||(r={})),t.default=r},function(e,t,n){(function(r,o){e.exports=t=o(n(6),n(4),n(59),n(14),n(40),n(31),n(24),n(27),n(28),n(60),n(61))})(this,function(r){return r})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(0)),i=function(){function a(u){this.members=u||[]}return a.prototype.call=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];for(var S=0,y=this.members;S<y.length;S++){var E=y[S];if(E)try{E.apply(void 0,u)}catch(l){o.default.logAction(o.default.LOG_ERROR,"Multicaster multiple callback handler","Unexpected exception: "+l+"; stack = "+l.stack)}}},a.prototype.push=function(){for(var u,d=[],S=0;S<arguments.length;S++)d[S]=arguments[S];(u=this.members).push.apply(u,d)},a.create=function(u){var d=new a(u);return Object.assign(function(){for(var S=[],y=0;y<arguments.length;y++)S[y]=arguments[y];return d.call.apply(d,S)},{push:function(S){return d.push(S)}})},a}();t.default=i},function(e,t,n){(function(r,o){e.exports=t=o(n(6))})(this,function(r){(function(){var o=r,i=o.lib,a=i.Base,u=o.enc,d=u.Utf8,S=o.algo,y=S.HMAC=a.extend({init:function(E,l){E=this._hasher=new E.init,typeof l=="string"&&(l=d.parse(l));var w=E.blockSize,C=w*4;l.sigBytes>C&&(l=E.finalize(l)),l.clamp();for(var O=this._oKey=l.clone(),h=this._iKey=l.clone(),m=O.words,v=h.words,s=0;s<w;s++)m[s]^=1549556828,v[s]^=909522486;O.sigBytes=h.sigBytes=C,this.reset()},reset:function(){var E=this._hasher;E.reset(),E.update(this._iKey)},update:function(E){return this._hasher.update(E),this},finalize:function(E){var l=this._hasher,w=l.finalize(E);l.reset();var C=l.finalize(this._oKey.clone().concat(w));return C}})})()})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(3)),i=r.__importStar(n(2)),a=r.__importDefault(n(0)),u=r.__importDefault(n(17)),d=r.__importDefault(n(18)),S=r.__importDefault(n(5));function y(h,m,v,s,f){h.http.supportsAuthHeaders?h.auth.getAuthHeaders(function(c,g){c?s(c):f(i.mixin(g,m),v)}):h.auth.getAuthParams(function(c,g){c?s(c):f(m,i.mixin(g,v))})}function E(h,m){return function(v,s,f,c,g){if(v&&!s){h(v);return}if(!c)try{s=i.decodeBody(s,m)}catch(D){h(D);return}if(!s){h(new S.default("unenvelope(): Response body is missing",null));return}var p=s,x=p.statusCode,T=p.response,A=p.headers;if(x===void 0){h(v,s,f,!0,g);return}if(x<200||x>=300){var k=T&&T.error||v;k||(k=new Error("Error in unenveloping "+s),k.statusCode=x),h(k,T,A,!0,x);return}h(v,T,A,!0,x)}}function l(h){var m=[];if(h)for(var v in h)m.push(v+"="+h[v]);return m.join("&")}function w(h,m){return h+(m?"?":"")+l(m)}function C(h,m,v,s){return function(f,c,g,p,x){f?a.default.logAction(a.default.LOG_MICRO,"Resource."+m+"()","Received Error; "+w(v,s)+"; Error: "+i.inspectError(f)):a.default.logAction(a.default.LOG_MICRO,"Resource."+m+"()","Received; "+w(v,s)+"; Headers: "+l(g)+"; StatusCode: "+x+"; Body: "+(o.default.BufferUtils.isBuffer(c)?c.toString():c)),h&&h(f,c,g,p,x)}}var O=function(){function h(){}return h.get=function(m,v,s,f,c,g){h.do(d.default.Get,m,v,null,s,f,c,g)},h.delete=function(m,v,s,f,c,g){h.do(d.default.Delete,m,v,null,s,f,c,g)},h.post=function(m,v,s,f,c,g,p){h.do(d.default.Post,m,v,s,f,c,g,p)},h.patch=function(m,v,s,f,c,g,p){h.do(d.default.Patch,m,v,s,f,c,g,p)},h.put=function(m,v,s,f,c,g,p){h.do(d.default.Put,m,v,s,f,c,g,p)},h.do=function(m,v,s,f,c,g,p,x){a.default.shouldLog(a.default.LOG_MICRO)&&(x=C(x,m,s,g)),p&&(x=x&&E(x,p),(g=g||{}).envelope=p);function T(A,k){var D;if(a.default.shouldLog(a.default.LOG_MICRO)&&a.default.logAction(a.default.LOG_MICRO,"Resource."+m+"()","Sending; "+w(s,k)),a.default.shouldLog(a.default.LOG_MICRO)){var M=f;if(((D=A["content-type"])===null||D===void 0?void 0:D.indexOf("msgpack"))>0)try{M=o.default.Config.msgpack.decode(f)}catch(R){a.default.logAction(a.default.LOG_MICRO,"Resource."+m+"()","Sending MsgPack Decoding Error: "+i.inspectError(R))}a.default.logAction(a.default.LOG_MICRO,"Resource."+m+"()","Sending; "+w(s,k)+"; Body: "+M)}v.http.do(m,v,s,A,f,k,function(R,I,B,L,W){if(R&&u.default.isTokenErr(R)){v.auth.authorize(null,null,function(z){if(z){x(z);return}y(v,B,k,x,T)});return}x(R,I,B,L,W)})}y(v,c,g,x,T)},h}();t.default=O},function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.TransportParams=void 0;var o=n(1),i=o.__importDefault(n(12)),a=o.__importStar(n(2)),u=o.__importStar(n(52)),d=o.__importDefault(n(8)),S=o.__importDefault(n(3)),y=o.__importDefault(n(7)),E=o.__importDefault(n(35)),l=o.__importDefault(n(0)),w=o.__importDefault(n(36)),C=o.__importStar(n(20)),O=o.__importDefault(n(5)),h=o.__importDefault(n(17)),m=o.__importDefault(n(11)),v=o.__importDefault(n(23)),s=o.__importDefault(n(53)),f=o.__importDefault(n(54)),c=function(){var W;return typeof S.default.WebStorage<"u"&&((W=S.default.WebStorage)===null||W===void 0?void 0:W.localSupported)},g=function(){var W;return typeof S.default.WebStorage<"u"&&((W=S.default.WebStorage)===null||W===void 0?void 0:W.sessionSupported)},p=i.default.Action,x=function(){},T="ably-transport-preference",A="ably-connection-recovery";function k(){var W,z;return g()&&((z=(W=S.default.WebStorage)===null||W===void 0?void 0:W.getSession)===null||z===void 0?void 0:z.call(W,A))}function D(W){var z,b;return g()&&((b=(z=S.default.WebStorage)===null||z===void 0?void 0:z.setSession)===null||b===void 0?void 0:b.call(z,A,W))}function M(){var W,z;return g()&&((z=(W=S.default.WebStorage)===null||W===void 0?void 0:W.removeSession)===null||z===void 0?void 0:z.call(W,A))}function R(W,z){return a.arrIndexOf(S.default.Defaults.transportPreferenceOrder,W.shortName)>a.arrIndexOf(S.default.Defaults.transportPreferenceOrder,z.shortName)}function I(W,z,b){var F;if(W.channel!==z.channel||(F=W.action)!==p.PRESENCE&&F!==p.MESSAGE||F!==z.action)return!1;var P=F===p.PRESENCE?"presence":"messages",_=W[P].concat(z[P]),H=m.default.getMessagesSize(_);return H>b||!a.allSame(_,"clientId")||!a.arrEvery(_,function(U){return!U.id})?!1:(W[P]=_,!0)}var B=function(){function W(z,b,F,P){this.options=z,this.host=b,this.mode=F,this.connectionKey=P,this.format=z.useBinaryProtocol?a.Format.msgpack:a.Format.json,this.connectionSerial=void 0,this.timeSerial=void 0}return W.prototype.getConnectParams=function(z){var b=z?a.copy(z):{},F=this.options;switch(this.mode){case"upgrade":b.upgrade=this.connectionKey;break;case"resume":b.resume=this.connectionKey,this.timeSerial!==void 0?b.timeSerial=this.timeSerial:this.connectionSerial!==void 0&&(b.connectionSerial=this.connectionSerial);break;case"recover":{var P=F.recover.split(":");if(P){b.recover=P[0];var _=P[1];isNaN(Number(_))?b.timeSerial=_:b.connectionSerial=_}break}default:}return F.clientId!==void 0&&(b.clientId=F.clientId),F.echoMessages===!1&&(b.echo="false"),this.format!==void 0&&(b.format=this.format),this.stream!==void 0&&(b.stream=this.stream),this.heartbeats!==void 0&&(b.heartbeats=this.heartbeats),b.v=d.default.apiVersion,b.agent=encodeURIComponent(d.default.agent),F.transportParams!==void 0&&a.mixin(b,F.transportParams),b},W.prototype.toString=function(){var z="[mode="+this.mode;return this.host&&(z+=",host="+this.host),this.connectionKey&&(z+=",connectionKey="+this.connectionKey),this.connectionSerial!==void 0&&(z+=",connectionSerial="+this.connectionSerial),this.timeSerial&&(z+=",timeSerial="+this.timeSerial),this.format&&(z+=",format="+this.format),z+="]",z},W}();t.TransportParams=B;var L=function(W){o.__extends(z,W);function z(b,F){var P=W.call(this)||this;z.initTransports(),P.realtime=b,P.options=F;var _=F.timeouts,H=_.preferenceConnectTimeout+_.realtimeRequestTimeout;if(P.states={initialized:{state:"initialized",terminal:!1,queueEvents:!0,sendEvents:!1,failState:"disconnected"},connecting:{state:"connecting",terminal:!1,queueEvents:!0,sendEvents:!1,retryDelay:H,failState:"disconnected"},connected:{state:"connected",terminal:!1,queueEvents:!1,sendEvents:!0,failState:"disconnected"},synchronizing:{state:"connected",terminal:!1,queueEvents:!0,sendEvents:!1,forceQueueEvents:!0,failState:"disconnected"},disconnected:{state:"disconnected",terminal:!1,queueEvents:!0,sendEvents:!1,retryDelay:_.disconnectedRetryTimeout,failState:"disconnected"},suspended:{state:"suspended",terminal:!1,queueEvents:!1,sendEvents:!1,retryDelay:_.suspendedRetryTimeout,failState:"suspended"},closing:{state:"closing",terminal:!1,queueEvents:!1,sendEvents:!1,retryDelay:_.realtimeRequestTimeout,failState:"closed"},closed:{state:"closed",terminal:!0,queueEvents:!1,sendEvents:!1,failState:"closed"},failed:{state:"failed",terminal:!0,queueEvents:!1,sendEvents:!1,failState:"failed"}},P.state=P.states.initialized,P.errorReason=null,P.queuedMessages=new E.default,P.msgSerial=0,P.connectionDetails=void 0,P.connectionId=void 0,P.connectionKey=void 0,P.timeSerial=void 0,P.connectionSerial=void 0,P.connectionStateTtl=_.connectionStateTtl,P.maxIdleInterval=null,P.transports=a.intersect(F.transports||d.default.defaultTransports,z.supportedTransports),P.baseTransport=a.intersect(d.default.baseTransportOrder,P.transports)[0],P.upgradeTransports=a.intersect(P.transports,d.default.upgradeTransports),P.transportPreference=null,P.httpHosts=d.default.getHosts(F),P.activeProtocol=null,P.proposedTransports=[],P.pendingTransports=[],P.host=null,P.lastAutoReconnectAttempt=null,P.lastActivity=null,P.mostRecentMsg=null,P.forceFallbackHost=!1,P.connectCounter=0,l.default.logAction(l.default.LOG_MINOR,"Realtime.ConnectionManager()","started"),l.default.logAction(l.default.LOG_MICRO,"Realtime.ConnectionManager()","requested transports = ["+(F.transports||d.default.defaultTransports)+"]"),l.default.logAction(l.default.LOG_MICRO,"Realtime.ConnectionManager()","available transports = ["+P.transports+"]"),l.default.logAction(l.default.LOG_MICRO,"Realtime.ConnectionManager()","http hosts = ["+P.httpHosts+"]"),!P.transports.length){var U="no requested transports available";throw l.default.logAction(l.default.LOG_ERROR,"realtime.ConnectionManager()",U),new Error(U)}var j=S.default.Config.addEventListener;return j&&(g()&&typeof F.recover=="function"&&j("beforeunload",P.persistConnection.bind(P)),F.closeOnUnload===!0&&j("beforeunload",function(){l.default.logAction(l.default.LOG_MAJOR,"Realtime.ConnectionManager()","beforeunload event has triggered the connection to close as closeOnUnload is true"),P.requestState({state:"closing"})}),j("online",function(){(P.state==P.states.disconnected||P.state==P.states.suspended)&&(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager caught browser \u2018online\u2019 event","reattempting connection"),P.requestState({state:"connecting"}))}),j("offline",function(){P.state==P.states.connected&&(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager caught browser \u2018offline\u2019 event","disconnecting active transport"),P.disconnectAllTransports())})),P}return z.initTransports=function(){s.default(z),a.arrForEach(S.default.Transports,function(b){b(z)})},z.prototype.createTransportParams=function(b,F){var P=new B(this.options,b,F,this.connectionKey);return this.timeSerial?P.timeSerial=String(this.timeSerial):this.connectionSerial!==void 0&&(P.connectionSerial=this.connectionSerial),P},z.prototype.getTransportParams=function(b){var F=this,P=function(_){if(F.connectionKey){_("resume");return}if(typeof F.options.recover=="string"){_("recover");return}var H=F.options.recover,U=k();if(U&&typeof H=="function"){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.getTransportParams()","Calling clientOptions-provided recover function with last session data"),H(U,function(j){j?(F.options.recover=U.recoveryKey,_("recover")):_("clean")});return}_("clean")};P(function(_){var H=F.createTransportParams(null,_);if(_==="recover"){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.getTransportParams()","Transport recovery mode = recover; recoveryKey = "+F.options.recover);var U=F.options.recover.split(":");U&&U[2]&&(F.msgSerial=Number(U[2]))}else l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.getTransportParams()","Transport params = "+H.toString());b(H)})},z.prototype.tryATransport=function(b,F,P){var _=this,H,U;l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.tryATransport()","trying "+F),(U=(H=z.supportedTransports[F]).tryConnect)===null||U===void 0||U.call(H,this,this.realtime.auth,b,function(j,q){var Y=_.state;if(Y==_.states.closing||Y==_.states.closed||Y==_.states.failed){q&&(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.tryATransport()","connection "+Y.state+" while we were attempting the transport; closing "+q),q.close()),P(!0);return}if(j){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.tryATransport()","transport "+F+" "+j.event+", err: "+j.error.toString()),h.default.isTokenErr(j.error)&&!(_.errorReason&&h.default.isTokenErr(_.errorReason))?(_.errorReason=j.error,_.realtime.auth._forceNewToken(null,null,function(Z){if(Z){_.actOnErrorFromAuthorize(Z);return}_.tryATransport(b,F,P)})):j.event==="failed"?(_.notifyState({state:"failed",error:j.error}),P(!0)):j.event==="disconnected"&&(C.isRetriable(j.error)?P(!1):(_.notifyState({state:_.states.connecting.failState,error:j.error}),P(!0)));return}l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.tryATransport()","viable transport "+F+"; setting pending"),_.setTransportPending(q,b),P(null,q)})},z.prototype.setTransportPending=function(b,F){var P=this,_=F.mode;l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.setTransportPending()","transport = "+b+"; mode = "+_),a.arrDeleteValue(this.proposedTransports,b),this.pendingTransports.push(b);var H=S.default.Defaults.transportPreferenceOrder[S.default.Defaults.transportPreferenceOrder.length-1];b.once("connected",function(j,q,Y,Z){_=="upgrade"&&P.activeProtocol?b.shortName!==H&&a.arrIn(P.getUpgradePossibilities(),H)?setTimeout(function(){P.scheduleTransportActivation(j,b,q,Y,Z)},P.options.timeouts.parallelUpgradeDelay):P.scheduleTransportActivation(j,b,q,Y,Z):(P.activateTransport(j,b,q,Y,Z),S.default.Config.nextTick(function(){P.connectImpl(F)})),_==="recover"&&P.options.recover&&(P.options.recover=null,P.unpersistConnection())});var U=this;b.on(["disconnected","closed","failed"],function(j){U.deactivateTransport(b,this.event,j)}),this.emit("transport.pending",b)},z.prototype.scheduleTransportActivation=function(b,F,P,_,H){var U=this,j=this.activeProtocol&&this.activeProtocol.getTransport(),q=function(){F.disconnect(),a.arrDeleteValue(U.pendingTransports,F)};if(this.state!==this.states.connected&&this.state!==this.states.connecting){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Current connection state ("+this.state.state+(this.state===this.states.synchronizing?", but with an upgrade already in progress":"")+") is not valid to upgrade in; abandoning upgrade to "+F.shortName),q();return}if(j&&!R(F,j)){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Proposed transport "+F.shortName+" is no better than current active transport "+j.shortName+" - abandoning upgrade"),q();return}l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Scheduling transport upgrade; transport = "+F),this.realtime.channels.onceNopending(function(Y){var Z;if(Y){l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.scheduleTransportActivation()","Unable to activate transport; transport = "+F+"; err = "+Y);return}if(!F.isConnected){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Proposed transport "+F.shortName+"is no longer connected; abandoning upgrade"),q();return}if(U.state===U.states.connected)l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.scheduleTransportActivation()","Currently connected, so temporarily pausing events until the upgrade is complete"),U.state=U.states.synchronizing,Z=U.activeProtocol;else if(U.state!==U.states.connecting){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Current connection state ("+U.state.state+(U.state===U.states.synchronizing?", but with an upgrade already in progress":"")+") is not valid to upgrade in; abandoning upgrade to "+F.shortName),q();return}var re=P!==U.connectionId,te=re?H:U;re&&l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.scheduleTransportActivation()","Upgrade resulted in new connectionId; resetting library connection position from "+(U.timeSerial||U.connectionSerial)+" to "+(te.timeSerial||te.connectionSerial)+"; upgrade error was "+b),l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Syncing transport; transport = "+F),U.sync(F,te,function(Q,he,G){if(Q){U.state===U.states.synchronizing&&(l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.scheduleTransportActivation()","Unexpected error attempting to sync transport; transport = "+F+"; err = "+Q),U.disconnectAllTransports());return}var $=function(){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Activating transport; transport = "+F),U.activateTransport(b,F,he,_,G),U.state===U.states.synchronizing?(l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.scheduleTransportActivation()","Pre-upgrade protocol idle, sending queued messages on upgraded transport; transport = "+F),U.state=U.states.connected):l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.scheduleTransportActivation()","Pre-upgrade protocol idle, but state is now "+U.state.state+", so leaving unchanged"),U.state.sendEvents&&U.sendQueuedMessages()};Z?Z.onceIdle($):$()})})},z.prototype.activateTransport=function(b,F,P,_,H){var U=this;l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.activateTransport()","transport = "+F),b&&l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.activateTransport()","error = "+b),P&&l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.activateTransport()","connectionId =  "+P),_&&l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.activateTransport()","connectionDetails =  "+JSON.stringify(_)),H&&l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.activateTransport()","serial =  "+(H.timeSerial||H.connectionSerial)),this.persistTransportPreference(F);var j=this.state,q=this.states.connected.state;if(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.activateTransport()","current state = "+j.state),j.state==this.states.closing.state||j.state==this.states.closed.state||j.state==this.states.failed.state)return l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.activateTransport()","Disconnecting transport and abandoning"),F.disconnect(),!1;if(a.arrDeleteValue(this.pendingTransports,F),!F.isConnected)return l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.activateTransport()","Declining to activate transport "+F+" since it appears to no longer be connected"),!1;var Y=this.activeProtocol;this.activeProtocol=new u.default(F),this.host=F.params.host;var Z=_.connectionKey;if(Z&&this.connectionKey!=Z&&this.setConnection(P,_,H,!!b),this.onConnectionDetailsUpdate(_,F),S.default.Config.nextTick(function(){F.on("connected",function(te,Q,he){U.onConnectionDetailsUpdate(he,F),U.emit("update",new w.default(q,q,null,te))})}),j.state===this.states.connected.state?b&&(this.errorReason=this.realtime.connection.errorReason=b,this.emit("update",new w.default(q,q,null,b))):(this.notifyState({state:"connected",error:b}),this.errorReason=this.realtime.connection.errorReason=b||null),this.emit("transport.active",F),Y)if(Y.messageQueue.count()>0&&l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.activateTransport()","Previous active protocol (for transport "+Y.transport.shortName+", new one is "+F.shortName+") finishing with "+Y.messageQueue.count()+" messages still pending"),Y.transport===F){var re="Assumption violated: activating a transport that was also the transport for the previous active protocol; transport = "+F.shortName+"; stack = "+new Error().stack;l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.activateTransport()",re)}else Y.finish();return a.safeArrForEach(this.pendingTransports,function(te){if(te===F){var Q="Assumption violated: activating a transport that is still marked as a pending transport; transport = "+F.shortName+"; stack = "+new Error().stack;l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.activateTransport()",Q),a.arrDeleteValue(U.pendingTransports,F)}else te.disconnect()}),a.safeArrForEach(this.proposedTransports,function(te){te===F?(l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.activateTransport()","Assumption violated: activating a transport that is still marked as a proposed transport; transport = "+F.shortName+"; stack = "+new Error().stack),a.arrDeleteValue(U.proposedTransports,F)):te.dispose()}),!0},z.prototype.deactivateTransport=function(b,F,P){var _=this.activeProtocol,H=_&&_.getTransport()===b,U=a.arrDeleteValue(this.pendingTransports,b),j=a.arrDeleteValue(this.proposedTransports,b),q=this.noTransportsScheduledForActivation();if(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.deactivateTransport()","transport = "+b),l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.deactivateTransport()","state = "+F+(H?"; was active":U?"; was pending":j?"; was proposed":"")+(q?"":"; another transport is scheduled for activation")),P&&P.message&&l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.deactivateTransport()","reason =  "+P.message),H&&(l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.deactivateTransport()","Getting, clearing, and requeuing "+this.activeProtocol.messageQueue.count()+" pending messages"),this.queuePendingMessages(_.getPendingMessages()),S.default.Config.nextTick(function(){_.clearPendingMessages()}),this.activeProtocol=this.host=null,clearTimeout(this.channelResumeCheckTimer)),this.emit("transport.inactive",b),H&&q||H&&F==="failed"||F==="closed"||_===null&&U&&this.pendingTransports.length===0){if(F==="disconnected"&&P&&P.statusCode>500&&this.httpHosts.length>1){this.unpersistTransportPreference(),this.forceFallbackHost=!0,this.notifyState({state:F,error:P,retryImmediately:!0});return}var Y=F==="failed"&&h.default.isTokenErr(P)?"disconnected":F;this.notifyState({state:Y,error:P});return}H&&F==="disconnected"&&this.state!==this.states.synchronizing&&(l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.deactivateTransport()","wasActive but another transport is connected and scheduled for activation, so going into the connecting state until it activates"),this.startSuspendTimer(),this.startTransitionTimer(this.states.connecting),this.notifyState({state:"connecting",error:P}))},z.prototype.noTransportsScheduledForActivation=function(){return a.isEmpty(this.pendingTransports)||this.pendingTransports.every(function(b){return!b.isConnected})},z.prototype.sync=function(b,F,P){var _=setTimeout(function(){b.off("sync"),P(new O.default("Timeout waiting for sync response",5e4,500))},this.options.timeouts.realtimeRequestTimeout),H=i.default.fromValues({action:p.SYNC,connectionKey:this.connectionKey});F.timeSerial?H.timeSerial=F.timeSerial:F.connectionSerial!==void 0&&(H.connectionSerial=F.connectionSerial),b.send(H),b.once("sync",function(U,j){clearTimeout(_),P(null,U,j)})},z.prototype.setConnection=function(b,F,P,_){var H=this,U=this.connectionId,j=U&&U!==b,q=!U&&_;(j||q)&&(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.setConnection()","Resetting msgSerial"),this.msgSerial=0),this.connectionId!==b?(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.setConnection()","New connectionId; reattaching any attached channels"),S.default.Config.nextTick(function(){H.realtime.channels.reattach()})):this.options.checkChannelsOnResume&&(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.setConnection()","Same connectionId; checkChannelsOnResume is enabled"),clearTimeout(this.channelResumeCheckTimer),this.realtime.channels.resetAttachedMsgIndicators(),this.channelResumeCheckTimer=setTimeout(function(){H.realtime.channels.checkAttachedMsgIndicators(b)},3e4)),this.realtime.connection.id=this.connectionId=b,this.realtime.connection.key=this.connectionKey=F.connectionKey;var Y=j||!U;this.setConnectionSerial(P,Y)},z.prototype.clearConnection=function(){this.realtime.connection.id=this.connectionId=void 0,this.realtime.connection.key=this.connectionKey=void 0,this.clearConnectionSerial(),this.msgSerial=0,this.unpersistConnection()},z.prototype.setConnectionSerial=function(b,F){var P=b.timeSerial,_=b.connectionSerial;if(l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.setConnectionSerial()","Updating connection serial; serial = "+_+"; timeSerial = "+P+"; force = "+F+"; previous = "+this.connectionSerial),P!==void 0){if(P<=this.timeSerial&&!F)return l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.setConnectionSerial()","received message with timeSerial "+P+", but current timeSerial is "+this.timeSerial+"; assuming message is a duplicate and discarding it"),!0;this.realtime.connection.timeSerial=this.timeSerial=P,this.setRecoveryKey();return}if(_!==void 0){if(_<=this.connectionSerial&&!F)return l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.setConnectionSerial()","received message with connectionSerial "+_+", but current connectionSerial is "+this.connectionSerial+"; assuming message is a duplicate and discarding it"),!0;this.realtime.connection.serial=this.connectionSerial=_,this.setRecoveryKey()}},z.prototype.clearConnectionSerial=function(){this.realtime.connection.serial=this.connectionSerial=void 0,this.realtime.connection.timeSerial=this.timeSerial=void 0,this.clearRecoveryKey()},z.prototype.setRecoveryKey=function(){this.realtime.connection.recoveryKey=this.connectionKey+":"+(this.timeSerial||this.connectionSerial)+":"+this.msgSerial},z.prototype.clearRecoveryKey=function(){this.realtime.connection.recoveryKey=null},z.prototype.checkConnectionStateFreshness=function(){if(!(!this.lastActivity||!this.connectionId)){var b=a.now()-this.lastActivity;b>this.connectionStateTtl+this.maxIdleInterval&&(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.checkConnectionStateFreshness()","Last known activity from realtime was "+b+"ms ago; discarding connection state"),this.clearConnection(),this.states.connecting.failState="suspended",this.states.connecting.queueEvents=!1)}},z.prototype.persistConnection=function(){if(g()){var b=this.realtime.connection.recoveryKey;b&&D({recoveryKey:b,disconnectedAt:a.now(),location:r.location,clientId:this.realtime.auth.clientId})}},z.prototype.unpersistConnection=function(){M()},z.prototype.getError=function(){return this.errorReason||this.getStateError()},z.prototype.getStateError=function(){return C.default[this.state.state]},z.prototype.activeState=function(){return this.state.queueEvents||this.state.sendEvents},z.prototype.enactStateChange=function(b){var F=b.current==="failed"?l.default.LOG_ERROR:l.default.LOG_MAJOR;l.default.logAction(F,"Connection state",b.current+(b.reason?"; reason: "+b.reason:"")),l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.enactStateChange","setting new state: "+b.current+"; reason = "+(b.reason&&b.reason.message));var P=this.state=this.states[b.current];b.reason&&(this.errorReason=b.reason,this.realtime.connection.errorReason=b.reason),(P.terminal||P.state==="suspended")&&this.clearConnection(),this.emit("connectionstate",b)},z.prototype.startTransitionTimer=function(b){var F=this;l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.startTransitionTimer()","transitionState: "+b.state),this.transitionTimer&&(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.startTransitionTimer()","clearing already-running timer"),clearTimeout(this.transitionTimer)),this.transitionTimer=setTimeout(function(){F.transitionTimer&&(F.transitionTimer=null,l.default.logAction(l.default.LOG_MINOR,"ConnectionManager "+b.state+" timer expired","requesting new state: "+b.failState),F.notifyState({state:b.failState}))},b.retryDelay)},z.prototype.cancelTransitionTimer=function(){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.cancelTransitionTimer()",""),this.transitionTimer&&(clearTimeout(this.transitionTimer),this.transitionTimer=null)},z.prototype.startSuspendTimer=function(){var b=this;this.suspendTimer||(this.suspendTimer=setTimeout(function(){b.suspendTimer&&(b.suspendTimer=null,l.default.logAction(l.default.LOG_MINOR,"ConnectionManager suspend timer expired","requesting new state: suspended"),b.states.connecting.failState="suspended",b.states.connecting.queueEvents=!1,b.notifyState({state:"suspended"}))},this.connectionStateTtl))},z.prototype.checkSuspendTimer=function(b){b!=="disconnected"&&b!=="suspended"&&b!=="connecting"&&this.cancelSuspendTimer()},z.prototype.cancelSuspendTimer=function(){this.states.connecting.failState="disconnected",this.states.connecting.queueEvents=!0,this.suspendTimer&&(clearTimeout(this.suspendTimer),this.suspendTimer=null)},z.prototype.startRetryTimer=function(b){var F=this;this.retryTimer=setTimeout(function(){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager retry timer expired","retrying"),F.retryTimer=null,F.requestState({state:"connecting"})},b)},z.prototype.cancelRetryTimer=function(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null)},z.prototype.notifyState=function(b){var F=this,P=b.state,_=P==="disconnected"&&(this.state===this.states.connected||this.state===this.states.synchronizing||b.retryImmediately||this.state===this.states.connecting&&b.error&&h.default.isTokenErr(b.error)&&!(this.errorReason&&h.default.isTokenErr(this.errorReason)));if(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.notifyState()","new state: "+P+(_?"; will retry connection immediately":"")),P!=this.state.state&&(this.cancelTransitionTimer(),this.cancelRetryTimer(),this.checkSuspendTimer(b.state),!this.state.terminal)){var H=this.states[b.state],U=new w.default(this.state.state,H.state,H.retryDelay,b.error||C.default[H.state]);if(_){var j=function(){F.state===F.states.disconnected&&(F.lastAutoReconnectAttempt=a.now(),F.requestState({state:"connecting"}))},q=this.lastAutoReconnectAttempt&&a.now()-this.lastAutoReconnectAttempt+1;q&&q<1e3?(l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.notifyState()","Last reconnect attempt was only "+q+"ms ago, waiting another "+(1e3-q)+"ms before trying again"),setTimeout(j,1e3-q)):S.default.Config.nextTick(j)}else(P==="disconnected"||P==="suspended")&&this.startRetryTimer(H.retryDelay);(P==="disconnected"&&!_||P==="suspended"||H.terminal)&&S.default.Config.nextTick(function(){F.disconnectAllTransports()}),P=="connected"&&!this.activeProtocol&&l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.notifyState()","Broken invariant: attempted to go into connected state, but there is no active protocol"),this.enactStateChange(U),this.state.sendEvents?this.sendQueuedMessages():this.state.queueEvents||(this.realtime.channels.propogateConnectionInterruption(P,U.reason),this.failQueuedMessages(U.reason))}},z.prototype.requestState=function(b){var F=this,P=b.state;if(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.requestState()","requested state: "+P+"; current state: "+this.state.state),P!=this.state.state&&(this.cancelTransitionTimer(),this.cancelRetryTimer(),this.checkSuspendTimer(P),!(P=="connecting"&&this.state.state=="connected")&&!(P=="closing"&&this.state.state=="closed"))){var _=this.states[P],H=new w.default(this.state.state,_.state,null,b.error||C.default[_.state]);this.enactStateChange(H),P=="connecting"&&S.default.Config.nextTick(function(){F.startConnect()}),P=="closing"&&this.closeImpl()}},z.prototype.startConnect=function(){var b=this;if(this.state!==this.states.connecting){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.startConnect()","Must be in connecting state to connect, but was "+this.state.state);return}var F=this.realtime.auth,P=++this.connectCounter,_=function(){b.checkConnectionStateFreshness(),b.getTransportParams(function(U){P===b.connectCounter&&b.connectImpl(U,P)})};if(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.startConnect()","starting connection"),this.startSuspendTimer(),this.startTransitionTimer(this.states.connecting),F.method==="basic")_();else{var H=function(U){P===b.connectCounter&&(U?b.actOnErrorFromAuthorize(U):_())};this.errorReason&&h.default.isTokenErr(this.errorReason)?F._forceNewToken(null,null,H):F._ensureValidAuthCredentials(!1,H)}},z.prototype.connectImpl=function(b,F){var P=this.state.state;P!==this.states.connecting.state&&P!==this.states.connected.state?l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.connectImpl()","Must be in connecting state to connect (or connected to upgrade), but was "+P):this.pendingTransports.length?l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.connectImpl()","Transports "+this.pendingTransports[0].toString()+" currently pending; taking no action"):P==this.states.connected.state?this.upgradeIfNeeded(b):this.transports.length>1&&this.getTransportPreference()?this.connectPreference(b):this.connectBase(b,F)},z.prototype.connectPreference=function(b){var F=this,P=this.getTransportPreference(),_=!1;a.arrIn(this.transports,P)||(this.unpersistTransportPreference(),this.connectImpl(b)),l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.connectPreference()","Trying to connect with stored transport preference "+P);var H=setTimeout(function(){_=!0,F.state.state!==F.states.connected.state&&(l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.connectPreference()","Shortcircuit connection attempt with "+P+" failed; clearing preference and trying from scratch"),F.disconnectAllTransports(),F.unpersistTransportPreference()),F.connectImpl(b)},this.options.timeouts.preferenceConnectTimeout);b.host=this.httpHosts[0],this.tryATransport(b,P,function(U,j){clearTimeout(H),_&&j?(j.off(),j.disconnect(),a.arrDeleteValue(F.pendingTransports,j)):!j&&!U&&(F.unpersistTransportPreference(),F.connectImpl(b))})},z.prototype.connectBase=function(b,F){var P=this,_=function(Y){P.notifyState({state:P.states.connecting.failState,error:Y})},H=this.httpHosts.slice(),U=function(Y,Z){F===P.connectCounter&&!Z&&!Y&&q()};l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.connectBase()","Trying to connect with base transport "+this.baseTransport);var j=H.shift();if(!j){_(new O.default("Unable to connect (no available host)",80003,404));return}b.host=j;var q=function(){if(!H.length){_(new O.default("Unable to connect (and no more fallback hosts to try)",80003,404));return}if(!P.realtime.http.checkConnectivity){_(new O.default("Internal error: Http.checkConnectivity not set",null,500));return}P.realtime.http.checkConnectivity(function(Y,Z){if(F===P.connectCounter){if(Y){_(Y);return}if(!Z){_(new O.default("Unable to connect (network unreachable)",80003,404));return}b.host=a.arrPopRandomElement(H),P.tryATransport(b,P.baseTransport,U)}})};if(this.forceFallbackHost&&H.length){this.forceFallbackHost=!1,q();return}this.tryATransport(b,this.baseTransport,U)},z.prototype.getUpgradePossibilities=function(){var b=this.activeProtocol.getTransport().shortName,F=a.arrIndexOf(this.upgradeTransports,b);return this.upgradeTransports.slice(F+1)},z.prototype.upgradeIfNeeded=function(b){var F=this,P=this.getUpgradePossibilities();l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.upgradeIfNeeded()","upgrade possibilities: "+S.default.Config.inspect(P)),P.length&&a.arrForEach(P,function(_){var H=F.createTransportParams(b.host,"upgrade");F.tryATransport(H,_,x)})},z.prototype.closeImpl=function(){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.closeImpl()","closing connection"),this.cancelSuspendTimer(),this.startTransitionTimer(this.states.closing),a.safeArrForEach(this.pendingTransports,function(b){l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.closeImpl()","Closing pending transport: "+b),b&&b.close()}),a.safeArrForEach(this.proposedTransports,function(b){l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.closeImpl()","Disposing of proposed transport: "+b),b&&b.dispose()}),this.activeProtocol&&(l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.closeImpl()","Closing active transport: "+this.activeProtocol.getTransport()),this.activeProtocol.getTransport().close()),this.notifyState({state:"closed"})},z.prototype.onAuthUpdated=function(b,F){var P=this,_;switch(this.state.state){case"connected":{if(l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Sending AUTH message on active transport"),(this.pendingTransports.length||this.proposedTransports.length)&&this.state!==this.states.synchronizing){this.disconnectAllTransports(!0);var H=this.activeProtocol.getTransport().params;S.default.Config.nextTick(function(){P.state.state==="connected"&&P.upgradeIfNeeded(H)})}var U=(_=this.activeProtocol)===null||_===void 0?void 0:_.getTransport();U&&U.onAuthUpdated&&U.onAuthUpdated(b);var j=i.default.fromValues({action:p.AUTH,auth:{accessToken:b.token}});this.send(j);var q=function(){P.off(Y),F(null,b)},Y=function(re){re.current==="failed"&&(P.off(q),P.off(Y),F(re.reason||P.getStateError()))};this.once("connectiondetails",q),this.on("connectionstate",Y);break}case"connecting":l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Aborting current connection attempts in order to start again with the new auth details"),this.disconnectAllTransports();default:{l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Connection state is "+this.state.state+"; waiting until either connected or failed");var Z=function(re){switch(re.current){case"connected":P.off(Z),F(null,b);break;case"failed":case"closed":case"suspended":P.off(Z),F(re.reason||P.getStateError());break;default:break}};this.on("connectionstate",Z),this.state.state==="connecting"?this.startConnect():this.requestState({state:"connecting"})}}},z.prototype.disconnectAllTransports=function(b){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.disconnectAllTransports()","Disconnecting all transports"+(b?" except the active transport":"")),this.connectCounter++,a.safeArrForEach(this.pendingTransports,function(F){l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disconnecting pending transport: "+F),F&&F.disconnect()}),this.pendingTransports=[],a.safeArrForEach(this.proposedTransports,function(F){l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disposing of proposed transport: "+F),F&&F.dispose()}),this.proposedTransports=[],this.activeProtocol&&!b&&(l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disconnecting active transport: "+this.activeProtocol.getTransport()),this.activeProtocol.getTransport().disconnect())},z.prototype.send=function(b,F,P){P=P||x;var _=this.state;if(_.sendEvents){l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.send()","sending event"),this.sendImpl(new u.PendingMessage(b,P));return}var H=F&&_.queueEvents||_.forceQueueEvents;if(!H){var U="rejecting event, queueEvent was "+F+", state was "+_.state;l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.send()",U),P(this.errorReason||new O.default(U,9e4,400));return}l.default.shouldLog(l.default.LOG_MICRO)&&l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.send()","queueing msg; "+i.default.stringify(b)),this.queue(b,P)},z.prototype.sendImpl=function(b){var F=b.message;b.ackRequired&&!b.sendAttempted&&(F.msgSerial=this.msgSerial++,this.setRecoveryKey());try{this.activeProtocol.send(b)}catch(P){l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.sendImpl()","Unexpected exception in transport.send(): "+P.stack)}},z.prototype.queue=function(b,F){l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.queue()","queueing event");var P=this.queuedMessages.last(),_=this.options.maxMessageSize;P&&!P.sendAttempted&&I(P.message,b,_)?(P.merged||(P.callback=v.default.create([P.callback]),P.merged=!0),P.callback.push(F)):this.queuedMessages.push(new u.PendingMessage(b,F))},z.prototype.sendQueuedMessages=function(){l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.sendQueuedMessages()","sending "+this.queuedMessages.count()+" queued messages");for(var b;b=this.queuedMessages.shift();)this.sendImpl(b)},z.prototype.queuePendingMessages=function(b){b&&b.length&&(l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.queuePendingMessages()","queueing "+b.length+" pending messages"),this.queuedMessages.prepend(b))},z.prototype.failQueuedMessages=function(b){var F=this.queuedMessages.count();F>0&&(l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.failQueuedMessages()","failing "+F+" queued messages, err = "+a.inspectError(b)),this.queuedMessages.completeAllMessages(b))},z.prototype.onChannelMessage=function(b,F){var P=this.activeProtocol&&F===this.activeProtocol.getTransport(),_=a.arrIn(this.pendingTransports,F)&&this.state==this.states.synchronizing,H=b.action===p.MESSAGE||b.action===p.PRESENCE;if(P||_){if(H){var U=this.setConnectionSerial(b);if(U)return;if(i.default.isDuplicate(b,this.mostRecentMsg)){l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.onChannelMessage()","received message with different connectionSerial, but same message id as a previous; discarding; id = "+b.id);return}this.mostRecentMsg=b}this.realtime.channels.onChannelMessage(b)}else a.arrIndexOf([p.ACK,p.NACK,p.ERROR],b.action)>-1?this.realtime.channels.onChannelMessage(b):l.default.logAction(l.default.LOG_MICRO,"ConnectionManager.onChannelMessage()","received message "+JSON.stringify(b)+"on defunct transport; discarding")},z.prototype.ping=function(b,F){var P=this;if(b){l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.ping()","transport = "+b);var _=function(){b.off("heartbeat",j),F(new O.default("Timeout waiting for heartbeat response",5e4,500))},H=a.now(),U=a.cheapRandStr(),j=function(te){if(te===U){b.off("heartbeat",j),clearTimeout(q);var Q=a.now()-H;F(null,Q)}},q=setTimeout(_,this.options.timeouts.realtimeRequestTimeout);b.on("heartbeat",j),b.ping(U);return}if(this.state.state!=="connected"){F(new O.default("Unable to ping service; not connected",4e4,400));return}var Y=!1,Z=function(te,Q){P.off("transport.active",re),Y||(Y=!0,F(te,Q))},re=function(){Y||(Y=!0,S.default.Config.nextTick(function(){P.ping(null,F)}))};this.on("transport.active",re),this.ping(this.activeProtocol.getTransport(),Z)},z.prototype.abort=function(b){this.activeProtocol.getTransport().fail(b)},z.prototype.registerProposedTransport=function(b){this.proposedTransports.push(b)},z.prototype.getTransportPreference=function(){var b,F;return this.transportPreference||c()&&((F=(b=S.default.WebStorage)===null||b===void 0?void 0:b.get)===null||F===void 0?void 0:F.call(b,T))},z.prototype.persistTransportPreference=function(b){var F,P;a.arrIn(d.default.upgradeTransports,b.shortName)&&(this.transportPreference=b.shortName,c()&&((P=(F=S.default.WebStorage)===null||F===void 0?void 0:F.set)===null||P===void 0||P.call(F,T,b.shortName)))},z.prototype.unpersistTransportPreference=function(){var b,F;this.transportPreference=null,c()&&((F=(b=S.default.WebStorage)===null||b===void 0?void 0:b.remove)===null||F===void 0||F.call(b,T))},z.prototype.actOnErrorFromAuthorize=function(b){if(b.code===40171)this.notifyState({state:"failed",error:b});else if(b.statusCode===f.default.Forbidden){var F="Client configured authentication provider returned 403; failing the connection";l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.actOnErrorFromAuthorize()",F),this.notifyState({state:"failed",error:new O.default(F,80019,403,b)})}else{var F="Client configured authentication provider request failed";l.default.logAction(l.default.LOG_MINOR,"ConnectionManager.actOnErrorFromAuthorize",F),this.notifyState({state:this.state.failState,error:new O.default(F,80019,401,b)})}},z.prototype.onConnectionDetailsUpdate=function(b,F){if(!!b){this.connectionDetails=b,b.maxMessageSize&&(this.options.maxMessageSize=b.maxMessageSize);var P=b.clientId;if(P){var _=this.realtime.auth._uncheckedSetClientId(P);if(_){l.default.logAction(l.default.LOG_ERROR,"ConnectionManager.onConnectionDetailsUpdate()",_.message),F.fail(_);return}}var H=b.connectionStateTtl;H&&(this.connectionStateTtl=H),this.maxIdleInterval=b.maxIdleInterval,this.emit("connectiondetails",b)}},z.supportedTransports={},z}(y.default);t.default=L}).call(this,n(10))},function(e,t,n){(function(r,o){e.exports=t=o(n(6),n(40),n(24))})(this,function(r){return function(){var o=r,i=o.lib,a=i.Base,u=i.WordArray,d=o.algo,S=d.MD5,y=d.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:S,iterations:1}),init:function(E){this.cfg=this.cfg.extend(E)},compute:function(E,l){for(var w,C=this.cfg,O=C.hasher.create(),h=u.create(),m=h.words,v=C.keySize,s=C.iterations;m.length<v;){w&&O.update(w),w=O.update(E).finalize(l),O.reset();for(var f=1;f<s;f++)w=O.finalize(w),O.reset();h.concat(w)}return h.sigBytes=v*4,h}});o.EvpKDF=function(E,l,w){return y.create(w).compute(E,l)}}(),r.EvpKDF})},function(e,t,n){(function(r,o){e.exports=t=o(n(6),n(27))})(this,function(r){r.lib.Cipher||function(o){var i=r,a=i.lib,u=a.Base,d=a.WordArray,S=a.BufferedBlockAlgorithm,y=i.enc,E=y.Utf8,l=y.Base64,w=i.algo,C=w.EvpKDF,O=a.Cipher=S.extend({cfg:u.extend(),createEncryptor:function(R,I){return this.create(this._ENC_XFORM_MODE,R,I)},createDecryptor:function(R,I){return this.create(this._DEC_XFORM_MODE,R,I)},init:function(R,I,B){this.cfg=this.cfg.extend(B),this._xformMode=R,this._key=I,this.reset()},reset:function(){S.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var I=this._doFinalize();return I},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(I){return typeof I=="string"?M:A}return function(I){return{encrypt:function(B,L,W){return R(L).encrypt(I,B,L,W)},decrypt:function(B,L,W){return R(L).decrypt(I,B,L,W)}}}}()}),h=a.StreamCipher=O.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1}),m=i.mode={},v=a.BlockCipherMode=u.extend({createEncryptor:function(R,I){return this.Encryptor.create(R,I)},createDecryptor:function(R,I){return this.Decryptor.create(R,I)},init:function(R,I){this._cipher=R,this._iv=I}}),s=m.CBC=function(){var R=v.extend();R.Encryptor=R.extend({processBlock:function(B,L){var W=this._cipher,z=W.blockSize;I.call(this,B,L,z),W.encryptBlock(B,L),this._prevBlock=B.slice(L,L+z)}}),R.Decryptor=R.extend({processBlock:function(B,L){var W=this._cipher,z=W.blockSize,b=B.slice(L,L+z);W.decryptBlock(B,L),I.call(this,B,L,z),this._prevBlock=b}});function I(B,L,W){var z,b=this._iv;b?(z=b,this._iv=o):z=this._prevBlock;for(var F=0;F<W;F++)B[L+F]^=z[F]}return R}(),f=i.pad={},c=f.Pkcs7={pad:function(R,I){for(var B=I*4,L=B-R.sigBytes%B,W=L<<24|L<<16|L<<8|L,z=[],b=0;b<L;b+=4)z.push(W);var F=d.create(z,L);R.concat(F)},unpad:function(R){var I=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=I}},g=a.BlockCipher=O.extend({cfg:O.cfg.extend({mode:s,padding:c}),reset:function(){var R;O.reset.call(this);var I=this.cfg,B=I.iv,L=I.mode;this._xformMode==this._ENC_XFORM_MODE?R=L.createEncryptor:(R=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,B&&B.words):(this._mode=R.call(L,this,B&&B.words),this._mode.__creator=R)},_doProcessBlock:function(R,I){this._mode.processBlock(R,I)},_doFinalize:function(){var R,I=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(I.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),I.unpad(R)),R},blockSize:128/32}),p=a.CipherParams=u.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),x=i.format={},T=x.OpenSSL={stringify:function(R){var I,B=R.ciphertext,L=R.salt;return L?I=d.create([1398893684,1701076831]).concat(L).concat(B):I=B,I.toString(l)},parse:function(R){var I,B=l.parse(R),L=B.words;return L[0]==1398893684&&L[1]==1701076831&&(I=d.create(L.slice(2,4)),L.splice(0,4),B.sigBytes-=16),p.create({ciphertext:B,salt:I})}},A=a.SerializableCipher=u.extend({cfg:u.extend({format:T}),encrypt:function(R,I,B,L){L=this.cfg.extend(L);var W=R.createEncryptor(B,L),z=W.finalize(I),b=W.cfg;return p.create({ciphertext:z,key:B,iv:b.iv,algorithm:R,mode:b.mode,padding:b.padding,blockSize:R.blockSize,formatter:L.format})},decrypt:function(R,I,B,L){L=this.cfg.extend(L),I=this._parse(I,L.format);var W=R.createDecryptor(B,L).finalize(I.ciphertext);return W},_parse:function(R,I){return typeof R=="string"?I.parse(R,this):R}}),k=i.kdf={},D=k.OpenSSL={execute:function(R,I,B,L){L||(L=d.random(64/8));var W=C.create({keySize:I+B}).compute(R,L),z=d.create(W.words.slice(I),B*4);return W.sigBytes=I*4,p.create({key:W,iv:z,salt:L})}},M=a.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:D}),encrypt:function(R,I,B,L){L=this.cfg.extend(L);var W=L.kdf.execute(B,R.keySize,R.ivSize);L.iv=W.iv;var z=A.encrypt.call(this,R,I,W.key,L);return z.mixIn(W),z},decrypt:function(R,I,B,L){L=this.cfg.extend(L),I=this._parse(I,L.format);var W=L.kdf.execute(B,R.keySize,R.ivSize,I.salt);L.iv=W.iv;var z=A.decrypt.call(this,R,I,W.key,L);return z}})}()})},function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.Request=t.createRequest=void 0;var o=n(1),i=o.__importStar(n(2)),a=o.__importDefault(n(13)),u=o.__importDefault(n(3)),d=o.__importDefault(n(7)),S=o.__importDefault(n(5)),y=o.__importDefault(n(8)),E=o.__importDefault(n(0)),l=o.__importDefault(n(21)),w=r||window,C=function(){},O=w._ablyjs_jsonp={};O._=function(g){return O["_"+g]||C};var h=1,m="jsonp";function v(g,p,x,T,A,k,D){return k=k||y.default.TIMEOUTS,new f(void 0,g,p,i.copy(x),T,A,k,D)}t.createRequest=v;var s=function(g){o.__extends(p,g);function p(x,T,A){var k=g.call(this,x,T,A)||this;return k.shortName=m,A.stream=!1,k}return p.isAvailable=function(){return u.default.Config.jsonpSupported&&u.default.Config.allowComet},p.tryConnect=function(x,T,A,k){var D=new p(x,T,A),M=function(R){k({event:this.event,error:R})};D.on(["failed","disconnected"],M),D.on("preconnect",function(){E.default.logAction(E.default.LOG_MINOR,"JSONPTransport.tryConnect()","viable transport "+D),D.off(["failed","disconnected"],M),k(null,D)}),D.connect()},p.prototype.toString=function(){return"JSONPTransport; uri="+this.baseUri+"; isConnected="+this.isConnected},p.prototype.createRequest=function(x,T,A,k,D,M,R){return M=(this===null||this===void 0?void 0:this.timeouts)||M||y.default.TIMEOUTS,v(x,T,A,k,D,M,R)},p}(a.default),f=function(g){o.__extends(p,g);function p(x,T,A,k,D,M,R,I){var B=g.call(this)||this;return x===void 0&&(x=h++),B.id=x,B.uri=T,B.params=k||{},B.params.rnd=i.cheapRandStr(),A&&(A["X-Ably-Version"]&&(B.params.v=A["X-Ably-Version"]),A["X-Ably-Lib"]&&(B.params.lib=A["X-Ably-Lib"])),B.body=D,B.method=I,B.requestMode=M,B.timeouts=R,B.requestComplete=!1,B}return p.prototype.exec=function(){var x=this,T=this.id,A=this.body,k=this.method,D=this.uri,M=this.params;M.callback="_ablyjs_jsonp._("+T+")",M.envelope="jsonp",A&&(M.body=A),k&&k!=="get"&&(M.method=k);var R=this.script=document.createElement("script"),I=D+i.toQueryString(M);R.src=I,R.src.split("/").slice(-1)[0]!==I.split("/").slice(-1)[0]&&E.default.logAction(E.default.LOG_ERROR,"JSONP Request.exec()","Warning: the browser appears to have truncated the script URI. This will likely result in the request failing due to an unparseable body param"),R.async=!0,R.type="text/javascript",R.charset="UTF-8",R.onerror=function(W){x.complete(new S.default("JSONP script error (event: "+u.default.Config.inspect(W)+")",null,400))},O["_"+T]=function(W){if(W.statusCode){var z=W.response;if(W.statusCode==204)x.complete(null,null,null,W.statusCode);else if(!z)x.complete(new S.default("Invalid server response: no envelope detected",null,500));else if(W.statusCode<400||i.isArray(z))x.complete(null,z,W.headers,W.statusCode);else{var b=z.error||new S.default("Error response received from server",null,W.statusCode);x.complete(b)}}else x.complete(null,W)};var B=this.requestMode==l.default.REQ_SEND?this.timeouts.httpRequestTimeout:this.timeouts.recvTimeout;this.timer=setTimeout(this.abort.bind(this),B);var L=document.getElementsByTagName("head")[0];L.insertBefore(R,L.firstChild)},p.prototype.complete=function(x,T,A,k){if(A=A||{},!this.requestComplete){this.requestComplete=!0;var D=void 0;T&&(D=typeof T=="string"?"text/plain":"application/json",A["content-type"]=D,this.emit("data",T)),this.emit("complete",x,T,A,!0,k),this.dispose()}},p.prototype.abort=function(){this.dispose()},p.prototype.dispose=function(){var x=this.timer;x&&(clearTimeout(x),this.timer=null);var T=this.script;T.parentNode&&T.parentNode.removeChild(T),delete O[this.id],this.emit("disposed")},p}(d.default);t.Request=f;function c(g){return w.JSONPTransport=s,s.isAvailable()&&(g.supportedTransports[m]=s),s}t.default=c}).call(this,n(10))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(0)),a=r.__importDefault(n(8)),u=r.__importDefault(n(17)),d=r.__importDefault(n(46)),S=r.__importDefault(n(19)),y=r.__importDefault(n(33)),E=r.__importDefault(n(5)),l=r.__importDefault(n(49)),w=r.__importDefault(n(18)),C=r.__importDefault(n(3)),O=function(){},h=function(){function v(s){if(!s){var f="no options provided";throw i.default.logAction(i.default.LOG_ERROR,"Rest()",f),new Error(f)}var c=a.default.objectifyOptions(s);c.log&&i.default.setLog(c.log.level,c.log.handler),i.default.logAction(i.default.LOG_MICRO,"Rest()","initialized with clientOptions "+C.default.Config.inspect(s));var g=this.options=a.default.normaliseOptions(c);if(g.key){var p=g.key.match(/^([^:\s]+):([^:.\s]+)$/);if(!p){var f="invalid key parameter";throw i.default.logAction(i.default.LOG_ERROR,"Rest()",f),new E.default(f,40400,404)}g.keyName=p[1],g.keySecret=p[2]}if("clientId"in g)if(typeof g.clientId=="string"||g.clientId===null){if(g.clientId==="*")throw new E.default('Can\u2019t use "*" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, use {defaultTokenParams: {clientId: "*"}})',40012,400)}else throw new E.default("clientId must be either a string or null",40012,400);i.default.logAction(i.default.LOG_MINOR,"Rest()","started; version = "+a.default.version),this.baseUri=this.authority=function(x){return a.default.getHttpScheme(g)+x+":"+a.default.getPort(g,!1)},this._currentFallback=null,this.serverTimeOffset=null,this.http=new C.default.Http,this.auth=new u.default(this,g),this.channels=new m(this),this.push=new d.default(this)}return v.prototype.stats=function(s,f){if(f===void 0)if(typeof s=="function")f=s,s=null;else{if(this.options.promises)return o.promisify(this,"stats",arguments);f=O}var c=o.defaultGetHeaders(),g=this.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,p=this.http.supportsLinkHeaders?void 0:g;this.options.headers&&o.mixin(c,this.options.headers),new S.default(this,"/stats",c,p,function(x,T,A){for(var k=A?x:JSON.parse(x),D=0;D<k.length;D++)k[D]=l.default.fromValues(k[D]);return k}).get(s,f)},v.prototype.time=function(s,f){var c=this;if(f===void 0){if(typeof s=="function")f=s,s=null;else if(this.options.promises)return o.promisify(this,"time",arguments)}var g=f||O,p=o.defaultGetHeaders();this.options.headers&&o.mixin(p,this.options.headers);var x=function(T){return c.authority(T)+"/time"};this.http.do(w.default.Get,this,x,p,null,s,function(T,A,k,D){if(T){g(T);return}D||(A=JSON.parse(A));var M=A[0];if(!M){g(new E.default("Internal error (unexpected result type from GET /time)",5e4,500));return}c.serverTimeOffset=M-o.now(),g(null,M)})},v.prototype.request=function(s,f,c,g,p,x){var T=this.options.useBinaryProtocol,A=T?C.default.Config.msgpack.encode:JSON.stringify,k=T?C.default.Config.msgpack.decode:JSON.parse,D=T?o.Format.msgpack:o.Format.json,M=this.http.supportsLinkHeaders?void 0:D;c=c||{};var R=s.toLowerCase(),I=R=="get"?o.defaultGetHeaders(D):o.defaultPostHeaders(D);if(x===void 0){if(this.options.promises)return o.promisify(this,"request",arguments);x=O}typeof g!="string"&&(g=A(g)),this.options.headers&&o.mixin(I,this.options.headers),p&&o.mixin(I,p);var B=new S.default(this,f,I,M,function(L,W,z){return o.ensureArray(z?L:k(L))},!0);if(!o.arrIn(C.default.Http.methods,R))throw new E.default("Unsupported method "+R,40500,405);o.arrIn(C.default.Http.methodsWithBody,R)?B[R](c,g,x):B[R](c,x)},v.prototype.setLog=function(s){i.default.setLog(s.level,s.handler)},v.Promise=function(s){return s=a.default.objectifyOptions(s),s.promises=!0,new v(s)},v.Callbacks=v,v.Platform=C.default,v}(),m=function(){function v(s){this.rest=s,this.all={}}return v.prototype.get=function(s,f){s=String(s);var c=this.all[s];return c?f&&c.setOptions(f):this.all[s]=c=new y.default(this.rest,s,f),c},v.prototype.release=function(s){delete this.all[String(s)]},v}();t.default=h},function(e,t,n){(function(r,o){e.exports=t=o(n(6))})(this,function(r){return function(o){var i=r,a=i.lib,u=a.WordArray,d=a.Hasher,S=i.algo,y=[],E=[];(function(){function C(v){for(var s=o.sqrt(v),f=2;f<=s;f++)if(!(v%f))return!1;return!0}function O(v){return(v-(v|0))*4294967296|0}for(var h=2,m=0;m<64;)C(h)&&(m<8&&(y[m]=O(o.pow(h,1/2))),E[m]=O(o.pow(h,1/3)),m++),h++})();var l=[],w=S.SHA256=d.extend({_doReset:function(){this._hash=new u.init(y.slice(0))},_doProcessBlock:function(C,O){for(var h=this._hash.words,m=h[0],v=h[1],s=h[2],f=h[3],c=h[4],g=h[5],p=h[6],x=h[7],T=0;T<64;T++){if(T<16)l[T]=C[O+T]|0;else{var A=l[T-15],k=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,D=l[T-2],M=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;l[T]=k+l[T-7]+M+l[T-16]}var R=c&g^~c&p,I=m&v^m&s^v&s,B=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),L=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),W=x+L+R+E[T]+l[T],z=B+I;x=p,p=g,g=c,c=f+W|0,f=s,s=v,v=m,m=W+z|0}h[0]=h[0]+m|0,h[1]=h[1]+v|0,h[2]=h[2]+s|0,h[3]=h[3]+f|0,h[4]=h[4]+c|0,h[5]=h[5]+g|0,h[6]=h[6]+p|0,h[7]=h[7]+x|0},_doFinalize:function(){var C=this._data,O=C.words,h=this._nDataBytes*8,m=C.sigBytes*8;return O[m>>>5]|=128<<24-m%32,O[(m+64>>>9<<4)+14]=o.floor(h/4294967296),O[(m+64>>>9<<4)+15]=h,C.sigBytes=O.length*4,this._process(),this._hash},clone:function(){var C=d.clone.call(this);return C._hash=this._hash.clone(),C}});i.SHA256=d._createHelper(w),i.HmacSHA256=d._createHmacHelper(w)}(Math),r.SHA256})},function(e,t,n){(function(r,o){e.exports=t=o(n(6))})(this,function(r){return r.enc.Utf8})},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(7)),a=r.__importDefault(n(0)),u=r.__importDefault(n(34)),d=r.__importDefault(n(11)),S=r.__importDefault(n(5)),y=r.__importDefault(n(19)),E=r.__importDefault(n(25)),l=r.__importDefault(n(3));function w(){}var C=9;function O(v){return o.arrEvery(v,function(s){return!s.id})}function h(v){var s=v||{};if(s.cipher){if(!l.default.Crypto)throw new Error("Encryption not enabled; use ably.encryption.js instead");var f=l.default.Crypto.getCipher(s.cipher);s.cipher=f.cipherParams,s.channelCipher=f.cipher}else"cipher"in s&&(s.cipher=void 0,s.channelCipher=null);return s}var m=function(v){r.__extends(s,v);function s(f,c,g){var p=v.call(this)||this;return a.default.logAction(a.default.LOG_MINOR,"Channel()","started; name = "+c),p.rest=f,p.name=c,p.basePath="/channels/"+encodeURIComponent(c),p.presence=new u.default(p),p.channelOptions=h(g),p}return s.prototype.setOptions=function(f){this.channelOptions=h(f)},s.prototype.history=function(f,c){if(a.default.logAction(a.default.LOG_MICRO,"Channel.history()","channel = "+this.name),c===void 0)if(typeof f=="function")c=f,f=null;else{if(this.rest.options.promises)return o.promisify(this,"history",arguments);c=w}this._history(f,c)},s.prototype._history=function(f,c){var g=this.rest,p=g.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,x=this.rest.http.supportsLinkHeaders?void 0:p,T=o.defaultGetHeaders(p);g.options.headers&&o.mixin(T,g.options.headers);var A=this.channelOptions;new y.default(g,this.basePath+"/messages",T,x,function(k,D,M){return d.default.fromResponseBody(k,A,M?void 0:p)}).get(f,c)},s.prototype.publish=function(){var f=this,c=arguments.length,g=arguments[0],p=arguments[1],x=arguments[c-1],T,A;if(typeof x!="function"){if(this.rest.options.promises)return o.promisify(this,"publish",arguments);x=w}if(typeof g=="string"||g===null)T=[d.default.fromValues({name:g,data:p})],A=arguments[2];else if(o.isObject(g))T=[d.default.fromValues(g)],A=arguments[1];else if(o.isArray(g))T=d.default.fromValuesArray(g),A=arguments[1];else throw new S.default("The single-argument form of publish() expects a message object or an array of message objects",40013,400);(typeof A!="object"||!A)&&(A={});var k=this.rest,D=k.options,M=D.useBinaryProtocol?o.Format.msgpack:o.Format.json,R=k.options.idempotentRestPublishing,I=o.defaultPostHeaders(M);if(D.headers&&o.mixin(I,D.headers),R&&O(T)){var B=o.randomString(C);o.arrForEach(T,function(L,W){L.id=B+":"+W.toString()})}d.default.encodeArray(T,this.channelOptions,function(L){if(L){x(L);return}var W=d.default.getMessagesSize(T),z=D.maxMessageSize;if(W>z){x(new S.default("Maximum size of messages that can be published at once exceeded ( was "+W+" bytes; limit is "+z+" bytes)",40009,400));return}f._publish(d.default.serialize(T,M),I,A,x)})},s.prototype._publish=function(f,c,g,p){E.default.post(this.rest,this.basePath+"/messages",f,c,g,null,p)},s.prototype.status=function(f){if(typeof f!="function"&&this.rest.options.promises)return o.promisify(this,"status",[]);var c=this.rest.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,g=o.defaultPostHeaders(c);E.default.get(this.rest,this.basePath,g,{},c,f||w)},s}(i.default);t.default=m},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(7)),a=r.__importDefault(n(0)),u=r.__importDefault(n(19)),d=r.__importDefault(n(15));function S(){}var y=function(E){r.__extends(l,E);function l(w){var C=E.call(this)||this;return C.channel=w,C.basePath=w.basePath+"/presence",C}return l.prototype.get=function(w,C){if(a.default.logAction(a.default.LOG_MICRO,"Presence.get()","channel = "+this.channel.name),C===void 0)if(typeof w=="function")C=w,w=null;else{if(this.channel.rest.options.promises)return o.promisify(this,"get",arguments);C=S}var O=this.channel.rest,h=O.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,m=this.channel.rest.http.supportsLinkHeaders?void 0:h,v=o.defaultGetHeaders(h);O.options.headers&&o.mixin(v,O.options.headers);var s=this.channel.channelOptions;new u.default(O,this.basePath,v,m,function(f,c,g){return d.default.fromResponseBody(f,s,g?void 0:h)}).get(w,C)},l.prototype.history=function(w,C){a.default.logAction(a.default.LOG_MICRO,"Presence.history()","channel = "+this.channel.name),this._history(w,C)},l.prototype._history=function(w,C){if(C===void 0)if(typeof w=="function")C=w,w=null;else{if(this.channel.rest.options.promises)return o.promisify(this,"_history",arguments);C=S}var O=this.channel.rest,h=O.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,m=this.channel.rest.http.supportsLinkHeaders?void 0:h,v=o.defaultGetHeaders(h);O.options.headers&&o.mixin(v,O.options.headers);var s=this.channel.channelOptions;new u.default(O,this.basePath+"/history",v,m,function(f,c,g){return d.default.fromResponseBody(f,s,g?void 0:h)}).get(w,C)},l}(i.default);t.default=y},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(7)),i=r.__importDefault(n(0)),a=function(u){r.__extends(d,u);function d(){var S=u.call(this)||this;return S.messages=[],S}return d.prototype.count=function(){return this.messages.length},d.prototype.push=function(S){this.messages.push(S)},d.prototype.shift=function(){return this.messages.shift()},d.prototype.last=function(){return this.messages[this.messages.length-1]},d.prototype.copyAll=function(){return this.messages.slice()},d.prototype.append=function(S){this.messages.push.apply(this.messages,S)},d.prototype.prepend=function(S){this.messages.unshift.apply(this.messages,S)},d.prototype.completeMessages=function(S,y,E){i.default.logAction(i.default.LOG_MICRO,"MessageQueue.completeMessages()","serial = "+S+"; count = "+y),E=E||null;var l=this.messages;if(l.length===0)throw new Error("MessageQueue.completeMessages(): completeMessages called on any empty MessageQueue");var w=l[0];if(w){var C=w.message.msgSerial,O=S+y;if(O>C)for(var h=l.splice(0,O-C),m=0,v=h;m<v.length;m++){var s=v[m];s.callback(E)}l.length==0&&this.emit("idle")}},d.prototype.completeAllMessages=function(S){this.completeMessages(0,Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,S)},d.prototype.clear=function(){i.default.logAction(i.default.LOG_MICRO,"MessageQueue.clear()","clearing "+this.messages.length+" messages"),this.messages=[],this.emit("idle")},d}(o.default);t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function o(i,a,u,d){this.previous=i,this.current=a,u&&(this.retryIn=u),d&&(this.reason=d)}return o}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(12)),i=r.__importStar(n(2)),a=r.__importDefault(n(7)),u=r.__importDefault(n(0)),d=r.__importDefault(n(20)),S=r.__importDefault(n(5)),y=r.__importDefault(n(3)),E=o.default.Action,l=o.default.fromValues({action:E.CLOSE}),w=o.default.fromValues({action:E.DISCONNECT}),C=function(O){r.__extends(h,O);function h(m,v,s,f){var c=O.call(this)||this;return f&&(s.format=void 0,s.heartbeats=!0),c.connectionManager=m,m.registerProposedTransport(c),c.auth=v,c.params=s,c.timeouts=s.options.timeouts,c.format=s.format,c.isConnected=!1,c.isFinished=!1,c.isDisposed=!1,c.maxIdleInterval=null,c.idleTimer=null,c.lastActivity=null,c}return h.prototype.connect=function(){},h.prototype.close=function(){this.isConnected&&this.requestClose(),this.finish("closed",d.default.closed)},h.prototype.disconnect=function(m){this.isConnected&&this.requestDisconnect(),this.finish("disconnected",m||d.default.disconnected)},h.prototype.fail=function(m){this.isConnected&&this.requestDisconnect(),this.finish("failed",m||d.default.failed)},h.prototype.finish=function(m,v){var s;this.isFinished||(this.isFinished=!0,this.isConnected=!1,this.maxIdleInterval=null,clearTimeout((s=this.idleTimer)!==null&&s!==void 0?s:void 0),this.idleTimer=null,this.emit(m,v),this.dispose())},h.prototype.onProtocolMessage=function(m){switch(u.default.shouldLog(u.default.LOG_MICRO)&&u.default.logAction(u.default.LOG_MICRO,"Transport.onProtocolMessage()","received on "+this.shortName+": "+o.default.stringify(m)+"; connectionId = "+this.connectionManager.connectionId),this.onActivity(),m.action){case E.HEARTBEAT:u.default.logAction(u.default.LOG_MICRO,"Transport.onProtocolMessage()",this.shortName+" heartbeat; connectionId = "+this.connectionManager.connectionId),this.emit("heartbeat",m.id);break;case E.CONNECTED:this.onConnect(m),this.emit("connected",m.error,m.connectionId,m.connectionDetails,m);break;case E.CLOSED:this.onClose(m);break;case E.DISCONNECTED:this.onDisconnect(m);break;case E.ACK:this.emit("ack",m.msgSerial,m.count);break;case E.NACK:this.emit("nack",m.msgSerial,m.count,m.error);break;case E.SYNC:if(m.connectionId!==void 0){this.emit("sync",m.connectionId,m);break}this.connectionManager.onChannelMessage(m,this);break;case E.AUTH:this.auth.authorize(function(v){v&&u.default.logAction(u.default.LOG_ERROR,"Transport.onProtocolMessage()","Ably requested re-authentication, but unable to obtain a new token: "+i.inspectError(v))});break;case E.ERROR:if(u.default.logAction(u.default.LOG_MINOR,"Transport.onProtocolMessage()","received error action; connectionId = "+this.connectionManager.connectionId+"; err = "+y.default.Config.inspect(m.error)+(m.channel?", channel: "+m.channel:"")),m.channel===void 0){this.onFatalError(m);break}this.connectionManager.onChannelMessage(m,this);break;default:this.connectionManager.onChannelMessage(m,this)}},h.prototype.onConnect=function(m){if(this.isConnected=!0,!m.connectionDetails)throw new Error("Transport.onConnect(): Connect message recieved without connectionDetails");var v=m.connectionDetails.maxIdleInterval;v&&(this.maxIdleInterval=v+this.timeouts.realtimeRequestTimeout,this.onActivity())},h.prototype.onDisconnect=function(m){var v=m&&m.error;u.default.logAction(u.default.LOG_MINOR,"Transport.onDisconnect()","err = "+i.inspectError(v)),this.finish("disconnected",v)},h.prototype.onFatalError=function(m){var v=m&&m.error;u.default.logAction(u.default.LOG_MINOR,"Transport.onFatalError()","err = "+i.inspectError(v)),this.finish("failed",v)},h.prototype.onClose=function(m){var v=m&&m.error;u.default.logAction(u.default.LOG_MINOR,"Transport.onClose()","err = "+i.inspectError(v)),this.finish("closed",v)},h.prototype.requestClose=function(){u.default.logAction(u.default.LOG_MINOR,"Transport.requestClose()",""),this.send(l)},h.prototype.requestDisconnect=function(){u.default.logAction(u.default.LOG_MINOR,"Transport.requestDisconnect()",""),this.send(w)},h.prototype.ping=function(m){var v={action:o.default.Action.HEARTBEAT};m&&(v.id=m),this.send(o.default.fromValues(v))},h.prototype.dispose=function(){u.default.logAction(u.default.LOG_MINOR,"Transport.dispose()",""),this.isDisposed=!0,this.off()},h.prototype.onActivity=function(){!this.maxIdleInterval||(this.lastActivity=this.connectionManager.lastActivity=i.now(),this.setIdleTimer(this.maxIdleInterval+100))},h.prototype.setIdleTimer=function(m){var v=this;this.idleTimer||(this.idleTimer=setTimeout(function(){v.onIdleTimerExpire()},m))},h.prototype.onIdleTimerExpire=function(){if(!this.lastActivity||!this.maxIdleInterval)throw new Error("Transport.onIdleTimerExpire(): lastActivity/maxIdleInterval not set");this.idleTimer=null;var m=i.now()-this.lastActivity,v=this.maxIdleInterval-m;if(v<=0){var s="No activity seen from realtime in "+m+"ms; assuming connection has dropped";u.default.logAction(u.default.LOG_ERROR,"Transport.onIdleTimerExpire()",s),this.disconnect(new S.default(s,80003,408))}else this.setIdleTimer(v+100)},h}(a.default);t.default=C},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(12)),i=r.__importDefault(n(7)),a=r.__importStar(n(2)),u=r.__importDefault(n(33)),d=r.__importDefault(n(0)),S=r.__importDefault(n(55)),y=r.__importDefault(n(11)),E=r.__importDefault(n(39)),l=r.__importDefault(n(5)),w=r.__importDefault(n(15)),C=r.__importDefault(n(20)),O=o.default.Action,h=function(){},m="statechange",v="sync";function s(c){if(c&&"params"in c&&!a.isObject(c.params))return new l.default("options.params must be an object",4e4,400);if(c&&"modes"in c){if(!a.isArray(c.modes))return new l.default("options.modes must be an array",4e4,400);for(var g=0;g<c.modes.length;g++){var p=c.modes[g];if(!p||typeof p!="string"||!a.arrIn(o.default.channelModes,String.prototype.toUpperCase.call(p)))return new l.default("Invalid channel mode: "+p,4e4,400)}}}var f=function(c){r.__extends(g,c);function g(p,x,T){var A=c.call(this,p,x,T)||this;return A.history=function(k,D){if(d.default.logAction(d.default.LOG_MICRO,"RealtimeChannel.history()","channel = "+this.name),D===void 0)if(typeof k=="function")D=k,k=null;else{if(this.rest.options.promises)return a.promisify(this,"history",arguments);D=h}if(k&&k.untilAttach){if(this.state!=="attached"){D(new l.default("option untilAttach requires the channel to be attached",4e4,400));return}if(!this.properties.attachSerial){D(new l.default("untilAttach was specified and channel is attached, but attachSerial is not defined",4e4,400));return}delete k.untilAttach,k.from_serial=this.properties.attachSerial}u.default.prototype._history.call(this,k,D)},A.whenState=function(k,D){return i.default.prototype.whenState.call(A,k,A.state,D)},d.default.logAction(d.default.LOG_MINOR,"RealtimeChannel()","started; name = "+x),A.realtime=p,A.presence=new S.default(A),A.connectionManager=p.connection.connectionManager,A.state="initialized",A.subscriptions=new i.default,A.syncChannelSerial=void 0,A.properties={attachSerial:void 0},A.setOptions(T),A.errorReason=null,A._requestedFlags=null,A._mode=null,A._attachedMsgIndicator=!1,A._attachResume=!1,A._decodingContext={channelOptions:A.channelOptions,plugins:p.options.plugins||{},baseEncodedPreviousPayload:void 0},A._lastPayload={messageId:null,protocolMessageChannelSerial:null,decodeFailureRecoveryInProgress:null},A._allChannelChanges=new i.default,A}return g.invalidStateError=function(p){return{statusCode:400,code:90001,message:"Channel operation failed as channel state is "+p}},g.processListenerArgs=function(p){return p=Array.prototype.slice.call(p),typeof p[0]=="function"&&p.unshift(null),p[p.length-1]==null&&p.pop(),p},g.prototype.setOptions=function(p,x){if(!x&&this.rest.options.promises)return a.promisify(this,"setOptions",arguments);var T=x||function(k){k&&d.default.logAction(d.default.LOG_ERROR,"RealtimeChannel.setOptions()","Set options failed: "+k.toString())},A=s(p);if(A){T(A);return}u.default.prototype.setOptions.call(this,p),this._decodingContext&&(this._decodingContext.channelOptions=this.channelOptions),this._shouldReattachToSetOptions(p)?(this.attachImpl(),this._allChannelChanges.once(function(k){switch(this.event){case"update":case"attached":T==null||T(null);return;default:T==null||T(k.reason);return}})):T()},g.prototype._shouldReattachToSetOptions=function(p){return(this.state==="attached"||this.state==="attaching")&&(p.params||p.modes)},g.prototype.publish=function(){for(var p=this,x=[],T=0;T<arguments.length;T++)x[T]=arguments[T];var A=x[0],k=x.length,D=x[k-1];if(typeof D!="function"){if(this.realtime.options.promises)return a.promisify(this,"publish",arguments);D=h,++k}if(!this.connectionManager.activeState()){D(this.connectionManager.getError());return}if(k==2)if(a.isObject(A))A=[y.default.fromValues(A)];else if(a.isArray(A))A=y.default.fromValuesArray(A);else throw new l.default("The single-argument form of publish() expects a message object or an array of message objects",40013,400);else A=[y.default.fromValues({name:x[0],data:x[1]})];var M=this.realtime.options.maxMessageSize;y.default.encodeArray(A,this.channelOptions,function(R){if(R){D(R);return}var I=y.default.getMessagesSize(A);if(I>M){D(new l.default("Maximum size of messages that can be published at once exceeded ( was "+I+" bytes; limit is "+M+" bytes)",40009,400));return}p.__publish(A,D)})},g.prototype.__publish=function(p,x){d.default.logAction(d.default.LOG_MICRO,"RealtimeChannel.publish()","message count = "+p.length);var T=this.state;switch(T){case"failed":case"suspended":x(l.default.fromValues(g.invalidStateError(T)));break;default:{d.default.logAction(d.default.LOG_MICRO,"RealtimeChannel.publish()","sending message; channel state is "+T);var A=new o.default;A.action=O.MESSAGE,A.channel=this.name,A.messages=p,this.sendMessage(A,x);break}}},g.prototype.onEvent=function(p){d.default.logAction(d.default.LOG_MICRO,"RealtimeChannel.onEvent()","received message");for(var x=this.subscriptions,T=0;T<p.length;T++){var A=p[T];x.emit(A.name,A)}},g.prototype.attach=function(p,x){var T;if(typeof p=="function"?(x=p,T=null):T=p,!x){if(this.realtime.options.promises)return a.promisify(this,"attach",arguments);x=function(A){A&&d.default.logAction(d.default.LOG_MAJOR,"RealtimeChannel.attach()","Channel attach failed: "+A.toString())}}if(T)d.default.deprecated("channel.attach() with flags","channel.setOptions() with channelOptions.params"),this._requestedFlags=T;else if(this.state==="attached"){x();return}this._attach(!1,null,x)},g.prototype._attach=function(p,x,T){T||(T=function(k){k&&d.default.logAction(d.default.LOG_ERROR,"RealtimeChannel._attach()","Channel attach failed: "+k.toString())});var A=this.connectionManager;if(!A.activeState()){T(A.getError());return}(this.state!=="attaching"||p)&&this.requestState("attaching",x),this.once(function(k){switch(this.event){case"attached":T==null||T();break;case"detached":case"suspended":case"failed":T==null||T(k.reason||A.getError()||new l.default("Unable to attach; reason unknown; state = "+this.event,9e4,500));break;case"detaching":T==null||T(new l.default("Attach request superseded by a subsequent detach request",9e4,409));break}})},g.prototype.attachImpl=function(){d.default.logAction(d.default.LOG_MICRO,"RealtimeChannel.attachImpl()","sending ATTACH message"),this.setInProgress(m,!0);var p=o.default.fromValues({action:O.ATTACH,channel:this.name,params:this.channelOptions.params});this._requestedFlags?p.encodeModesToFlags(this._requestedFlags):this.channelOptions.modes&&p.encodeModesToFlags(a.allToUpperCase(this.channelOptions.modes)),this._attachResume&&p.setFlag("ATTACH_RESUME"),this._lastPayload.decodeFailureRecoveryInProgress&&(p.channelSerial=this._lastPayload.protocolMessageChannelSerial),this.sendMessage(p,h)},g.prototype.detach=function(p){if(!p){if(this.realtime.options.promises)return a.promisify(this,"detach",arguments);p=h}var x=this.connectionManager;if(!x.activeState()){p(x.getError());return}switch(this.state){case"suspended":this.notifyState("detached"),p();break;case"detached":p();break;case"failed":p(new l.default("Unable to detach; channel state = failed",90001,400));break;default:this.requestState("detaching");case"detaching":this.once(function(T){switch(this.event){case"detached":p();break;case"attached":case"suspended":case"failed":p(T.reason||x.getError()||new l.default("Unable to detach; reason unknown; state = "+this.event,9e4,500));break;case"attaching":p(new l.default("Detach request superseded by a subsequent attach request",9e4,409));break}})}},g.prototype.detachImpl=function(p){this.connectionManager.mostRecentMsg&&this.connectionManager.mostRecentMsg.channel===this.name&&(this.connectionManager.mostRecentMsg=null),d.default.logAction(d.default.LOG_MICRO,"RealtimeChannel.detach()","sending DETACH message"),this.setInProgress(m,!0);var x=o.default.fromValues({action:O.DETACH,channel:this.name});this.sendMessage(x,p||h)},g.prototype.subscribe=function(){for(var p=[],x=0;x<arguments.length;x++)p[x]=arguments[x];var T=g.processListenerArgs(p),A=T[0],k=T[1],D=T[2];if(!D&&this.realtime.options.promises)return a.promisify(this,"subscribe",[A,k]);if(this.state==="failed"){D==null||D(l.default.fromValues(g.invalidStateError("failed")));return}return this.subscriptions.on(A,k),this.attach(D||h)},g.prototype.unsubscribe=function(){for(var p=[],x=0;x<arguments.length;x++)p[x]=arguments[x];var T=g.processListenerArgs(p),A=T[0],k=T[1];this.subscriptions.off(A,k)},g.prototype.sync=function(){switch(this.state){case"initialized":case"detaching":case"detached":throw new l.default("Unable to sync to channel; not attached",4e4);default:}var p=this.connectionManager;if(!p.activeState())throw p.getError();var x=o.default.fromValues({action:O.SYNC,channel:this.name});this.syncChannelSerial&&(x.channelSerial=this.syncChannelSerial),p.send(x)},g.prototype.sendMessage=function(p,x){this.connectionManager.send(p,this.realtime.options.queueMessages,x)},g.prototype.sendPresence=function(p,x){var T=o.default.fromValues({action:O.PRESENCE,channel:this.name,presence:a.isArray(p)?w.default.fromValuesArray(p):[w.default.fromValues(p)]});this.sendMessage(T,x)},g.prototype.onMessage=function(p){var x,T=!1;switch(p.action){case O.ATTACHED:{this._attachedMsgIndicator=!0,this.properties.attachSerial=p.channelSerial,this._mode=p.getMode(),this.params=p.params||{};var A=p.decodeModesFromFlags();this.modes=A&&a.allToLowerCase(A)||void 0;var k=p.hasFlag("RESUMED"),D=p.hasFlag("HAS_PRESENCE");if(this.state==="attached"){this.setInProgress(m,!1),k||this.presence.onAttached(D);var M=new E.default(this.state,this.state,k,p.error);this._allChannelChanges.emit("update",M),(!k||this.channelOptions.updateOnAttached)&&this.emit("update",M)}else this.state==="detaching"?this.checkPendingState():this.notifyState("attached",p.error,k,D);break}case O.DETACHED:{var R=p.error?l.default.fromValues(p.error):new l.default("Channel detached",90001,404);this.state==="detaching"?this.notifyState("detached",R):this.state==="attaching"?this.notifyState("suspended",R):this.requestState("attaching",R);break}case O.SYNC:if(T=!0,x=this.syncChannelSerial=p.channelSerial,!p.presence)break;case O.PRESENCE:{for(var I=p.presence,B=p.id,L=p.connectionId,W=p.timestamp,z=this.channelOptions,b=void 0,F=0;F<I.length;F++)try{b=I[F],w.default.decode(b,z),b.connectionId||(b.connectionId=L),b.timestamp||(b.timestamp=W),b.id||(b.id=B+":"+F)}catch(q){d.default.logAction(d.default.LOG_ERROR,"RealtimeChannel.onMessage()",q.toString())}this.presence.setPresence(I,T,x);break}case O.MESSAGE:{if(this.state!=="attached"){d.default.logAction(d.default.LOG_MAJOR,"RealtimeChannel.onMessage()",'Message "'+p.id+'" skipped as this channel "'+this.name+'" state is not "attached" (state is "'+this.state+'").');return}var P=p.messages,_=P[0],H=P[P.length-1],B=p.id,L=p.connectionId,W=p.timestamp;if(_.extras&&_.extras.delta&&_.extras.delta.from!==this._lastPayload.messageId){var U='Delta message decode failure - previous message not available for message "'+p.id+'" on this channel "'+this.name+'".';d.default.logAction(d.default.LOG_ERROR,"RealtimeChannel.onMessage()",U),this._startDecodeFailureRecovery(new l.default(U,40018,400));break}for(var F=0;F<P.length;F++){var U=P[F];try{y.default.decode(U,this._decodingContext)}catch(Q){switch(d.default.logAction(d.default.LOG_ERROR,"RealtimeChannel.onMessage()",Q.toString()),Q.code){case 40018:this._startDecodeFailureRecovery(Q);return;case 40019:case 40021:this.notifyState("failed",Q);return}}U.connectionId||(U.connectionId=L),U.timestamp||(U.timestamp=W),U.id||(U.id=B+":"+F)}this._lastPayload.messageId=H.id,this._lastPayload.protocolMessageChannelSerial=p.channelSerial,this.onEvent(P);break}case O.ERROR:{var j=p.error;j&&j.code==80016?this.checkPendingState():this.notifyState("failed",l.default.fromValues(j));break}default:d.default.logAction(d.default.LOG_ERROR,"RealtimeChannel.onMessage()","Fatal protocol error: unrecognised action ("+p.action+")"),this.connectionManager.abort(C.default.unknownChannelErr)}},g.prototype._startDecodeFailureRecovery=function(p){var x=this;this._lastPayload.decodeFailureRecoveryInProgress||(d.default.logAction(d.default.LOG_MAJOR,"RealtimeChannel.onMessage()","Starting decode failure recovery process."),this._lastPayload.decodeFailureRecoveryInProgress=!0,this._attach(!0,p,function(){x._lastPayload.decodeFailureRecoveryInProgress=!1}))},g.prototype.onAttached=function(){d.default.logAction(d.default.LOG_MINOR,"RealtimeChannel.onAttached","activating channel; name = "+this.name)},g.prototype.notifyState=function(p,x,T,A){if(d.default.logAction(d.default.LOG_MICRO,"RealtimeChannel.notifyState","name = "+this.name+", current state = "+this.state+", notifying state "+p),this.clearStateTimer(),p!==this.state){this.presence.actOnChannelState(p,A,x),p==="suspended"&&this.connectionManager.state.sendEvents?this.startRetryTimer():this.cancelRetryTimer(),x&&(this.errorReason=x);var k=new E.default(this.state,p,T,x),D=p==="failed"?d.default.LOG_ERROR:d.default.LOG_MAJOR;d.default.logAction(D,'Channel state for channel "'+this.name+'"',p+(x?"; reason: "+x:"")),p==="attached"?(this.onAttached(),this.setInProgress(v,A),this.setInProgress(m,!1)):(p==="detached"||p==="failed"||p==="suspended")&&(this.setInProgress(m,!1),this.setInProgress(v,!1)),p==="attached"?this._attachResume=!0:(p==="detaching"||p==="failed")&&(this._attachResume=!1),this.state=p,this._allChannelChanges.emit(p,k),this.emit(p,k)}},g.prototype.requestState=function(p,x){d.default.logAction(d.default.LOG_MINOR,"RealtimeChannel.requestState","name = "+this.name+", state = "+p),this.notifyState(p,x),this.checkPendingState()},g.prototype.checkPendingState=function(){var p=this.connectionManager.state;if(!(p.sendEvents||p.forceQueueEvents)){d.default.logAction(d.default.LOG_MINOR,"RealtimeChannel.checkPendingState","sendEvents is false; state is "+this.connectionManager.state.state);return}switch(d.default.logAction(d.default.LOG_MINOR,"RealtimeChannel.checkPendingState","name = "+this.name+", state = "+this.state),this.state){case"attaching":this.startStateTimerIfNotRunning(),this.attachImpl();break;case"detaching":this.startStateTimerIfNotRunning(),this.detachImpl();break;case"attached":this.sync();break;default:break}},g.prototype.timeoutPendingState=function(){switch(this.state){case"attaching":{var p=new l.default("Channel attach timed out",90007,408);this.notifyState("suspended",p);break}case"detaching":{var p=new l.default("Channel detach timed out",90007,408);this.notifyState("attached",p);break}default:this.checkPendingState();break}},g.prototype.startStateTimerIfNotRunning=function(){var p=this;this.stateTimer||(this.stateTimer=setTimeout(function(){d.default.logAction(d.default.LOG_MINOR,"RealtimeChannel.startStateTimerIfNotRunning","timer expired"),p.stateTimer=null,p.timeoutPendingState()},this.realtime.options.timeouts.realtimeRequestTimeout))},g.prototype.clearStateTimer=function(){var p=this.stateTimer;p&&(clearTimeout(p),this.stateTimer=null)},g.prototype.startRetryTimer=function(){var p=this;this.retryTimer||(this.retryTimer=setTimeout(function(){p.state==="suspended"&&p.connectionManager.state.sendEvents&&(p.retryTimer=null,d.default.logAction(d.default.LOG_MINOR,"RealtimeChannel retry timer expired","attempting a new attach"),p.requestState("attaching"))},this.realtime.options.timeouts.channelRetryTimeout))},g.prototype.cancelRetryTimer=function(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null)},g.prototype.setInProgress=function(p,x){this.rest.channels.setInProgress(this,p,x)},g.prototype.getReleaseErr=function(){var p=this.state;return p==="initialized"||p==="detached"||p==="failed"?null:new l.default("Can only release a channel in a state where there is no possibility of further updates from the server being received (initialized, detached, or failed); was "+p,90001,400)},g.progressOps={statechange:m,sync:v},g}(u.default);t.default=f},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function o(i,a,u,d){this.previous=i,this.current=a,a==="attached"&&(this.resumed=u),d&&(this.reason=d)}return o}();t.default=r},function(e,t,n){(function(r,o){e.exports=t=o(n(6))})(this,function(r){return function(){var o=r,i=o.lib,a=i.WordArray,u=i.Hasher,d=o.algo,S=[],y=d.SHA1=u.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,l){for(var w=this._hash.words,C=w[0],O=w[1],h=w[2],m=w[3],v=w[4],s=0;s<80;s++){if(s<16)S[s]=E[l+s]|0;else{var f=S[s-3]^S[s-8]^S[s-14]^S[s-16];S[s]=f<<1|f>>>31}var c=(C<<5|C>>>27)+v+S[s];s<20?c+=(O&h|~O&m)+1518500249:s<40?c+=(O^h^m)+1859775393:s<60?c+=(O&h|O&m|h&m)-1894007588:c+=(O^h^m)-899497514,v=m,m=h,h=O<<30|O>>>2,O=C,C=c}w[0]=w[0]+C|0,w[1]=w[1]+O|0,w[2]=w[2]+h|0,w[3]=w[3]+m|0,w[4]=w[4]+v|0},_doFinalize:function(){var E=this._data,l=E.words,w=this._nDataBytes*8,C=E.sigBytes*8;return l[C>>>5]|=128<<24-C%32,l[(C+64>>>9<<4)+14]=Math.floor(w/4294967296),l[(C+64>>>9<<4)+15]=w,E.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var E=u.clone.call(this);return E._hash=this._hash.clone(),E}});o.SHA1=u._createHelper(y),o.HmacSHA1=u._createHmacHelper(y)}(),r.SHA1})},function(e,t,n){"use strict";t.__esModule=!0;function r(s){if(s===void 0)return"undefined";var f,c;if(s instanceof ArrayBuffer?(c="ArrayBuffer",f=new DataView(s)):s instanceof DataView&&(c="DataView",f=s),!f)return JSON.stringify(s);for(var g=[],p=0;p<s.byteLength;p++){if(p>20){g.push("...");break}var x=f.getUint8(p).toString(16);x.length===1&&(x="0"+x),g.push(x)}return"<"+c+" "+g.join(" ")+">"}function o(s,f,c){for(var g=0,p=c.length;g<p;g++){var x=c.charCodeAt(g);if(x<128){s.setUint8(f++,x>>>0&127|0);continue}if(x<2048){s.setUint8(f++,x>>>6&31|192),s.setUint8(f++,x>>>0&63|128);continue}if(x<65536){s.setUint8(f++,x>>>12&15|224),s.setUint8(f++,x>>>6&63|128),s.setUint8(f++,x>>>0&63|128);continue}if(x<1114112){s.setUint8(f++,x>>>18&7|240),s.setUint8(f++,x>>>12&63|128),s.setUint8(f++,x>>>6&63|128),s.setUint8(f++,x>>>0&63|128);continue}throw new Error("bad codepoint "+x)}}function i(s,f,c){for(var g="",p=f,x=f+c;p<x;p++){var T=s.getUint8(p);if((T&128)===0){g+=String.fromCharCode(T);continue}if((T&224)===192){g+=String.fromCharCode((T&15)<<6|s.getUint8(++p)&63);continue}if((T&240)===224){g+=String.fromCharCode((T&15)<<12|(s.getUint8(++p)&63)<<6|(s.getUint8(++p)&63)<<0);continue}if((T&248)===240){g+=String.fromCharCode((T&7)<<18|(s.getUint8(++p)&63)<<12|(s.getUint8(++p)&63)<<6|(s.getUint8(++p)&63)<<0);continue}throw new Error("Invalid byte "+T.toString(16))}return g}function a(s){for(var f=0,c=0,g=s.length;c<g;c++){var p=s.charCodeAt(c);if(p<128){f+=1;continue}if(p<2048){f+=2;continue}if(p<65536){f+=3;continue}if(p<1114112){f+=4;continue}throw new Error("bad codepoint "+p)}return f}function u(s,f){var c=v(s,f);if(c!==0){var g=new ArrayBuffer(c),p=new DataView(g);return m(s,p,0,f),g}}var d=(1<<16)*(1<<16),S=1/d;function y(s,f){return f=f||0,s.getInt32(f)*d+s.getUint32(f+4)}function E(s,f){return f=f||0,s.getUint32(f)*d+s.getUint32(f+4)}function l(s,f,c){c<9223372036854776e3?(s.setInt32(f,Math.floor(c*S)),s.setInt32(f+4,c&-1)):(s.setUint32(f,2147483647),s.setUint32(f+4,2147483647))}function w(s,f,c){c<18446744073709552e3?(s.setUint32(f,Math.floor(c*S)),s.setInt32(f+4,c&-1)):(s.setUint32(f,4294967295),s.setUint32(f+4,4294967295))}var C=function(){function s(f,c){var g=this;this.map=function(p){for(var x={},T=0;T<p;T++){var A=g.parse();x[A]=g.parse()}return x},this.bin=function(p){var x=new ArrayBuffer(p);return new Uint8Array(x).set(new Uint8Array(g.view.buffer,g.offset,p),0),g.offset+=p,x},this.buf=this.bin,this.str=function(p){var x=i(g.view,g.offset,p);return g.offset+=p,x},this.array=function(p){for(var x=new Array(p),T=0;T<p;T++)x[T]=g.parse();return x},this.ext=function(p){return g.offset+=p,{type:g.view.getInt8(g.offset),data:g.buf(p)}},this.parse=function(){var p=g.view.getUint8(g.offset),x,T;if((p&128)===0)return g.offset++,p;if((p&240)===128)return T=p&15,g.offset++,g.map(T);if((p&240)===144)return T=p&15,g.offset++,g.array(T);if((p&224)===160)return T=p&31,g.offset++,g.str(T);if((p&224)===224)return x=g.view.getInt8(g.offset),g.offset++,x;switch(p){case 192:return g.offset++,null;case 193:g.offset++;return;case 194:return g.offset++,!1;case 195:return g.offset++,!0;case 196:return T=g.view.getUint8(g.offset+1),g.offset+=2,g.bin(T);case 197:return T=g.view.getUint16(g.offset+1),g.offset+=3,g.bin(T);case 198:return T=g.view.getUint32(g.offset+1),g.offset+=5,g.bin(T);case 199:return T=g.view.getUint8(g.offset+1),g.offset+=2,g.ext(T);case 200:return T=g.view.getUint16(g.offset+1),g.offset+=3,g.ext(T);case 201:return T=g.view.getUint32(g.offset+1),g.offset+=5,g.ext(T);case 202:return x=g.view.getFloat32(g.offset+1),g.offset+=5,x;case 203:return x=g.view.getFloat64(g.offset+1),g.offset+=9,x;case 204:return x=g.view.getUint8(g.offset+1),g.offset+=2,x;case 205:return x=g.view.getUint16(g.offset+1),g.offset+=3,x;case 206:return x=g.view.getUint32(g.offset+1),g.offset+=5,x;case 207:return x=E(g.view,g.offset+1),g.offset+=9,x;case 208:return x=g.view.getInt8(g.offset+1),g.offset+=2,x;case 209:return x=g.view.getInt16(g.offset+1),g.offset+=3,x;case 210:return x=g.view.getInt32(g.offset+1),g.offset+=5,x;case 211:return x=y(g.view,g.offset+1),g.offset+=9,x;case 212:return T=1,g.offset++,g.ext(T);case 213:return T=2,g.offset++,g.ext(T);case 214:return T=4,g.offset++,g.ext(T);case 215:return T=8,g.offset++,g.ext(T);case 216:return T=16,g.offset++,g.ext(T);case 217:return T=g.view.getUint8(g.offset+1),g.offset+=2,g.str(T);case 218:return T=g.view.getUint16(g.offset+1),g.offset+=3,g.str(T);case 219:return T=g.view.getUint32(g.offset+1),g.offset+=5,g.str(T);case 220:return T=g.view.getUint16(g.offset+1),g.offset+=3,g.array(T);case 221:return T=g.view.getUint32(g.offset+1),g.offset+=5,g.array(T);case 222:return T=g.view.getUint16(g.offset+1),g.offset+=3,g.map(T);case 223:return T=g.view.getUint32(g.offset+1),g.offset+=5,g.map(T)}throw new Error("Unknown type 0x"+p.toString(16))},this.offset=c||0,this.view=f}return s}();function O(s){var f=new DataView(s),c=new C(f),g=c.parse();if(c.offset!==s.byteLength)throw new Error(s.byteLength-c.offset+" trailing bytes");return g}function h(s,f){return Object.keys(s).filter(function(c){var g=s[c],p=typeof g;return(!f||g!=null)&&(p!=="function"||!!g.toJSON)})}function m(s,f,c,g){var p=typeof s;if(typeof s=="string"){var x=a(s);if(x<32)return f.setUint8(c,x|160),o(f,c+1,s),1+x;if(x<256)return f.setUint8(c,217),f.setUint8(c+1,x),o(f,c+2,s),2+x;if(x<65536)return f.setUint8(c,218),f.setUint16(c+1,x),o(f,c+3,s),3+x;if(x<4294967296)return f.setUint8(c,219),f.setUint32(c+1,x),o(f,c+5,s),5+x}if(ArrayBuffer.isView&&ArrayBuffer.isView(s)&&(s=s.buffer),s instanceof ArrayBuffer){var T=s.byteLength;if(T<256)return f.setUint8(c,196),f.setUint8(c+1,T),new Uint8Array(f.buffer).set(new Uint8Array(s),c+2),2+T;if(T<65536)return f.setUint8(c,197),f.setUint16(c+1,T),new Uint8Array(f.buffer).set(new Uint8Array(s),c+3),3+T;if(T<4294967296)return f.setUint8(c,198),f.setUint32(c+1,T),new Uint8Array(f.buffer).set(new Uint8Array(s),c+5),5+T}if(typeof s=="number"){if(Math.floor(s)!==s)return f.setUint8(c,203),f.setFloat64(c+1,s),9;if(s>=0){if(s<128)return f.setUint8(c,s),1;if(s<256)return f.setUint8(c,204),f.setUint8(c+1,s),2;if(s<65536)return f.setUint8(c,205),f.setUint16(c+1,s),3;if(s<4294967296)return f.setUint8(c,206),f.setUint32(c+1,s),5;if(s<18446744073709552e3)return f.setUint8(c,207),w(f,c+1,s),9;throw new Error("Number too big 0x"+s.toString(16))}if(s>=-32)return f.setInt8(c,s),1;if(s>=-128)return f.setUint8(c,208),f.setInt8(c+1,s),2;if(s>=-32768)return f.setUint8(c,209),f.setInt16(c+1,s),3;if(s>=-2147483648)return f.setUint8(c,210),f.setInt32(c+1,s),5;if(s>=-9223372036854776e3)return f.setUint8(c,211),l(f,c+1,s),9;throw new Error("Number too small -0x"+(-s).toString(16).substr(1))}if(p==="undefined")return g?0:(f.setUint8(c,212),f.setUint8(c+1,0),f.setUint8(c+2,0),3);if(s===null)return g?0:(f.setUint8(c,192),1);if(p==="boolean")return f.setUint8(c,s?195:194),1;if(typeof s.toJSON=="function")return m(s.toJSON(),f,c,g);if(p==="object"){var A,k=0,D=void 0,M=Array.isArray(s);if(M?A=s.length:(D=h(s,g),A=D.length),A<16?(f.setUint8(c,A|(M?144:128)),k=1):A<65536?(f.setUint8(c,M?220:222),f.setUint16(c+1,A),k=3):A<4294967296&&(f.setUint8(c,M?221:223),f.setUint32(c+1,A),k=5),M)for(var R=0;R<A;R++)k+=m(s[R],f,c+k,g);else if(D)for(var R=0;R<A;R++){var I=D[R];k+=m(I,f,c+k),k+=m(s[I],f,c+k,g)}return k}if(p==="function")return 0;throw new Error("Unknown type "+p)}function v(s,f){var c=typeof s;if(c==="string"){var g=a(s);if(g<32)return 1+g;if(g<256)return 2+g;if(g<65536)return 3+g;if(g<4294967296)return 5+g}if(ArrayBuffer.isView&&ArrayBuffer.isView(s)&&(s=s.buffer),s instanceof ArrayBuffer){var p=s.byteLength;if(p<256)return 2+p;if(p<65536)return 3+p;if(p<4294967296)return 5+p}if(typeof s=="number"){if(Math.floor(s)!==s)return 9;if(s>=0){if(s<128)return 1;if(s<256)return 2;if(s<65536)return 3;if(s<4294967296)return 5;if(s<18446744073709552e3)return 9;throw new Error("Number too big 0x"+s.toString(16))}if(s>=-32)return 1;if(s>=-128)return 2;if(s>=-32768)return 3;if(s>=-2147483648)return 5;if(s>=-9223372036854776e3)return 9;throw new Error("Number too small -0x"+s.toString(16).substr(1))}if(c==="boolean")return 1;if(s===null)return f?0:1;if(s===void 0)return f?0:3;if(typeof s.toJSON=="function")return v(s.toJSON(),f);if(c==="object"){var x,T=0;if(Array.isArray(s)){x=s.length;for(var A=0;A<x;A++)T+=v(s[A],f)}else{var k=h(s,f);x=k.length;for(var A=0;A<x;A++){var D=k[A];T+=v(D)+v(s[D],f)}}if(x<16)return 1+T;if(x<65536)return 3+T;if(x<4294967296)return 5+T;throw new Error("Array or object too long 0x"+x.toString(16))}if(c==="function")return 0;throw new Error("Unknown type "+c)}t.default={encode:u,decode:O,inspect:r,utf8Write:o,utf8Read:i,utf8ByteCount:a}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(30)),i=r.__importDefault(n(50)),a=r.__importDefault(n(3)),u=r.__importDefault(n(56)),d=r.__importDefault(n(58)),S=r.__importDefault(n(63)),y=r.__importDefault(n(9)),E=r.__importDefault(n(67)),l=r.__importDefault(n(0)),w=n(8),C=r.__importDefault(n(26)),O=r.__importDefault(n(64)),h=r.__importDefault(n(65)),m=r.__importDefault(n(41)),v=r.__importDefault(n(11)),s=r.__importDefault(n(15));a.default.Crypto=d.default,a.default.BufferUtils=u.default,a.default.Http=S.default,a.default.Config=y.default,a.default.Transports=E.default,a.default.WebStorage=O.default,o.default.Crypto=d.default,i.default.Crypto=d.default,o.default.Message=v.default,i.default.Message=v.default,o.default.PresenceMessage=s.default,i.default.PresenceMessage=s.default,i.default.ConnectionManager=C.default,l.default.initLogHandlers(),a.default.Defaults=w.getDefaults(h.default),a.default.Config.agent&&(a.default.Defaults.agent+=" "+a.default.Config.agent),a.default.Config.noUpgrade&&(a.default.Defaults.upgradeTransports=[]),t.default={Rest:o.default,Realtime:i.default,msgpack:m.default}},function(e){e.exports=JSON.parse('{"name":"ably","description":"Realtime client library for Ably, the realtime messaging service","version":"1.2.25","license":"Apache-2.0","bugs":{"url":"https://github.com/ably/ably-js/issues","email":"support@ably.com"},"main":"./build/ably-node.js","typings":"./ably.d.ts","react-native":{"./build/ably-node.js":"./build/ably-reactnative.js"},"browser":{"./build/ably-node.js":"./build/ably-commonjs.js"},"files":["build/**","ably.d.ts","callbacks.d.ts","callbacks.js","promises.d.ts","promises.js","resources/**"],"dependencies":{"@ably/msgpack-js":"^0.4.0","got":"^11.8.2","ws":"^5.1"},"devDependencies":{"@ably/vcdiff-decoder":"1.0.4","@types/crypto-js":"^4.0.1","@types/node":"^15.0.0","@types/request":"^2.48.7","@types/ws":"^8.2.0","@typescript-eslint/eslint-plugin":"^5.14.0","@typescript-eslint/parser":"^5.14.0","async":"ably-forks/async#requirejs","aws-sdk":"^2.1075.0","chai":"^4.2.0","copy-webpack-plugin":"^6.4.1","cors":"~2.7","crypto-js":"ably-forks/crypto-js#crypto-lite","eslint":"^7.13.0","eslint-plugin-security":"^1.4.0","express":"^4.17.1","glob":"~4.4","google-closure-compiler":"^20180610.0.1","grunt":"^1.4.1","grunt-bump":"^0.3.1","grunt-cli":"~1.2.0","grunt-closure-tools":"^1.0.0","grunt-contrib-concat":"~0.5","grunt-shell":"~1.1","grunt-webpack":"^4.0.2","hexy":"~0.2","kexec":"ably-forks/node-kexec#update-for-node-12","minimist":"^1.2.5","mocha":"^8.1.3","null-loader":"^4.0.1","playwright":"^1.10.0","prettier":"^2.5.1","requirejs":"~2.1","shelljs":"~0.8","source-map-explorer":"^2.5.2","ts-loader":"^8.2.0","tsconfig-paths-webpack-plugin":"^3.5.2","tslib":"^2.3.1","typescript":"^4.2.4","webpack":"^4.44.2","webpack-cli":"^4.2.0"},"engines":{"node":">=5.10.x"},"repository":"ably/ably-js","jspm":{"registry":"npm","directories":{"lib":"browser/static"},"main":"ably"},"scripts":{"grunt":"grunt","test":"grunt test","test:node":"grunt test:node","test:webserver":"grunt test:webserver","test:playwright":"node test/support/runPlaywrightTests.js","concat":"grunt concat","build":"grunt build:all","build:node":"grunt build:node","build:browser":"grunt build:browser","requirejs":"grunt requirejs","lint":"eslint .","lint:fix":"eslint --fix .","check-closure-compiler":"grunt check-closure-compiler","prepare":"npm run build","format":"prettier --write --ignore-path .gitignore src test ably.d.ts webpack.config.js Gruntfile.js scripts/cdn_deploy.js","format:check":"prettier --check --ignore-path .gitignore src test ably.d.ts webpack.config.js Gruntfile.js scripts/cdn_deploy.js","sourcemap":"source-map-explorer build/ably.min.js","sourcemap:noencryption":"source-map-explorer build/ably.noencryption.min.js"}}')},function(e,t,n){(function(r,o){e.exports=t=o(n(6),n(31),n(24))})(this,function(r){return r.HmacSHA256})},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(47)),a=r.__importDefault(n(25)),u=r.__importDefault(n(19)),d=r.__importDefault(n(5)),S=r.__importDefault(n(48)),y=function(){},E=function(){function O(h){this.rest=h,this.admin=new l(h)}return O}(),l=function(){function O(h){this.rest=h,this.deviceRegistrations=new w(h),this.channelSubscriptions=new C(h)}return O.prototype.publish=function(h,m,v){var s=this.rest,f=s.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,c=o.defaultPostHeaders(f),g={},p=o.mixin({recipient:h},m);if(typeof v!="function"){if(this.rest.options.promises)return o.promisify(this,"publish",arguments);v=y}s.options.headers&&o.mixin(c,s.options.headers),s.options.pushFullWait&&o.mixin(g,{fullWait:"true"});var x=o.encodeBody(p,f);a.default.post(s,"/push/publish",x,c,g,null,function(T){return v(T)})},O}(),w=function(){function O(h){this.rest=h}return O.prototype.save=function(h,m){var v=this.rest,s=i.default.fromValues(h),f=v.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,c=o.defaultPostHeaders(f),g={};if(typeof m!="function"){if(this.rest.options.promises)return o.promisify(this,"save",arguments);m=y}v.options.headers&&o.mixin(c,v.options.headers),v.options.pushFullWait&&o.mixin(g,{fullWait:"true"});var p=o.encodeBody(s,f);a.default.put(v,"/push/deviceRegistrations/"+encodeURIComponent(h.id),p,c,g,null,function(x,T,A,k){m(x,x?void 0:i.default.fromResponseBody(T,k?void 0:f))})},O.prototype.get=function(h,m){var v=this.rest,s=v.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,f=o.defaultGetHeaders(s),c=h.id||h;if(typeof m!="function"){if(this.rest.options.promises)return o.promisify(this,"get",arguments);m=y}if(typeof c!="string"||!c.length){m(new d.default("First argument to DeviceRegistrations#get must be a deviceId string or DeviceDetails",4e4,400));return}v.options.headers&&o.mixin(f,v.options.headers),a.default.get(v,"/push/deviceRegistrations/"+encodeURIComponent(c),f,{},null,function(g,p,x,T){m(g,g?void 0:i.default.fromResponseBody(p,T?void 0:s))})},O.prototype.list=function(h,m){var v=this.rest,s=v.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,f=this.rest.http.supportsLinkHeaders?void 0:s,c=o.defaultGetHeaders(s);if(typeof m!="function"){if(this.rest.options.promises)return o.promisify(this,"list",arguments);m=y}v.options.headers&&o.mixin(c,v.options.headers),new u.default(v,"/push/deviceRegistrations",c,f,function(g,p,x){return i.default.fromResponseBody(g,x?void 0:s)}).get(h,m)},O.prototype.remove=function(h,m){var v=this.rest,s=v.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,f=o.defaultGetHeaders(s),c={},g=h.id||h;if(typeof m!="function"){if(this.rest.options.promises)return o.promisify(this,"remove",arguments);m=y}if(typeof g!="string"||!g.length){m(new d.default("First argument to DeviceRegistrations#remove must be a deviceId string or DeviceDetails",4e4,400));return}v.options.headers&&o.mixin(f,v.options.headers),v.options.pushFullWait&&o.mixin(c,{fullWait:"true"}),a.default.delete(v,"/push/deviceRegistrations/"+encodeURIComponent(g),f,c,null,function(p){return m(p)})},O.prototype.removeWhere=function(h,m){var v=this.rest,s=v.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,f=o.defaultGetHeaders(s);if(typeof m!="function"){if(this.rest.options.promises)return o.promisify(this,"removeWhere",arguments);m=y}v.options.headers&&o.mixin(f,v.options.headers),v.options.pushFullWait&&o.mixin(h,{fullWait:"true"}),a.default.delete(v,"/push/deviceRegistrations",f,h,null,function(c){return m(c)})},O}(),C=function(){function O(h){this.remove=O.prototype.removeWhere,this.rest=h}return O.prototype.save=function(h,m){var v=this.rest,s=S.default.fromValues(h),f=v.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,c=o.defaultPostHeaders(f),g={};if(typeof m!="function"){if(this.rest.options.promises)return o.promisify(this,"save",arguments);m=y}v.options.headers&&o.mixin(c,v.options.headers),v.options.pushFullWait&&o.mixin(g,{fullWait:"true"});var p=o.encodeBody(s,f);a.default.post(v,"/push/channelSubscriptions",p,c,g,null,function(x,T,A,k){m(x,!x&&S.default.fromResponseBody(T,k?void 0:f))})},O.prototype.list=function(h,m){var v=this.rest,s=v.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,f=this.rest.http.supportsLinkHeaders?void 0:s,c=o.defaultGetHeaders(s);if(typeof m!="function"){if(this.rest.options.promises)return o.promisify(this,"list",arguments);m=y}v.options.headers&&o.mixin(c,v.options.headers),new u.default(v,"/push/channelSubscriptions",c,f,function(g,p,x){return S.default.fromResponseBody(g,x?void 0:s)}).get(h,m)},O.prototype.removeWhere=function(h,m){var v=this.rest,s=v.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,f=o.defaultGetHeaders(s);if(typeof m!="function"){if(this.rest.options.promises)return o.promisify(this,"removeWhere",arguments);m=y}v.options.headers&&o.mixin(f,v.options.headers),v.options.pushFullWait&&o.mixin(h,{fullWait:"true"}),a.default.delete(v,"/push/channelSubscriptions",f,h,null,function(c){return m(c)})},O.prototype.listChannels=function(h,m){var v=this.rest,s=v.options.useBinaryProtocol?o.Format.msgpack:o.Format.json,f=this.rest.http.supportsLinkHeaders?void 0:s,c=o.defaultGetHeaders(s);if(typeof m!="function"){if(this.rest.options.promises)return o.promisify(this,"listChannels",arguments);m=y}v.options.headers&&o.mixin(c,v.options.headers),v.options.pushFullWait&&o.mixin(h,{fullWait:"true"}),new u.default(v,"/push/channels",c,f,function(g,p,x){for(var T=!x&&s?o.decodeBody(g,s):g,A=0;A<T.length;A++)T[A]=String(T[A]);return T}).get(h,m)},O}();t.default=E},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(5)),a;(function(S){S.Phone="phone",S.Tablet="tablet",S.Desktop="desktop",S.TV="tv",S.Watch="watch",S.Car="car",S.Embedded="embedded",S.Other="other"})(a||(a={}));var u;(function(S){S.Android="android",S.IOS="ios",S.Browser="browser"})(u||(u={}));var d=function(){function S(){}return S.prototype.toJSON=function(){var y,E,l;return{id:this.id,deviceSecret:this.deviceSecret,platform:this.platform,formFactor:this.formFactor,clientId:this.clientId,metadata:this.metadata,deviceIdentityToken:this.deviceIdentityToken,push:{recipient:(y=this.push)===null||y===void 0?void 0:y.recipient,state:(E=this.push)===null||E===void 0?void 0:E.state,error:(l=this.push)===null||l===void 0?void 0:l.error}}},S.prototype.toString=function(){var y,E,l,w,C="[DeviceDetails";return this.id&&(C+="; id="+this.id),this.platform&&(C+="; platform="+this.platform),this.formFactor&&(C+="; formFactor="+this.formFactor),this.clientId&&(C+="; clientId="+this.clientId),this.metadata&&(C+="; metadata="+this.metadata),this.deviceIdentityToken&&(C+="; deviceIdentityToken="+JSON.stringify(this.deviceIdentityToken)),!((y=this.push)===null||y===void 0)&&y.recipient&&(C+="; push.recipient="+JSON.stringify(this.push.recipient)),!((E=this.push)===null||E===void 0)&&E.state&&(C+="; push.state="+this.push.state),!((l=this.push)===null||l===void 0)&&l.error&&(C+="; push.error="+JSON.stringify(this.push.error)),!((w=this.push)===null||w===void 0)&&w.metadata&&(C+="; push.metadata="+this.push.metadata),C+="]",C},S.fromResponseBody=function(y,E){return E&&(y=o.decodeBody(y,E)),o.isArray(y)?S.fromValuesArray(y):S.fromValues(y)},S.fromValues=function(y){return y.error=y.error&&i.default.fromValues(y.error),Object.assign(new S,y)},S.fromValuesArray=function(y){for(var E=y.length,l=new Array(E),w=0;w<E;w++)l[w]=S.fromValues(y[w]);return l},S.toRequestBody=o.encodeBody,S}();t.default=d},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=function(){function a(){}return a.prototype.toJSON=function(){return{channel:this.channel,deviceId:this.deviceId,clientId:this.clientId}},a.prototype.toString=function(){var u="[PushChannelSubscription";return this.channel&&(u+="; channel="+this.channel),this.deviceId&&(u+="; deviceId="+this.deviceId),this.clientId&&(u+="; clientId="+this.clientId),u+="]",u},a.fromResponseBody=function(u,d){return d&&(u=o.decodeBody(u,d)),o.isArray(u)?a.fromValuesArray(u):a.fromValues(u)},a.fromValues=function(u){return Object.assign(new a,u)},a.fromValuesArray=function(u){for(var d=u.length,S=new Array(d),y=0;y<d;y++)S[y]=a.fromValues(u[y]);return S},a.toRequestBody=o.encodeBody,a}();t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=function(){function v(s){this.count=s&&s.count||0,this.data=s&&s.data||0,this.uncompressedData=s&&s.uncompressedData||0,this.failed=s&&s.failed||0,this.refused=s&&s.refused||0}return v}(),a=function(v){r.__extends(s,v);function s(f){var c=v.call(this,f)||this;return f&&f.category&&(c.category={},o.forInOwnNonNullProperties(f.category,function(g){c.category[g]=new i(f.category[g])})),c}return s}(i),u=function(){function v(s){this.peak=s&&s.peak||0,this.min=s&&s.min||0,this.mean=s&&s.mean||0,this.opened=s&&s.opened||0,this.refused=s&&s.refused||0}return v}(),d=function(){function v(s){this.succeeded=s&&s.succeeded||0,this.failed=s&&s.failed||0,this.refused=s&&s.refused||0}return v}(),S=function(){function v(s){this.plain=new u(s&&s.plain),this.tls=new u(s&&s.tls),this.all=new u(s&&s.all)}return v}(),y=function(){function v(s){this.messages=new a(s&&s.messages),this.presence=new a(s&&s.presence),this.all=new a(s&&s.all)}return v}(),E=function(){function v(s){this.realtime=new y(s&&s.realtime),this.rest=new y(s&&s.rest),this.webhook=new y(s&&s.webhook),this.sharedQueue=new y(s&&s.sharedQueue),this.externalQueue=new y(s&&s.externalQueue),this.httpEvent=new y(s&&s.httpEvent),this.push=new y(s&&s.push),this.all=new y(s&&s.all)}return v}(),l=function(){function v(s){this.all=new y(s&&s.all),this.inbound=new E(s&&s.inbound),this.outbound=new E(s&&s.outbound)}return v}(),w=function(){function v(s){this.all=new y(s&&s.all),this.producerPaid=new l(s&&s.producerPaid),this.consumerPaid=new l(s&&s.consumerPaid)}return v}(),C=function(){function v(s){this.messages=s&&s.messages||0;var f=s&&s.notifications;this.notifications={invalid:f&&f.invalid||0,attempted:f&&f.attempted||0,successful:f&&f.successful||0,failed:f&&f.failed||0},this.directPublishes=s&&s.directPublishes||0}return v}(),O=function(){function v(s){this.succeeded=s&&s.succeeded||0,this.skipped=s&&s.skipped||0,this.failed=s&&s.failed||0}return v}(),h=function(){function v(s){var f=this;this.delta=void 0,s&&s.delta&&(this.delta={},o.forInOwnNonNullProperties(s.delta,function(c){f.delta[c]=new O(s.delta[c])}))}return v}(),m=function(v){r.__extends(s,v);function s(f){var c=v.call(this,f)||this;return c.persisted=new y(f&&f.persisted),c.connections=new S(f&&f.connections),c.channels=new u(f&&f.channels),c.apiRequests=new d(f&&f.apiRequests),c.tokenRequests=new d(f&&f.tokenRequests),c.xchgProducer=new w(f&&f.xchgProducer),c.xchgConsumer=new w(f&&f.xchgConsumer),c.push=new C(f&&f.pushStats),c.processed=new h(f&&f.processed),c.inProgress=f&&f.inProgress||void 0,c.unit=f&&f.unit||void 0,c.intervalId=f&&f.intervalId||void 0,c}return s.fromValues=function(f){return new s(f)},s}(l);t.default=m},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(30)),a=r.__importDefault(n(7)),u=r.__importDefault(n(0)),d=r.__importDefault(n(51)),S=r.__importDefault(n(38)),y=r.__importDefault(n(8)),E=r.__importDefault(n(5)),l=r.__importDefault(n(12)),w=r.__importDefault(n(26)),C=r.__importDefault(n(3)),O=r.__importDefault(n(11)),h=function(v){r.__extends(s,v);function s(f){var c=v.call(this,f)||this;return u.default.logAction(u.default.LOG_MINOR,"Realtime()",""),c.connection=new d.default(c,c.options),c.channels=new m(c),f.autoConnect!==!1&&c.connect(),c}return s.prototype.connect=function(){u.default.logAction(u.default.LOG_MINOR,"Realtime.connect()",""),this.connection.connect()},s.prototype.close=function(){u.default.logAction(u.default.LOG_MINOR,"Realtime.close()",""),this.connection.close()},s.Promise=function(f){return f=y.default.objectifyOptions(f),f.promises=!0,new s(f)},s.Callbacks=s,s.Utils=o,s.ConnectionManager=w.default,s.Platform=C.default,s.ProtocolMessage=l.default,s.Message=O.default,s}(i.default),m=function(v){r.__extends(s,v);function s(f){var c=v.call(this)||this;return c.realtime=f,c.all={},c.inProgress={},f.connection.connectionManager.on("transport.active",function(){c.onTransportActive()}),c}return s.prototype.onChannelMessage=function(f){var c=f.channel;if(c===void 0){u.default.logAction(u.default.LOG_ERROR,"Channels.onChannelMessage()","received event unspecified channel, action = "+f.action);return}var g=this.all[c];if(!g){u.default.logAction(u.default.LOG_ERROR,"Channels.onChannelMessage()","received event for non-existent channel: "+c);return}g.onMessage(f)},s.prototype.onTransportActive=function(){for(var f in this.all){var c=this.all[f];c.state==="attaching"||c.state==="detaching"?c.checkPendingState():c.state==="suspended"&&c.attach()}},s.prototype.reattach=function(f){for(var c in this.all){var g=this.all[c];g.state==="attached"&&g.requestState("attaching",f)}},s.prototype.resetAttachedMsgIndicators=function(){for(var f in this.all){var c=this.all[f];c.state==="attached"&&(c._attachedMsgIndicator=!1)}},s.prototype.checkAttachedMsgIndicators=function(f){for(var c in this.all){var g=this.all[c];if(g.state==="attached"&&g._attachedMsgIndicator===!1){var p="30s after a resume, found channel which has not received an attached; channelId = "+c+"; connectionId = "+f;u.default.logAction(u.default.LOG_ERROR,"Channels.checkAttachedMsgIndicators()",p),g.requestState("attaching")}}},s.prototype.propogateConnectionInterruption=function(f,c){var g={closing:"detached",closed:"detached",failed:"failed",suspended:"suspended"},p=["attaching","attached","detaching","suspended"],x=g[f];for(var T in this.all){var A=this.all[T];o.arrIn(p,A.state)&&A.notifyState(x,c)}},s.prototype.get=function(f,c){f=String(f);var g=this.all[f];if(!g)g=this.all[f]=new S.default(this.realtime,f,c);else if(c){if(g._shouldReattachToSetOptions(c))throw new E.default("Channels.get() cannot be used to set channel options that would cause the channel to reattach. Please, use RealtimeChannel.setOptions() instead.",4e4,400);g.setOptions(c)}return g},s.prototype.release=function(f){f=String(f);var c=this.all[f];if(!!c){var g=c.getReleaseErr();if(g)throw g;delete this.all[f],delete this.inProgress[f]}},s.prototype.setInProgress=function(f,c,g){this.inProgress[f.name]=this.inProgress[f.name]||{},this.inProgress[f.name][c]=g,!g&&this.hasNopending()&&this.emit("nopending")},s.prototype.onceNopending=function(f){if(this.hasNopending()){f();return}this.once("nopending",f)},s.prototype.hasNopending=function(){return o.arrEvery(o.valuesArray(this.inProgress,!0),function(f){return!o.containsValue(f,!0)})},s}(a.default);t.default=h},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(7)),a=r.__importDefault(n(26)),u=r.__importDefault(n(0)),d=r.__importDefault(n(36)),S=r.__importDefault(n(3));function y(){}var E=function(l){r.__extends(w,l);function w(C,O){var h=l.call(this)||this;return h.whenState=function(m,v){return i.default.prototype.whenState.call(h,m,h.state,v,new d.default(void 0,m))},h.ably=C,h.connectionManager=new a.default(C,O),h.state=h.connectionManager.state.state,h.key=void 0,h.id=void 0,h.serial=void 0,h.timeSerial=void 0,h.recoveryKey=void 0,h.errorReason=null,h.connectionManager.on("connectionstate",function(m){var v=h.state=m.current;S.default.Config.nextTick(function(){h.emit(v,m)})}),h.connectionManager.on("update",function(m){S.default.Config.nextTick(function(){h.emit("update",m)})}),h}return w.prototype.connect=function(){u.default.logAction(u.default.LOG_MINOR,"Connection.connect()",""),this.connectionManager.requestState({state:"connecting"})},w.prototype.ping=function(C){if(u.default.logAction(u.default.LOG_MINOR,"Connection.ping()",""),!C){if(this.ably.options.promises)return o.promisify(this,"ping",arguments);C=y}this.connectionManager.ping(null,C)},w.prototype.close=function(){u.default.logAction(u.default.LOG_MINOR,"Connection.close()","connectionKey = "+this.key),this.connectionManager.requestState({state:"closing"})},w}(i.default);t.default=E},function(e,t,n){"use strict";t.__esModule=!0,t.PendingMessage=void 0;var r=n(1),o=r.__importDefault(n(12)),i=r.__importStar(n(2)),a=r.__importDefault(n(7)),u=r.__importDefault(n(0)),d=r.__importDefault(n(35)),S=r.__importDefault(n(5)),y=o.default.Action,E=function(){function w(C,O){this.message=C,this.callback=O,this.merged=!1;var h=C.action;this.sendAttempted=!1,this.ackRequired=h==y.MESSAGE||h==y.PRESENCE}return w}();t.PendingMessage=E;var l=function(w){r.__extends(C,w);function C(O){var h=w.call(this)||this;return h.transport=O,h.messageQueue=new d.default,O.on("ack",function(m,v){h.onAck(m,v)}),O.on("nack",function(m,v,s){h.onNack(m,v,s)}),h}return C.prototype.onAck=function(O,h){u.default.logAction(u.default.LOG_MICRO,"Protocol.onAck()","serial = "+O+"; count = "+h),this.messageQueue.completeMessages(O,h)},C.prototype.onNack=function(O,h,m){u.default.logAction(u.default.LOG_ERROR,"Protocol.onNack()","serial = "+O+"; count = "+h+"; err = "+i.inspectError(m)),m||(m=new S.default("Unable to send message; channel not responding",50001,500)),this.messageQueue.completeMessages(O,h,m)},C.prototype.onceIdle=function(O){var h=this.messageQueue;if(h.count()===0){O();return}h.once("idle",O)},C.prototype.send=function(O){O.ackRequired&&this.messageQueue.push(O),u.default.shouldLog(u.default.LOG_MICRO)&&u.default.logAction(u.default.LOG_MICRO,"Protocol.send()","sending msg; "+o.default.stringify(O.message)),O.sendAttempted=!0,this.transport.send(O.message)},C.prototype.getTransport=function(){return this.transport},C.prototype.getPendingMessages=function(){return this.messageQueue.copyAll()},C.prototype.clearPendingMessages=function(){return this.messageQueue.clear()},C.prototype.finish=function(){var O=this.transport;this.onceIdle(function(){O.disconnect()})},C}(a.default);t.default=l},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(3)),i=r.__importStar(n(2)),a=r.__importDefault(n(37)),u=r.__importDefault(n(8)),d=r.__importDefault(n(0)),S=r.__importDefault(n(12)),y=r.__importDefault(n(5)),E="web_socket";function l(O){return!!O.on}var w=function(O){r.__extends(h,O);function h(m,v,s){var f=O.call(this,m,v,s)||this;return f.shortName=E,s.heartbeats=o.default.Config.useProtocolHeartbeats,f.wsHost=u.default.getHost(s.options,s.host,!0),f}return h.isAvailable=function(){return!!o.default.Config.WebSocket},h.tryConnect=function(m,v,s,f){var c=new h(m,v,s),g=function(p){f({event:this.event,error:p})};c.on(["failed","disconnected"],g),c.on("wsopen",function(){d.default.logAction(d.default.LOG_MINOR,"WebSocketTransport.tryConnect()","viable transport "+c),c.off(["failed","disconnected"],g),f(null,c)}),c.connect()},h.prototype.createWebSocket=function(m,v){var s=0;if(v)for(var f in v)m+=(s++?"&":"?")+f+"="+v[f];return this.uri=m,new o.default.Config.WebSocket(m)},h.prototype.toString=function(){return"WebSocketTransport; uri="+this.uri},h.prototype.connect=function(){d.default.logAction(d.default.LOG_MINOR,"WebSocketTransport.connect()","starting"),a.default.prototype.connect.call(this);var m=this,v=this.params,s=v.options,f=s.tls?"wss://":"ws://",c=f+this.wsHost+":"+u.default.getPort(s)+"/";d.default.logAction(d.default.LOG_MINOR,"WebSocketTransport.connect()","uri: "+c),this.auth.getAuthParams(function(g,p){if(!m.isDisposed){var x="";for(var T in p)x+=" "+T+": "+p[T]+";";if(d.default.logAction(d.default.LOG_MINOR,"WebSocketTransport.connect()","authParams:"+x+" err: "+g),g){m.disconnect(g);return}var A=v.getConnectParams(p);try{var k=m.wsConnection=m.createWebSocket(c,A);k.binaryType=o.default.Config.binaryType,k.onopen=function(){m.onWsOpen()},k.onclose=function(D){m.onWsClose(D)},k.onmessage=function(D){m.onWsData(D.data)},k.onerror=function(D){m.onWsError(D)},l(k)&&k.on("ping",function(){m.onActivity()})}catch(D){d.default.logAction(d.default.LOG_ERROR,"WebSocketTransport.connect()","Unexpected exception creating websocket: err = "+(D.stack||D.message)),m.disconnect(D)}}})},h.prototype.send=function(m){var v=this.wsConnection;if(!v){d.default.logAction(d.default.LOG_ERROR,"WebSocketTransport.send()","No socket connection");return}try{v.send(S.default.serialize(m,this.params.format))}catch(f){var s="Exception from ws connection when trying to send: "+i.inspectError(f);d.default.logAction(d.default.LOG_ERROR,"WebSocketTransport.send()",s),this.finish("disconnected",new y.default(s,5e4,500))}},h.prototype.onWsData=function(m){d.default.logAction(d.default.LOG_MICRO,"WebSocketTransport.onWsData()","data received; length = "+m.length+"; type = "+typeof m);try{this.onProtocolMessage(S.default.deserialize(m,this.format))}catch(v){d.default.logAction(d.default.LOG_ERROR,"WebSocketTransport.onWsData()","Unexpected exception handing channel message: "+v.stack)}},h.prototype.onWsOpen=function(){d.default.logAction(d.default.LOG_MINOR,"WebSocketTransport.onWsOpen()","opened WebSocket"),this.emit("wsopen")},h.prototype.onWsClose=function(m){var v,s;if(typeof m=="object"?(s=m.code,v=m.wasClean||s===1e3):(s=m,v=s==1e3),delete this.wsConnection,v){d.default.logAction(d.default.LOG_MINOR,"WebSocketTransport.onWsClose()","Cleanly closed WebSocket");var f=new y.default("Websocket closed",80003,400);this.finish("disconnected",f)}else{var c="Unclean disconnection of WebSocket ; code = "+s,f=new y.default(c,80003,400);d.default.logAction(d.default.LOG_MINOR,"WebSocketTransport.onWsClose()",c),this.finish("disconnected",f)}this.emit("disposed")},h.prototype.onWsError=function(m){var v=this;d.default.logAction(d.default.LOG_MINOR,"WebSocketTransport.onError()","Error from WebSocket: "+m.message),o.default.Config.nextTick(function(){v.disconnect(Error(m.message))})},h.prototype.dispose=function(){d.default.logAction(d.default.LOG_MINOR,"WebSocketTransport.dispose()",""),this.isDisposed=!0;var m=this.wsConnection;m&&(m.onmessage=function(){},delete this.wsConnection,o.default.Config.nextTick(function(){if(d.default.logAction(d.default.LOG_MICRO,"WebSocketTransport.dispose()","closing websocket"),!m)throw new Error("WebSocketTransport.dispose(): wsConnection is not defined");m.close()}))},h}(a.default);function C(O){return w.isAvailable()&&(O.supportedTransports[E]=w),w}t.default=C},function(e,t,n){"use strict";t.__esModule=!0,t.isSuccessCode=void 0;var r;(function(i){i[i.Success=200]="Success",i[i.NoContent=204]="NoContent",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.Forbidden=403]="Forbidden",i[i.RequestTimeout=408]="RequestTimeout",i[i.InternalServerError=500]="InternalServerError"})(r||(r={}));function o(i){return i>=r.Success&&i<r.BadRequest}t.isSuccessCode=o,t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importStar(n(2)),i=r.__importDefault(n(34)),a=r.__importDefault(n(7)),u=r.__importDefault(n(0)),d=r.__importDefault(n(15)),S=r.__importDefault(n(5)),y=r.__importDefault(n(38)),E=r.__importDefault(n(23)),l=r.__importDefault(n(39)),w=function(){};function C(c){return c.clientId+":"+c.connectionId}function O(c){return c.channel.realtime.auth.clientId}function h(c){var g=c.channel.realtime,p=g.auth.clientId;return(!p||p==="*")&&g.connection.state==="connected"}function m(c,g,p){switch(c.state){case"attached":case"suspended":p();break;case"initialized":case"detached":case"detaching":case"attaching":c.attach(function(x){x?g(x):p()});break;default:g(S.default.fromValues(y.default.invalidStateError(c.state)))}}function v(c,g){if(c.isSynthesized()||g.isSynthesized())return c.timestamp>g.timestamp;var p=c.parseId(),x=g.parseId();return p.msgSerial===x.msgSerial?p.index>x.index:p.msgSerial>x.msgSerial}var s=function(c){r.__extends(g,c);function g(p){var x=c.call(this,p)||this;return x.channel=p,x.syncComplete=!1,x.members=new f(x),x._myMembers=new f(x),x.subscriptions=new a.default,x.pendingPresence=[],x}return g.prototype.enter=function(p,x){if(h(this))throw new S.default("clientId must be specified to enter a presence channel",40012,400);return this._enterOrUpdateClient(void 0,p,"enter",x)},g.prototype.update=function(p,x){if(h(this))throw new S.default("clientId must be specified to update presence data",40012,400);return this._enterOrUpdateClient(void 0,p,"update",x)},g.prototype.enterClient=function(p,x,T){return this._enterOrUpdateClient(p,x,"enter",T)},g.prototype.updateClient=function(p,x,T){return this._enterOrUpdateClient(p,x,"update",T)},g.prototype._enterOrUpdateClient=function(p,x,T,A){var k=this;if(!A)if(typeof x=="function")A=x,x=null;else{if(this.channel.realtime.options.promises)return o.promisify(this,"_enterOrUpdateClient",[p,x,T]);A=w}var D=this.channel;if(!D.connectionManager.activeState()){A(D.connectionManager.getError());return}u.default.logAction(u.default.LOG_MICRO,"RealtimePresence."+T+"Client()","channel = "+D.name+", client = "+(p||"(implicit) "+O(this)));var M=d.default.fromValues({action:T,data:x});p&&(M.clientId=p),d.default.encode(M,D.channelOptions,function(R){if(R){A(R);return}switch(D.state){case"attached":D.sendPresence(M,A);break;case"initialized":case"detached":D.attach();case"attaching":k.pendingPresence.push({presence:M,callback:A});break;default:R=new S.default("Unable to "+T+" presence channel while in "+D.state+" state",90001),R.code=90001,A(R)}})},g.prototype.leave=function(p,x){if(h(this))throw new S.default("clientId must have been specified to enter or leave a presence channel",40012,400);return this.leaveClient(void 0,p,x)},g.prototype.leaveClient=function(p,x,T){if(!T)if(typeof x=="function")T=x,x=null;else{if(this.channel.realtime.options.promises)return o.promisify(this,"leaveClient",[p,x]);T=w}var A=this.channel;if(!A.connectionManager.activeState()){T==null||T(A.connectionManager.getError());return}u.default.logAction(u.default.LOG_MICRO,"RealtimePresence.leaveClient()","leaving; channel = "+this.channel.name+", client = "+p);var k=d.default.fromValues({action:"leave",data:x});switch(p&&(k.clientId=p),A.state){case"attached":A.sendPresence(k,T);break;case"attaching":this.pendingPresence.push({presence:k,callback:T});break;case"initialized":case"failed":{var D=new S.default("Unable to leave presence channel (incompatible state)",90001);T==null||T(D);break}default:T==null||T(y.default.invalidStateError(A.state))}},g.prototype.get=function(p,x){var T=this,A=Array.prototype.slice.call(arguments);A.length==1&&typeof A[0]=="function"&&A.unshift(null),p=A[0],x=A[1];var k=!p||("waitForSync"in p?p.waitForSync:!0);if(!x){if(this.channel.realtime.options.promises)return o.promisify(this,"get",A);x=w}function D(M){x(null,p?M.list(p):M.values())}if(this.channel.state==="suspended"){k?x(S.default.fromValues({statusCode:400,code:91005,message:"Presence state is out of sync due to channel being in the SUSPENDED state"})):D(this.members);return}m(this.channel,x,function(){var M=T.members;k?M.waitSync(function(){D(M)}):D(M)})},g.prototype.history=function(p,x){if(u.default.logAction(u.default.LOG_MICRO,"RealtimePresence.history()","channel = "+this.name),x===void 0)if(typeof p=="function")x=p,p=null;else{if(this.channel.realtime.options.promises)return o.promisify(this,"history",arguments);x=w}p&&p.untilAttach&&(this.channel.state==="attached"?(delete p.untilAttach,p.from_serial=this.channel.properties.attachSerial):x(new S.default("option untilAttach requires the channel to be attached, was: "+this.channel.state,4e4,400))),i.default.prototype._history.call(this,p,x)},g.prototype.setPresence=function(p,x,T){u.default.logAction(u.default.LOG_MICRO,"RealtimePresence.setPresence()","received presence for "+p.length+" participants; syncChannelSerial = "+T);var A,k,D=this.members,M=this._myMembers,R=[],I=this.channel.connectionManager.connectionId;x&&(this.members.startSync(),T&&(k=T.match(/^[\w-]+:(.*)$/))&&(A=k[1]));for(var B=0;B<p.length;B++){var L=d.default.fromValues(p[B]);switch(L.action){case"leave":D.remove(L)&&R.push(L),L.connectionId===I&&!L.isSynthesized()&&M.remove(L);break;case"enter":case"present":case"update":D.put(L)&&R.push(L),L.connectionId===I&&M.put(L);break}}x&&!A&&(D.endSync(),this._ensureMyMembersPresent(),this.channel.setInProgress(y.default.progressOps.sync,!1),this.channel.syncChannelSerial=null);for(var B=0;B<R.length;B++){var L=R[B];this.subscriptions.emit(L.action,L)}},g.prototype.onAttached=function(p){u.default.logAction(u.default.LOG_MINOR,"RealtimePresence.onAttached()","channel = "+this.channel.name+", hasPresence = "+p),p?this.members.startSync():(this._synthesizeLeaves(this.members.values()),this.members.clear(),this._ensureMyMembersPresent());var x=this.pendingPresence,T=x.length;if(T){this.pendingPresence=[];var A=[],k=E.default.create();u.default.logAction(u.default.LOG_MICRO,"RealtimePresence.onAttached","sending "+T+" queued presence messages");for(var D=0;D<T;D++){var M=x[D];A.push(M.presence),k.push(M.callback)}this.channel.sendPresence(A,k)}},g.prototype.actOnChannelState=function(p,x,T){switch(p){case"attached":this.onAttached(x);break;case"detached":case"failed":this._clearMyMembers(),this.members.clear();case"suspended":this.failPendingPresence(T);break}},g.prototype.failPendingPresence=function(p){if(this.pendingPresence.length){u.default.logAction(u.default.LOG_MINOR,"RealtimeChannel.failPendingPresence","channel; name = "+this.channel.name+", err = "+o.inspectError(p));for(var x=0;x<this.pendingPresence.length;x++)try{this.pendingPresence[x].callback(p)}catch{}this.pendingPresence=[]}},g.prototype._clearMyMembers=function(){this._myMembers.clear()},g.prototype._ensureMyMembersPresent=function(){var p=this,x=this.members,T=this._myMembers,A=function(M){if(M){var R="Presence auto-re-enter failed: "+M.toString(),I=new S.default(R,91004,400);u.default.logAction(u.default.LOG_ERROR,"RealtimePresence._ensureMyMembersPresent()",R);var B=new l.default(p.channel.state,p.channel.state,!0,I);p.channel.emit("update",B)}};for(var k in T.map)if(!(k in x.map)){var D=T.map[k];u.default.logAction(u.default.LOG_MICRO,"RealtimePresence._ensureMyMembersPresent()",'Auto-reentering clientId "'+D.clientId+'" into the presence set'),this._enterOrUpdateClient(D.clientId,D.data,"enter",A),delete T.map[k]}},g.prototype._synthesizeLeaves=function(p){var x=this.subscriptions;o.arrForEach(p,function(T){var A=d.default.fromValues({action:"leave",connectionId:T.connectionId,clientId:T.clientId,data:T.data,encoding:T.encoding,timestamp:o.now()});x.emit("leave",A)})},g.prototype.on=function(){for(var p=[],x=0;x<arguments.length;x++)p[x]=arguments[x];u.default.deprecated("presence.on","presence.subscribe"),this.subscribe.apply(this,p)},g.prototype.off=function(){for(var p=[],x=0;x<arguments.length;x++)p[x]=arguments[x];u.default.deprecated("presence.off","presence.unsubscribe"),this.unsubscribe.apply(this,p)},g.prototype.subscribe=function(){for(var p=[],x=0;x<arguments.length;x++)p[x]=arguments[x];var T=y.default.processListenerArgs(p),A=T[0],k=T[1],D=T[2],M=this.channel;if(!D){if(this.channel.realtime.options.promises)return o.promisify(this,"subscribe",[A,k]);D=w}if(M.state==="failed"){D(S.default.fromValues(y.default.invalidStateError("failed")));return}this.subscriptions.on(A,k),M.attach(D)},g.prototype.unsubscribe=function(){for(var p=[],x=0;x<arguments.length;x++)p[x]=arguments[x];var T=y.default.processListenerArgs(p),A=T[0],k=T[1];this.subscriptions.off(A,k)},g}(i.default),f=function(c){r.__extends(g,c);function g(p){var x=c.call(this)||this;return x.presence=p,x.map={},x.syncInProgress=!1,x.residualMembers=null,x}return g.prototype.get=function(p){return this.map[p]},g.prototype.getClient=function(p){var x=this.map,T=[];for(var A in x){var k=x[A];k.clientId==p&&k.action!="absent"&&T.push(k)}return T},g.prototype.list=function(p){var x=this.map,T=p&&p.clientId,A=p&&p.connectionId,k=[];for(var D in x){var M=x[D];M.action!=="absent"&&(T&&T!=M.clientId||A&&A!=M.connectionId||k.push(M))}return k},g.prototype.put=function(p){(p.action==="enter"||p.action==="update")&&(p=d.default.fromValues(p),p.action="present");var x=this.map,T=C(p);this.residualMembers&&delete this.residualMembers[T];var A=x[T];return A&&!v(p,A)?!1:(x[T]=p,!0)},g.prototype.values=function(){var p=this.map,x=[];for(var T in p){var A=p[T];A.action!="absent"&&x.push(A)}return x},g.prototype.remove=function(p){var x=this.map,T=C(p),A=x[T];return A&&!v(p,A)?!1:(this.syncInProgress?(p=d.default.fromValues(p),p.action="absent",x[T]=p):delete x[T],!0)},g.prototype.startSync=function(){var p=this.map,x=this.syncInProgress;u.default.logAction(u.default.LOG_MINOR,"PresenceMap.startSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+x),this.syncInProgress||(this.residualMembers=o.copy(p),this.setInProgress(!0))},g.prototype.endSync=function(){var p=this.map,x=this.syncInProgress;if(u.default.logAction(u.default.LOG_MINOR,"PresenceMap.endSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+x),x){for(var T in p){var A=p[T];A.action==="absent"&&delete p[T]}this.presence._synthesizeLeaves(o.valuesArray(this.residualMembers));for(var k in this.residualMembers)delete p[k];this.residualMembers=null,this.setInProgress(!1)}this.emit("sync")},g.prototype.waitSync=function(p){var x=this.syncInProgress;if(u.default.logAction(u.default.LOG_MINOR,"PresenceMap.waitSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+x),!x){p();return}this.once("sync",p)},g.prototype.clear=function(){this.map={},this.setInProgress(!1),this.residualMembers=null},g.prototype.setInProgress=function(p){u.default.logAction(u.default.LOG_MICRO,"PresenceMap.setInProgress()","inProgress = "+p),this.syncInProgress=p,this.presence.syncComplete=!p},g}(a.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=n(57),i=n(32),a=n(14),u=r.__importDefault(n(4)),d=r.__importDefault(n(3)),S=function(){function y(){this.base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this.hexCharSet="0123456789abcdef"}return y.prototype.isWordArray=function(E){return E!=null&&E.sigBytes!==void 0},y.prototype.isArrayBuffer=function(E){return E!=null&&E.constructor===ArrayBuffer},y.prototype.isTypedArray=function(E){return!!ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(E)},y.prototype.uint8ViewToBase64=function(E){for(var l="",w=this.base64CharSet,C=E.byteLength,O=C%3,h=C-O,m,v,s,f,c,g=0;g<h;g=g+3)c=E[g]<<16|E[g+1]<<8|E[g+2],m=(c&16515072)>>18,v=(c&258048)>>12,s=(c&4032)>>6,f=c&63,l+=w[m]+w[v]+w[s]+w[f];return O==1?(c=E[h],m=(c&252)>>2,v=(c&3)<<4,l+=w[m]+w[v]+"=="):O==2&&(c=E[h]<<8|E[h+1],m=(c&64512)>>10,v=(c&1008)>>4,s=(c&15)<<2,l+=w[m]+w[v]+w[s]+"="),l},y.prototype.base64ToArrayBuffer=function(E){for(var l=atob==null?void 0:atob(E),w=l.length,C=new Uint8Array(w),O=0;O<w;O++){var h=l.charCodeAt(O);C[O]=h}return C.buffer},y.prototype.isBuffer=function(E){return this.isArrayBuffer(E)||this.isWordArray(E)||this.isTypedArray(E)},y.prototype.toBuffer=function(E){if(!ArrayBuffer)throw new Error("Can't convert to Buffer: browser does not support the necessary types");if(this.isArrayBuffer(E))return new Uint8Array(E);if(this.isTypedArray(E))return new Uint8Array(E.buffer);if(this.isWordArray(E)){for(var l=new ArrayBuffer(E.sigBytes),w=new Uint8Array(l),C=0;C<E.sigBytes;C++)w[C]=E.words[C>>>2]>>>24-C%4*8&255;return w}throw new Error("BufferUtils.toBuffer expected an arraybuffer, typed array, or CryptoJS wordarray")},y.prototype.toArrayBuffer=function(E){return this.isArrayBuffer(E)?E:this.toBuffer(E).buffer},y.prototype.toWordArray=function(E){return this.isTypedArray(E)&&(E=E.buffer),this.isWordArray(E)?E:u.default.create(E)},y.prototype.base64Encode=function(E){return this.isWordArray(E)?a.stringify(E):this.uint8ViewToBase64(this.toBuffer(E))},y.prototype.base64Decode=function(E){return ArrayBuffer&&d.default.Config.atob?this.base64ToArrayBuffer(E):a.parse(E)},y.prototype.hexEncode=function(E){return o.stringify(this.toWordArray(E))},y.prototype.hexDecode=function(E){var l=o.parse(E);return ArrayBuffer?this.toArrayBuffer(l):l},y.prototype.utf8Encode=function(E){return TextEncoder?new TextEncoder().encode(E).buffer:i.parse(E)},y.prototype.utf8Decode=function(E){if(!this.isBuffer(E))throw new Error("Expected input of utf8decode to be an arraybuffer, typed array, or CryptoJS wordarray");return TextDecoder&&!this.isWordArray(E)?new TextDecoder().decode(E):(E=this.toWordArray(E),i.stringify(E))},y.prototype.bufferCompare=function(E,l){if(!E)return-1;if(!l)return 1;var w=this.toWordArray(E),C=this.toWordArray(l);w.clamp(),C.clamp();var O=w.sigBytes-C.sigBytes;if(O!=0)return O;for(var h=w.words,m=C.words,v=0;v<h.length;v++)if(O=h[v]-m[v],O!=0)return O;return 0},y.prototype.byteLength=function(E){return this.isArrayBuffer(E)||this.isTypedArray(E)?E.byteLength:this.isWordArray(E)?E.sigBytes:-1},y.prototype.typedArrayToBuffer=function(E){return E.buffer},y}();t.default=new S},function(e,t,n){(function(r,o){e.exports=t=o(n(6))})(this,function(r){return r.enc.Hex})},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),i=n(14),a=n.n(i),u=n(22),d=n.n(u),S=n(3),y=n.n(S),E=n(0),l=n.n(E),w=function(){var C="aes",O=256,h="cbc",m=16,v=4,s=4294967296,f=2147483648,c;if(y.a.getRandomWordArray)c=y.a.getRandomWordArray;else if(typeof Uint32Array<"u"&&y.a.getRandomValues){var g=new Uint32Array(v);c=function(R,I){var B=R/4,L=B==v?g:new Uint32Array(B);y.a.getRandomValues(L,function(W){I(W,y.a.BufferUtils.toWordArray(L))})}}else c=function(R,I){l.a.logAction(l.a.LOG_MAJOR,"Ably.Crypto.generateRandom()","Warning: the browser you are using does not support secure cryptographically secure randomness generation; falling back to insecure Math.random()");for(var B=R/4,L=new Array(B),W=0;W<B;W++)L[W]=Math.floor(Math.random()*s)-f;I(null,o.a.create(L))};function p(R){return R+m&-m}function x(R){if(R.algorithm==="aes"&&R.mode==="cbc"){if(R.keyLength===128||R.keyLength===256)return;throw new Error("Unsupported key length "+R.keyLength+" for aes-cbc encryption. Encryption key must be 128 or 256 bits (16 or 32 ASCII characters)")}}function T(R){return R.replace("_","/").replace("-","+")}var A=[o.a.create([269488144,269488144,269488144,269488144],16),o.a.create([16777216],1),o.a.create([33685504],2),o.a.create([50529024],3),o.a.create([67372036],4),o.a.create([84215045,83886080],5),o.a.create([101058054,101056512],6),o.a.create([117901063,117901056],7),o.a.create([134744072,134744072],8),o.a.create([151587081,151587081,150994944],9),o.a.create([168430090,168430090,168427520],10),o.a.create([185273099,185273099,185273088],11),o.a.create([202116108,202116108,202116108],12),o.a.create([218959117,218959117,218959117,218103808],13),o.a.create([235802126,235802126,235802126,235798528],14),o.a.create([252645135,252645135,252645135,252645135],15),o.a.create([269488144,269488144,269488144,269488144],16)];function k(){}function D(){this.algorithm=null,this.keyLength=null,this.mode=null,this.key=null}k.CipherParams=D,k.getDefaultParams=function(R){var I;if(typeof R=="function"||typeof R=="string"){if(l.a.deprecated("Crypto.getDefaultParams(key, callback)","Crypto.getDefaultParams({key: key})"),typeof R=="function")k.generateRandomKey(function(L){R(null,k.getDefaultParams({key:L}))});else if(typeof arguments[1]=="function")arguments[1](null,k.getDefaultParams({key:R}));else throw new Error("Invalid arguments for Crypto.getDefaultParams");return}if(!R.key)throw new Error("Crypto.getDefaultParams: a key is required");typeof R.key=="string"?I=Object(i.parse)(T(R.key)):I=y.a.BufferUtils.toWordArray(R.key);var B=new D;if(B.key=I,B.algorithm=R.algorithm||C,B.keyLength=I.words.length*(4*8),B.mode=R.mode||h,R.keyLength&&R.keyLength!==B.keyLength)throw new Error("Crypto.getDefaultParams: a keyLength of "+R.keyLength+" was specified, but the key actually has length "+B.keyLength);return x(B),B},k.generateRandomKey=function(R,I){arguments.length==1&&typeof R=="function"&&(I=R,R=void 0),c((R||O)/8,I)},k.getCipher=function(R){var I=R instanceof D?R:k.getDefaultParams(R);return{cipherParams:I,cipher:new M(I,v,R.iv)}};function M(R,I,B){this.algorithm=R.algorithm+"-"+String(R.keyLength)+"-"+R.mode,this.cjsAlgorithm=R.algorithm.toUpperCase().replace(/-\d+$/,""),this.key=y.a.BufferUtils.toWordArray(R.key),B&&(this.iv=y.a.BufferUtils.toWordArray(B).clone()),this.blockLengthWords=I}return M.prototype.encrypt=function(R,I){l.a.logAction(l.a.LOG_MICRO,"CBCCipher.encrypt()",""),R=y.a.BufferUtils.toWordArray(R);var B=R.sigBytes,L=p(B),W=this,z=function(){W.getIv(function(b,F){if(b){I(b);return}var P=W.encryptCipher.process(R.concat(A[L-B])),_=F.concat(P);I(null,_)})};this.encryptCipher?z():this.iv?(this.encryptCipher=d.a.algo[this.cjsAlgorithm].createEncryptor(this.key,{iv:this.iv}),z()):c(m,function(b,F){if(b){I(b);return}W.encryptCipher=d.a.algo[W.cjsAlgorithm].createEncryptor(W.key,{iv:F}),W.iv=F,z()})},M.prototype.decrypt=function(R){l.a.logAction(l.a.LOG_MICRO,"CBCCipher.decrypt()",""),R=y.a.BufferUtils.toWordArray(R);var I=this.blockLengthWords,B=R.words,L=o.a.create(B.slice(0,I)),W=o.a.create(B.slice(I)),z=d.a.algo[this.cjsAlgorithm].createDecryptor(this.key,{iv:L}),b=z.process(W),F=z.finalize();return z.reset(),F&&F.sigBytes&&b.concat(F),b},M.prototype.getIv=function(R){if(this.iv){var I=this.iv;this.iv=null,R(null,I);return}var B=this;c(m,function(L,W){if(L){R(L);return}R(null,B.encryptCipher.process(W))})},k}();t.default=w},function(e,t,n){(function(r,o){e.exports=t=o(n(6))})(this,function(r){return function(){var o=r,i=o.lib,a=i.WordArray,u=o.enc,d=u.Utf16=u.Utf16BE={stringify:function(y){for(var E=y.words,l=y.sigBytes,w=[],C=0;C<l;C+=2){var O=E[C>>>2]>>>16-C%4*8&65535;w.push(String.fromCharCode(O))}return w.join("")},parse:function(y){for(var E=y.length,l=[],w=0;w<E;w++)l[w>>>1]|=y.charCodeAt(w)<<16-w%2*16;return a.create(l,E*2)}};u.Utf16LE={stringify:function(y){for(var E=y.words,l=y.sigBytes,w=[],C=0;C<l;C+=2){var O=S(E[C>>>2]>>>16-C%4*8&65535);w.push(String.fromCharCode(O))}return w.join("")},parse:function(y){for(var E=y.length,l=[],w=0;w<E;w++)l[w>>>1]|=S(y.charCodeAt(w)<<16-w%2*16);return a.create(l,E*2)}};function S(y){return y<<8&4278255360|y>>>8&16711935}}(),r.enc.Utf16})},function(e,t,n){(function(r,o){e.exports=t=o(n(6),n(28))})(this,function(r){return function(o){var i=r,a=i.lib,u=a.CipherParams,d=i.enc,S=d.Hex,y=i.format,E=y.Hex={stringify:function(l){return l.ciphertext.toString(S)},parse:function(l){var w=S.parse(l);return u.create({ciphertext:w})}}}(),r.format.Hex})},function(e,t,n){(function(r,o){e.exports=t=o(n(6),n(14),n(62),n(27),n(28))})(this,function(r){return function(){var o=r,i=o.lib,a=i.BlockCipher,u=o.algo,d=[],S=[],y=[],E=[],l=[],w=[],C=[],O=[],h=[],m=[];(function(){for(var f=[],c=0;c<256;c++)c<128?f[c]=c<<1:f[c]=c<<1^283;for(var g=0,p=0,c=0;c<256;c++){var x=p^p<<1^p<<2^p<<3^p<<4;x=x>>>8^x&255^99,d[g]=x,S[x]=g;var T=f[g],A=f[T],k=f[A],D=f[x]*257^x*16843008;y[g]=D<<24|D>>>8,E[g]=D<<16|D>>>16,l[g]=D<<8|D>>>24,w[g]=D;var D=k*16843009^A*65537^T*257^g*16843008;C[x]=D<<24|D>>>8,O[x]=D<<16|D>>>16,h[x]=D<<8|D>>>24,m[x]=D,g?(g=T^f[f[f[k^T]]],p^=f[f[p]]):g=p=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],s=u.AES=a.extend({_doReset:function(){var f;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var c=this._keyPriorReset=this._key,g=c.words,p=c.sigBytes/4,x=this._nRounds=p+6,T=(x+1)*4,A=this._keySchedule=[],k=0;k<T;k++)k<p?A[k]=g[k]:(f=A[k-1],k%p?p>6&&k%p==4&&(f=d[f>>>24]<<24|d[f>>>16&255]<<16|d[f>>>8&255]<<8|d[f&255]):(f=f<<8|f>>>24,f=d[f>>>24]<<24|d[f>>>16&255]<<16|d[f>>>8&255]<<8|d[f&255],f^=v[k/p|0]<<24),A[k]=A[k-p]^f);for(var D=this._invKeySchedule=[],M=0;M<T;M++){var k=T-M;if(M%4)var f=A[k];else var f=A[k-4];M<4||k<=4?D[M]=f:D[M]=C[d[f>>>24]]^O[d[f>>>16&255]]^h[d[f>>>8&255]]^m[d[f&255]]}}},encryptBlock:function(f,c){this._doCryptBlock(f,c,this._keySchedule,y,E,l,w,d)},decryptBlock:function(f,c){var g=f[c+1];f[c+1]=f[c+3],f[c+3]=g,this._doCryptBlock(f,c,this._invKeySchedule,C,O,h,m,S);var g=f[c+1];f[c+1]=f[c+3],f[c+3]=g},_doCryptBlock:function(f,c,g,p,x,T,A,k){for(var D=this._nRounds,M=f[c]^g[0],R=f[c+1]^g[1],I=f[c+2]^g[2],B=f[c+3]^g[3],L=4,W=1;W<D;W++){var z=p[M>>>24]^x[R>>>16&255]^T[I>>>8&255]^A[B&255]^g[L++],b=p[R>>>24]^x[I>>>16&255]^T[B>>>8&255]^A[M&255]^g[L++],F=p[I>>>24]^x[B>>>16&255]^T[M>>>8&255]^A[R&255]^g[L++],P=p[B>>>24]^x[M>>>16&255]^T[R>>>8&255]^A[I&255]^g[L++];M=z,R=b,I=F,B=P}var z=(k[M>>>24]<<24|k[R>>>16&255]<<16|k[I>>>8&255]<<8|k[B&255])^g[L++],b=(k[R>>>24]<<24|k[I>>>16&255]<<16|k[B>>>8&255]<<8|k[M&255])^g[L++],F=(k[I>>>24]<<24|k[B>>>16&255]<<16|k[M>>>8&255]<<8|k[R&255])^g[L++],P=(k[B>>>24]<<24|k[M>>>16&255]<<16|k[R>>>8&255]<<8|k[I&255])^g[L++];f[c]=z,f[c+1]=b,f[c+2]=F,f[c+3]=P},keySize:256/32});o.AES=a._createHelper(s)}(),r.AES})},function(e,t,n){(function(r,o){e.exports=t=o(n(6))})(this,function(r){return function(o){var i=r,a=i.lib,u=a.WordArray,d=a.Hasher,S=i.algo,y=[];(function(){for(var h=0;h<64;h++)y[h]=o.abs(o.sin(h+1))*4294967296|0})();var E=S.MD5=d.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,m){for(var v=0;v<16;v++){var s=m+v,f=h[s];h[s]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var c=this._hash.words,g=h[m+0],p=h[m+1],x=h[m+2],T=h[m+3],A=h[m+4],k=h[m+5],D=h[m+6],M=h[m+7],R=h[m+8],I=h[m+9],B=h[m+10],L=h[m+11],W=h[m+12],z=h[m+13],b=h[m+14],F=h[m+15],P=c[0],_=c[1],H=c[2],U=c[3];P=l(P,_,H,U,g,7,y[0]),U=l(U,P,_,H,p,12,y[1]),H=l(H,U,P,_,x,17,y[2]),_=l(_,H,U,P,T,22,y[3]),P=l(P,_,H,U,A,7,y[4]),U=l(U,P,_,H,k,12,y[5]),H=l(H,U,P,_,D,17,y[6]),_=l(_,H,U,P,M,22,y[7]),P=l(P,_,H,U,R,7,y[8]),U=l(U,P,_,H,I,12,y[9]),H=l(H,U,P,_,B,17,y[10]),_=l(_,H,U,P,L,22,y[11]),P=l(P,_,H,U,W,7,y[12]),U=l(U,P,_,H,z,12,y[13]),H=l(H,U,P,_,b,17,y[14]),_=l(_,H,U,P,F,22,y[15]),P=w(P,_,H,U,p,5,y[16]),U=w(U,P,_,H,D,9,y[17]),H=w(H,U,P,_,L,14,y[18]),_=w(_,H,U,P,g,20,y[19]),P=w(P,_,H,U,k,5,y[20]),U=w(U,P,_,H,B,9,y[21]),H=w(H,U,P,_,F,14,y[22]),_=w(_,H,U,P,A,20,y[23]),P=w(P,_,H,U,I,5,y[24]),U=w(U,P,_,H,b,9,y[25]),H=w(H,U,P,_,T,14,y[26]),_=w(_,H,U,P,R,20,y[27]),P=w(P,_,H,U,z,5,y[28]),U=w(U,P,_,H,x,9,y[29]),H=w(H,U,P,_,M,14,y[30]),_=w(_,H,U,P,W,20,y[31]),P=C(P,_,H,U,k,4,y[32]),U=C(U,P,_,H,R,11,y[33]),H=C(H,U,P,_,L,16,y[34]),_=C(_,H,U,P,b,23,y[35]),P=C(P,_,H,U,p,4,y[36]),U=C(U,P,_,H,A,11,y[37]),H=C(H,U,P,_,M,16,y[38]),_=C(_,H,U,P,B,23,y[39]),P=C(P,_,H,U,z,4,y[40]),U=C(U,P,_,H,g,11,y[41]),H=C(H,U,P,_,T,16,y[42]),_=C(_,H,U,P,D,23,y[43]),P=C(P,_,H,U,I,4,y[44]),U=C(U,P,_,H,W,11,y[45]),H=C(H,U,P,_,F,16,y[46]),_=C(_,H,U,P,x,23,y[47]),P=O(P,_,H,U,g,6,y[48]),U=O(U,P,_,H,M,10,y[49]),H=O(H,U,P,_,b,15,y[50]),_=O(_,H,U,P,k,21,y[51]),P=O(P,_,H,U,W,6,y[52]),U=O(U,P,_,H,T,10,y[53]),H=O(H,U,P,_,B,15,y[54]),_=O(_,H,U,P,p,21,y[55]),P=O(P,_,H,U,R,6,y[56]),U=O(U,P,_,H,F,10,y[57]),H=O(H,U,P,_,D,15,y[58]),_=O(_,H,U,P,z,21,y[59]),P=O(P,_,H,U,A,6,y[60]),U=O(U,P,_,H,L,10,y[61]),H=O(H,U,P,_,x,15,y[62]),_=O(_,H,U,P,I,21,y[63]),c[0]=c[0]+P|0,c[1]=c[1]+_|0,c[2]=c[2]+H|0,c[3]=c[3]+U|0},_doFinalize:function(){var h=this._data,m=h.words,v=this._nDataBytes*8,s=h.sigBytes*8;m[s>>>5]|=128<<24-s%32;var f=o.floor(v/4294967296),c=v;m[(s+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,m[(s+64>>>9<<4)+14]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,h.sigBytes=(m.length+1)*4,this._process();for(var g=this._hash,p=g.words,x=0;x<4;x++){var T=p[x];p[x]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return g},clone:function(){var h=d.clone.call(this);return h._hash=this._hash.clone(),h}});function l(h,m,v,s,f,c,g){var p=h+(m&v|~m&s)+f+g;return(p<<c|p>>>32-c)+m}function w(h,m,v,s,f,c,g){var p=h+(m&s|v&~s)+f+g;return(p<<c|p>>>32-c)+m}function C(h,m,v,s,f,c,g){var p=h+(m^v^s)+f+g;return(p<<c|p>>>32-c)+m}function O(h,m,v,s,f,c,g){var p=h+(v^(m|~s))+f+g;return(p<<c|p>>>32-c)+m}i.MD5=d._createHelper(E),i.HmacMD5=d._createHmacHelper(E)}(Math),r.MD5})},function(e,t,n){"use strict";var r;t.__esModule=!0;var o=n(1),i=o.__importDefault(n(3)),a=o.__importStar(n(2)),u=o.__importDefault(n(8)),d=o.__importDefault(n(5)),S=o.__importDefault(n(18)),y=o.__importDefault(n(16)),E=o.__importDefault(n(21)),l=o.__importDefault(n(0)),w=n(29);function C(m){var v=m.statusCode;return v===408&&!m.code||v===400&&!m.code||v>=500&&v<=504}function O(m){var v=m.connection,s=v&&v.connectionManager.host;return s?[s].concat(u.default.getFallbackHosts(m.options)):u.default.getHosts(m.options)}var h=(r=function(){function m(){this.checksInProgress=null,this.checkConnectivity=void 0,this.supportsAuthHeaders=!1,this.supportsLinkHeaders=!1,this._getHosts=O,i.default.Config.xhrSupported?(this.supportsAuthHeaders=!0,this.Request=function(v,s,f,c,g,p,x){var T=y.default.createRequest(f,c,g,p,E.default.REQ_SEND,s&&s.options.timeouts,v);return T.once("complete",x),T.exec(),T},this.checkConnectivity=function(v){var s=u.default.internetUpUrl;l.default.logAction(l.default.LOG_MICRO,"(XHRRequest)Http.checkConnectivity()","Sending; "+s),this.doUri(S.default.Get,null,s,null,null,null,function(f,c){var g,p=!f&&((g=c)===null||g===void 0?void 0:g.replace(/\n/,""))=="yes";l.default.logAction(l.default.LOG_MICRO,"(XHRRequest)Http.checkConnectivity()","Result: "+p),v(null,p)})}):i.default.Config.jsonpSupported&&(this.Request=function(v,s,f,c,g,p,x){var T=w.createRequest(f,c,g,p,E.default.REQ_SEND,s&&s.options.timeouts,v);return T.once("complete",x),i.default.Config.nextTick(function(){T.exec()}),T},this.checkConnectivity=function(v){var s=this,f=u.default.jsonpInternetUpUrl;if(this.checksInProgress){this.checksInProgress.push(v);return}this.checksInProgress=[v],l.default.logAction(l.default.LOG_MICRO,"(JSONP)Http.checkConnectivity()","Sending; "+f);var c=new w.Request("isTheInternetUp",f,null,null,null,E.default.REQ_SEND,u.default.TIMEOUTS);c.once("complete",function(g,p){var x=!g&&p;l.default.logAction(l.default.LOG_MICRO,"(JSONP)Http.checkConnectivity()","Result: "+x);for(var T=0;T<s.checksInProgress.length;T++)s.checksInProgress[T](null,x);s.checksInProgress=null}),i.default.Config.nextTick(function(){c.exec()})})}return m.prototype.do=function(v,s,f,c,g,p,x){var T=this,A=typeof f=="function"?f:function(R){return s.baseUri(R)+f},k=s._currentFallback;if(k)if(k.validUntil>a.now()){if(!this.Request){x==null||x(new d.default("Request invoked before assigned to",null,500));return}this.Request(v,s,A(k.host),c,p,g,function(R){for(var I=[],B=1;B<arguments.length;B++)I[B-1]=arguments[B];if(R&&C(R)){s._currentFallback=null,T.do(v,s,f,c,g,p,x);return}x==null||x.apply(void 0,o.__spreadArray([R],I))});return}else s._currentFallback=null;var D=O(s);if(D.length===1){this.doUri(v,s,A(D[0]),c,g,p,x);return}var M=function(R,I){var B=R.shift();T.doUri(v,s,A(B),c,g,p,function(L){for(var W=[],z=1;z<arguments.length;z++)W[z-1]=arguments[z];if(L&&C(L)&&R.length){M(R,!0);return}I&&(s._currentFallback={host:B,validUntil:a.now()+s.options.timeouts.fallbackRetryTimeout}),x==null||x.apply(void 0,o.__spreadArray([L],W))})};M(D)},m.prototype.doUri=function(v,s,f,c,g,p,x){if(!this.Request){x(new d.default("Request invoked before assigned to",null,500));return}this.Request(v,s,f,c,p,g,x)},m}(),r.methods=[S.default.Get,S.default.Delete,S.default.Post,S.default.Put,S.default.Patch],r.methodsWithoutBody=[S.default.Get,S.default.Delete],r.methodsWithBody=[S.default.Post,S.default.Put,S.default.Patch],r);t.default=h},function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=n(1),i=o.__importStar(n(2)),a="ablyjs-storage-test",u=function(){function d(){try{r.sessionStorage.setItem(a,a),r.sessionStorage.removeItem(a),this.sessionSupported=!0}catch{this.sessionSupported=!1}try{r.localStorage.setItem(a,a),r.localStorage.removeItem(a),this.localSupported=!0}catch{this.localSupported=!1}}return d.prototype.get=function(S){return this._get(S,!1)},d.prototype.getSession=function(S){return this._get(S,!0)},d.prototype.remove=function(S){return this._remove(S,!1)},d.prototype.removeSession=function(S){return this._remove(S,!0)},d.prototype.set=function(S,y,E){return this._set(S,y,E,!1)},d.prototype.setSession=function(S,y,E){return this._set(S,y,E,!0)},d.prototype._set=function(S,y,E,l){var w={value:y};return E&&(w.expires=i.now()+E),this.storageInterface(l).setItem(S,JSON.stringify(w))},d.prototype._get=function(S,y){if(y&&!this.sessionSupported)throw new Error("Session Storage not supported");if(!y&&!this.localSupported)throw new Error("Local Storage not supported");var E=this.storageInterface(y).getItem(S);if(!E)return null;var l=JSON.parse(E);return l.expires&&l.expires<i.now()?(this.storageInterface(y).removeItem(S),null):l.value},d.prototype._remove=function(S,y){return this.storageInterface(y).removeItem(S)},d.prototype.storageInterface=function(S){return S?r.sessionStorage:r.localStorage},d}();t.default=new u}).call(this,n(10))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1),o=r.__importDefault(n(66)),i={internetUpUrl:"https://internet-up.ably-realtime.com/is-the-internet-up.txt",jsonpInternetUpUrl:"https://internet-up.ably-realtime.com/is-the-internet-up-0-9.js",defaultTransports:[o.default.XhrPolling,o.default.XhrStreaming,o.default.JsonP,o.default.WebSocket],baseTransportOrder:[o.default.XhrPolling,o.default.XhrStreaming,o.default.JsonP,o.default.WebSocket],transportPreferenceOrder:[o.default.JsonP,o.default.XhrPolling,o.default.XhrStreaming,o.default.WebSocket],upgradeTransports:[o.default.XhrStreaming,o.default.WebSocket]};t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var r;(function(o){o.WebSocket="web_socket",o.Comet="comet",o.XhrStreaming="xhr_streaming",o.XhrPolling="xhr_polling",o.JsonP="jsonp"})(r||(r={})),t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(29),o=n.n(r),i=n(2),a=n(0),u=n.n(a),d=n(9),S=n.n(d),y=n(13),E=n.n(y),l=n(16),w=n.n(l),C=function(s){var f="xhr_polling";function c(g,p,x){x.stream=!1,E.a.call(this,g,p,x),this.shortName=f}return i.inherits(c,E.a),c.isAvailable=function(){return S.a.xhrSupported&&S.a.allowComet},c.tryConnect=function(g,p,x,T){var A=new c(g,p,x),k=function(D){T({event:this.event,error:D})};A.on(["failed","disconnected"],k),A.on("preconnect",function(){u.a.logAction(u.a.LOG_MINOR,"XHRPollingTransport.tryConnect()","viable transport "+A),A.off(["failed","disconnected"],k),T(null,A)}),A.connect()},c.prototype.toString=function(){return"XHRPollingTransport; uri="+this.baseUri+"; isConnected="+this.isConnected},c.prototype.createRequest=function(g,p,x,T,A){return w.a.createRequest(g,p,x,T,A,this.timeouts)},typeof s<"u"&&c.isAvailable()&&(s.supportedTransports[f]=c),c},O=C,h=function(s){var f="xhr_streaming";function c(g,p,x){E.a.call(this,g,p,x),this.shortName=f}return i.inherits(c,E.a),c.isAvailable=function(){return S.a.xhrSupported&&S.a.streamingSupported&&S.a.allowComet},c.tryConnect=function(g,p,x,T){var A=new c(g,p,x),k=function(D){T({event:this.event,error:D})};A.on(["failed","disconnected"],k),A.on("preconnect",function(){u.a.logAction(u.a.LOG_MINOR,"XHRStreamingTransport.tryConnect()","viable transport "+A),A.off(["failed","disconnected"],k),T(null,A)}),A.connect()},c.prototype.toString=function(){return"XHRStreamingTransport; uri="+this.baseUri+"; isConnected="+this.isConnected},c.prototype.createRequest=function(g,p,x,T,A){return w.a.createRequest(g,p,x,T,A,this.timeouts)},typeof s<"u"&&c.isAvailable()&&(s.supportedTransports[f]=c),c},m=h,v=t.default=[o.a,O,m]}]).default})});var Cd=Ze((mk,s0)=>{N();var tO=typeof Element<"u",nO=typeof Map=="function",rO=typeof Set=="function",oO=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function yu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!yu(e[r],t[r]))return!1;return!0}var i;if(nO&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!yu(r.value[1],t.get(r.value[0])))return!1;return!0}if(rO&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(oO&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(tO&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!yu(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}s0.exports=function(t,n){try{return yu(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}});var T0=Ze(Oe=>{"use strict";N();var Ru=60103,Pu=60106,la=60107,fa=60108,ca=60114,da=60109,pa=60110,ha=60112,ma=60113,Pd=60120,ga=60115,va=60116,w0=60121,x0=60122,E0=60117,C0=60129,O0=60131;typeof Symbol=="function"&&Symbol.for&&(qe=Symbol.for,Ru=qe("react.element"),Pu=qe("react.portal"),la=qe("react.fragment"),fa=qe("react.strict_mode"),ca=qe("react.profiler"),da=qe("react.provider"),pa=qe("react.context"),ha=qe("react.forward_ref"),ma=qe("react.suspense"),Pd=qe("react.suspense_list"),ga=qe("react.memo"),va=qe("react.lazy"),w0=qe("react.block"),x0=qe("react.server.block"),E0=qe("react.fundamental"),C0=qe("react.debug_trace_mode"),O0=qe("react.legacy_hidden"));var qe;function zt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ru:switch(e=e.type,e){case la:case ca:case fa:case ma:case Pd:return e;default:switch(e=e&&e.$$typeof,e){case pa:case ha:case va:case ga:case da:return e;default:return t}}case Pu:return t}}}var UO=da,BO=Ru,FO=ha,jO=la,WO=va,HO=ga,zO=Pu,GO=ca,$O=fa,VO=ma;Oe.ContextConsumer=pa;Oe.ContextProvider=UO;Oe.Element=BO;Oe.ForwardRef=FO;Oe.Fragment=jO;Oe.Lazy=WO;Oe.Memo=HO;Oe.Portal=zO;Oe.Profiler=GO;Oe.StrictMode=$O;Oe.Suspense=VO;Oe.isAsyncMode=function(){return!1};Oe.isConcurrentMode=function(){return!1};Oe.isContextConsumer=function(e){return zt(e)===pa};Oe.isContextProvider=function(e){return zt(e)===da};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ru};Oe.isForwardRef=function(e){return zt(e)===ha};Oe.isFragment=function(e){return zt(e)===la};Oe.isLazy=function(e){return zt(e)===va};Oe.isMemo=function(e){return zt(e)===ga};Oe.isPortal=function(e){return zt(e)===Pu};Oe.isProfiler=function(e){return zt(e)===ca};Oe.isStrictMode=function(e){return zt(e)===fa};Oe.isSuspense=function(e){return zt(e)===ma};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===la||e===ca||e===C0||e===fa||e===ma||e===Pd||e===O0||typeof e=="object"&&e!==null&&(e.$$typeof===va||e.$$typeof===ga||e.$$typeof===da||e.$$typeof===pa||e.$$typeof===ha||e.$$typeof===E0||e.$$typeof===w0||e[0]===x0)};Oe.typeOf=zt});var P0=Ze((Nk,R0)=>{"use strict";N();R0.exports=T0()});var I0=Ze((_k,A0)=>{N();A0.exports=function(t,n,r,o){var i=r?r.call(o,t,n):void 0;if(i!==void 0)return!!i;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var a=Object.keys(t),u=Object.keys(n);if(a.length!==u.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(n),S=0;S<a.length;S++){var y=a[S];if(!d(y))return!1;var E=t[y],l=n[y];if(i=r?r.call(o,E,l,y):void 0,i===!1||i===void 0&&E!==l)return!1}return!0}});var N0=Ze(Ce=>{"use strict";N();var Je=typeof Symbol=="function"&&Symbol.for,Id=Je?Symbol.for("react.element"):60103,Md=Je?Symbol.for("react.portal"):60106,Au=Je?Symbol.for("react.fragment"):60107,Iu=Je?Symbol.for("react.strict_mode"):60108,Mu=Je?Symbol.for("react.profiler"):60114,bu=Je?Symbol.for("react.provider"):60109,Du=Je?Symbol.for("react.context"):60110,bd=Je?Symbol.for("react.async_mode"):60111,ku=Je?Symbol.for("react.concurrent_mode"):60111,Nu=Je?Symbol.for("react.forward_ref"):60112,_u=Je?Symbol.for("react.suspense"):60113,JO=Je?Symbol.for("react.suspense_list"):60120,Lu=Je?Symbol.for("react.memo"):60115,Uu=Je?Symbol.for("react.lazy"):60116,ZO=Je?Symbol.for("react.block"):60121,e2=Je?Symbol.for("react.fundamental"):60117,t2=Je?Symbol.for("react.responder"):60118,n2=Je?Symbol.for("react.scope"):60119;function xt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Id:switch(e=e.type,e){case bd:case ku:case Au:case Mu:case Iu:case _u:return e;default:switch(e=e&&e.$$typeof,e){case Du:case Nu:case Uu:case Lu:case bu:return e;default:return t}}case Md:return t}}}function k0(e){return xt(e)===ku}Ce.AsyncMode=bd;Ce.ConcurrentMode=ku;Ce.ContextConsumer=Du;Ce.ContextProvider=bu;Ce.Element=Id;Ce.ForwardRef=Nu;Ce.Fragment=Au;Ce.Lazy=Uu;Ce.Memo=Lu;Ce.Portal=Md;Ce.Profiler=Mu;Ce.StrictMode=Iu;Ce.Suspense=_u;Ce.isAsyncMode=function(e){return k0(e)||xt(e)===bd};Ce.isConcurrentMode=k0;Ce.isContextConsumer=function(e){return xt(e)===Du};Ce.isContextProvider=function(e){return xt(e)===bu};Ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Id};Ce.isForwardRef=function(e){return xt(e)===Nu};Ce.isFragment=function(e){return xt(e)===Au};Ce.isLazy=function(e){return xt(e)===Uu};Ce.isMemo=function(e){return xt(e)===Lu};Ce.isPortal=function(e){return xt(e)===Md};Ce.isProfiler=function(e){return xt(e)===Mu};Ce.isStrictMode=function(e){return xt(e)===Iu};Ce.isSuspense=function(e){return xt(e)===_u};Ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Au||e===ku||e===Mu||e===Iu||e===_u||e===JO||typeof e=="object"&&e!==null&&(e.$$typeof===Uu||e.$$typeof===Lu||e.$$typeof===bu||e.$$typeof===Du||e.$$typeof===Nu||e.$$typeof===e2||e.$$typeof===t2||e.$$typeof===n2||e.$$typeof===ZO)};Ce.typeOf=xt});var L0=Ze((Hk,_0)=>{"use strict";N();_0.exports=N0()});var z0=Ze((zk,H0)=>{"use strict";N();var Dd=L0(),r2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},j0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kd={};kd[Dd.ForwardRef]=i2;kd[Dd.Memo]=j0;function U0(e){return Dd.isMemo(e)?j0:kd[e.$$typeof]||r2}var a2=Object.defineProperty,s2=Object.getOwnPropertyNames,B0=Object.getOwnPropertySymbols,u2=Object.getOwnPropertyDescriptor,l2=Object.getPrototypeOf,F0=Object.prototype;function W0(e,t,n){if(typeof t!="string"){if(F0){var r=l2(t);r&&r!==F0&&W0(e,r,n)}var o=s2(t);B0&&(o=o.concat(B0(t)));for(var i=U0(e),a=U0(t),u=0;u<o.length;++u){var d=o[u];if(!o2[d]&&!(n&&n[d])&&!(a&&a[d])&&!(i&&i[d])){var S=u2(t,d);try{a2(e,d,S)}catch{}}}}return e}H0.exports=W0});var _y=Ze((wa,Ho)=>{N();var W2=200,gy="__lodash_hash_undefined__",H2=800,z2=16,vy=9007199254740991,yy="[object Arguments]",G2="[object Array]",$2="[object AsyncFunction]",V2="[object Boolean]",Y2="[object Date]",K2="[object Error]",Sy="[object Function]",Q2="[object GeneratorFunction]",X2="[object Map]",q2="[object Number]",J2="[object Null]",wy="[object Object]",Z2="[object Proxy]",eT="[object RegExp]",tT="[object Set]",nT="[object String]",rT="[object Undefined]",oT="[object WeakMap]",iT="[object ArrayBuffer]",aT="[object DataView]",sT="[object Float32Array]",uT="[object Float64Array]",lT="[object Int8Array]",fT="[object Int16Array]",cT="[object Int32Array]",dT="[object Uint8Array]",pT="[object Uint8ClampedArray]",hT="[object Uint16Array]",mT="[object Uint32Array]",gT=/[\\^$.*+?()[\]{}|]/g,vT=/^\[object .+?Constructor\]$/,yT=/^(?:0|[1-9]\d*)$/,Me={};Me[sT]=Me[uT]=Me[lT]=Me[fT]=Me[cT]=Me[dT]=Me[pT]=Me[hT]=Me[mT]=!0;Me[yy]=Me[G2]=Me[iT]=Me[V2]=Me[aT]=Me[Y2]=Me[K2]=Me[Sy]=Me[X2]=Me[q2]=Me[wy]=Me[eT]=Me[tT]=Me[nT]=Me[oT]=!1;var xy=typeof global=="object"&&global&&global.Object===Object&&global,ST=typeof self=="object"&&self&&self.Object===Object&&self,Ca=xy||ST||Function("return this")(),Ey=typeof wa=="object"&&wa&&!wa.nodeType&&wa,xa=Ey&&typeof Ho=="object"&&Ho&&!Ho.nodeType&&Ho,Cy=xa&&xa.exports===Ey,Vd=Cy&&xy.process,sy=function(){try{var e=xa&&xa.require&&xa.require("util").types;return e||Vd&&Vd.binding&&Vd.binding("util")}catch{}}(),uy=sy&&sy.isTypedArray;function wT(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xT(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function ET(e){return function(t){return e(t)}}function CT(e,t){return e==null?void 0:e[t]}function OT(e,t){return function(n){return e(t(n))}}var TT=Array.prototype,RT=Function.prototype,Yu=Object.prototype,Yd=Ca["__core-js_shared__"],Ku=RT.toString,Sn=Yu.hasOwnProperty,ly=function(){var e=/[^.]+$/.exec(Yd&&Yd.keys&&Yd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Oy=Yu.toString,PT=Ku.call(Object),AT=RegExp("^"+Ku.call(Sn).replace(gT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$u=Cy?Ca.Buffer:void 0,fy=Ca.Symbol,cy=Ca.Uint8Array,dy=$u?$u.allocUnsafe:void 0,Ty=OT(Object.getPrototypeOf,Object),py=Object.create,IT=Yu.propertyIsEnumerable,MT=TT.splice,Ur=fy?fy.toStringTag:void 0,Vu=function(){try{var e=Zd(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bT=$u?$u.isBuffer:void 0,hy=Math.max,DT=Date.now,Ry=Zd(Ca,"Map"),Ea=Zd(Object,"create"),kT=function(){function e(){}return function(t){if(!Fr(t))return{};if(py)return py(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Br(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function NT(){this.__data__=Ea?Ea(null):{},this.size=0}function _T(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function LT(e){var t=this.__data__;if(Ea){var n=t[e];return n===gy?void 0:n}return Sn.call(t,e)?t[e]:void 0}function UT(e){var t=this.__data__;return Ea?t[e]!==void 0:Sn.call(t,e)}function BT(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ea&&t===void 0?gy:t,this}Br.prototype.clear=NT;Br.prototype.delete=_T;Br.prototype.get=LT;Br.prototype.has=UT;Br.prototype.set=BT;function wn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function FT(){this.__data__=[],this.size=0}function jT(e){var t=this.__data__,n=Qu(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():MT.call(t,n,1),--this.size,!0}function WT(e){var t=this.__data__,n=Qu(t,e);return n<0?void 0:t[n][1]}function HT(e){return Qu(this.__data__,e)>-1}function zT(e,t){var n=this.__data__,r=Qu(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}wn.prototype.clear=FT;wn.prototype.delete=jT;wn.prototype.get=WT;wn.prototype.has=HT;wn.prototype.set=zT;function zo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function GT(){this.size=0,this.__data__={hash:new Br,map:new(Ry||wn),string:new Br}}function $T(e){var t=qu(this,e).delete(e);return this.size-=t?1:0,t}function VT(e){return qu(this,e).get(e)}function YT(e){return qu(this,e).has(e)}function KT(e,t){var n=qu(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}zo.prototype.clear=GT;zo.prototype.delete=$T;zo.prototype.get=VT;zo.prototype.has=YT;zo.prototype.set=KT;function Go(e){var t=this.__data__=new wn(e);this.size=t.size}function QT(){this.__data__=new wn,this.size=0}function XT(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function qT(e){return this.__data__.get(e)}function JT(e){return this.__data__.has(e)}function ZT(e,t){var n=this.__data__;if(n instanceof wn){var r=n.__data__;if(!Ry||r.length<W2-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zo(r)}return n.set(e,t),this.size=n.size,this}Go.prototype.clear=QT;Go.prototype.delete=XT;Go.prototype.get=qT;Go.prototype.has=JT;Go.prototype.set=ZT;function eR(e,t){var n=qd(e),r=!n&&Xd(e),o=!n&&!r&&My(e),i=!n&&!r&&!o&&Dy(e),a=n||r||o||i,u=a?xT(e.length,String):[],d=u.length;for(var S in e)(t||Sn.call(e,S))&&!(a&&(S=="length"||o&&(S=="offset"||S=="parent")||i&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||Ay(S,d)))&&u.push(S);return u}function Kd(e,t,n){(n!==void 0&&!Ju(e[t],n)||n===void 0&&!(t in e))&&Jd(e,t,n)}function tR(e,t,n){var r=e[t];(!(Sn.call(e,t)&&Ju(r,n))||n===void 0&&!(t in e))&&Jd(e,t,n)}function Qu(e,t){for(var n=e.length;n--;)if(Ju(e[n][0],t))return n;return-1}function Jd(e,t,n){t=="__proto__"&&Vu?Vu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var nR=mR();function Xu(e){return e==null?e===void 0?rT:J2:Ur&&Ur in Object(e)?gR(e):ER(e)}function my(e){return Oa(e)&&Xu(e)==yy}function rR(e){if(!Fr(e)||wR(e))return!1;var t=tp(e)?AT:vT;return t.test(RR(e))}function oR(e){return Oa(e)&&by(e.length)&&!!Me[Xu(e)]}function iR(e){if(!Fr(e))return xR(e);var t=Iy(e),n=[];for(var r in e)r=="constructor"&&(t||!Sn.call(e,r))||n.push(r);return n}function Py(e,t,n,r,o){e!==t&&nR(t,function(i,a){if(o||(o=new Go),Fr(i))aR(e,t,a,n,Py,r,o);else{var u=r?r(Qd(e,a),i,a+"",e,t,o):void 0;u===void 0&&(u=i),Kd(e,a,u)}},ky)}function aR(e,t,n,r,o,i,a){var u=Qd(e,n),d=Qd(t,n),S=a.get(d);if(S){Kd(e,n,S);return}var y=i?i(u,d,n+"",e,t,a):void 0,E=y===void 0;if(E){var l=qd(d),w=!l&&My(d),C=!l&&!w&&Dy(d);y=d,l||w||C?qd(u)?y=u:PR(u)?y=dR(u):w?(E=!1,y=lR(d,!0)):C?(E=!1,y=cR(d,!0)):y=[]:AR(d)||Xd(d)?(y=u,Xd(u)?y=IR(u):(!Fr(u)||tp(u))&&(y=vR(d))):E=!1}E&&(a.set(d,y),o(y,d,r,i,a),a.delete(d)),Kd(e,n,y)}function sR(e,t){return OR(CR(e,t,Ny),e+"")}var uR=Vu?function(e,t){return Vu(e,"toString",{configurable:!0,enumerable:!1,value:bR(t),writable:!0})}:Ny;function lR(e,t){if(t)return e.slice();var n=e.length,r=dy?dy(n):new e.constructor(n);return e.copy(r),r}function fR(e){var t=new e.constructor(e.byteLength);return new cy(t).set(new cy(e)),t}function cR(e,t){var n=t?fR(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function dR(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function pR(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],d=r?r(n[u],e[u],u,n,e):void 0;d===void 0&&(d=e[u]),o?Jd(n,u,d):tR(n,u,d)}return n}function hR(e){return sR(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&yR(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t})}function mR(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var d=a[e?u:++o];if(n(i[d],d,i)===!1)break}return t}}function qu(e,t){var n=e.__data__;return SR(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Zd(e,t){var n=CT(e,t);return rR(n)?n:void 0}function gR(e){var t=Sn.call(e,Ur),n=e[Ur];try{e[Ur]=void 0;var r=!0}catch{}var o=Oy.call(e);return r&&(t?e[Ur]=n:delete e[Ur]),o}function vR(e){return typeof e.constructor=="function"&&!Iy(e)?kT(Ty(e)):{}}function Ay(e,t){var n=typeof e;return t=t??vy,!!t&&(n=="number"||n!="symbol"&&yT.test(e))&&e>-1&&e%1==0&&e<t}function yR(e,t,n){if(!Fr(n))return!1;var r=typeof t;return(r=="number"?ep(n)&&Ay(t,n.length):r=="string"&&t in n)?Ju(n[t],e):!1}function SR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function wR(e){return!!ly&&ly in e}function Iy(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Yu;return e===n}function xR(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}function ER(e){return Oy.call(e)}function CR(e,t,n){return t=hy(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=hy(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=n(a),wT(e,this,u)}}function Qd(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var OR=TR(uR);function TR(e){var t=0,n=0;return function(){var r=DT(),o=z2-(r-n);if(n=r,o>0){if(++t>=H2)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function RR(e){if(e!=null){try{return Ku.call(e)}catch{}try{return e+""}catch{}}return""}function Ju(e,t){return e===t||e!==e&&t!==t}var Xd=my(function(){return arguments}())?my:function(e){return Oa(e)&&Sn.call(e,"callee")&&!IT.call(e,"callee")},qd=Array.isArray;function ep(e){return e!=null&&by(e.length)&&!tp(e)}function PR(e){return Oa(e)&&ep(e)}var My=bT||DR;function tp(e){if(!Fr(e))return!1;var t=Xu(e);return t==Sy||t==Q2||t==$2||t==Z2}function by(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vy}function Fr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Oa(e){return e!=null&&typeof e=="object"}function AR(e){if(!Oa(e)||Xu(e)!=wy)return!1;var t=Ty(e);if(t===null)return!0;var n=Sn.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Ku.call(n)==PT}var Dy=uy?ET(uy):oR;function IR(e){return pR(e,ky(e))}function ky(e){return ep(e)?eR(e,!0):iR(e)}var MR=hR(function(e,t,n){Py(e,t,n)});function bR(e){return function(){return e}}function Ny(e){return e}function DR(){return!1}Ho.exports=MR});var rA={};v1(rA,{render:()=>f1});N();N();var l1=ue(To());N();var ON=ue(de()),kt=ue(de()),Qy=ue(vv());N();var _r=ue(de());N();var xv=ue(yv()),cE=Object.defineProperty,dE=Object.defineProperties,pE=Object.getOwnPropertyDescriptors,Sv=Object.getOwnPropertySymbols,hE=Object.prototype.hasOwnProperty,mE=Object.prototype.propertyIsEnumerable,Bc=(e,t,n)=>t in e?cE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ft=(e,t)=>{for(var n in t||(t={}))hE.call(t,n)&&Bc(e,n,t[n]);if(Sv)for(var n of Sv(t))mE.call(t,n)&&Bc(e,n,t[n]);return e},Fc=(e,t)=>dE(e,pE(t)),gE=(e,t,n)=>(Bc(e,typeof t!="symbol"?t+"":t,n),n),vE={apiHost:"https://api.engagespot.co/v3",wssHost:"wss://rtm.engagespot.co",wssPort:80},yE=vE,SE=()=>{if(typeof window>"u")return"other";let e=navigator.userAgent,t=e.indexOf("Chrome")>-1,n=e.indexOf("MSIE")>-1||e.indexOf("rv:")>-1,r=e.indexOf("Firefox")>-1,o=e.indexOf("Safari")>-1;t&&o&&(o=!1);let i=e.indexOf("OP")>-1;if(t&&i&&(t=!1),t)return"chrome";if(n)return"ie";if(r)return"firefox";if(o)return"safari";if(i)return"opera"},wE=e=>{if(!e)throw"urlBase64ToUInt8Array function expects atleast one parameter.";let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n);return Uint8Array.from([...r].map(o=>o.charCodeAt(0)))},wv={findBrowser:SE,urlBase64ToUInt8Array:wE};function xr(e){let t={method:e.method,cache:"no-cache",headers:Ft({"Content-Type":"application/json"},e.headers)};return e.body!==null&&(t.body=JSON.stringify(e.body)),fetch(e.url,t).then(async n=>{n.ok||await xE(n);try{return await n.json()}catch{return null}})}async function xE(e){let t;try{let{error:n="Unknown error",message:r="No description"}=await e.json();t=`Unexpected status code ${e.status}: ${n}, ${r}`}catch{t=`Unexpected status code ${e.status}: Cannot parse error response`}throw new Error(t)}var su=class{_client;id;title;message=null;icon=null;url=null;seenAt=null;clickedAt=null;createdAt=null;data=null;constructor(e,t){this._client=e,this.id=t.id,this.title=t.title,this.message=t.message,this.icon=t.icon,this.url=t.url,this.seenAt=t.seenAt,this.clickedAt=t.clickedAt,this.createdAt=t.createdAt,this.data=t.data}async markAsClicked(){let e={url:this._client.baseURL+"/notifications/"+this.id+"/click",method:"POST",headers:Ft({"Content-Type":"application/json","X-ENGAGESPOT-API-KEY":this._client.apiKey,"X-ENGAGESPOT-USER-ID":this._client.userId},this._client.userSignature&&{"X-ENGAGESPOT-USER-SIGNATURE":this._client.userSignature})};try{if(await xr(e))return this;throw"Cannot mark notification as clicked"}catch(t){throw t}}async fetch(){let e={url:this._client.baseURL+"/notifications/"+this.id,method:"GET",headers:Ft({"Content-Type":"application/json","X-ENGAGESPOT-API-KEY":this._client.apiKey,"X-ENGAGESPOT-USER-ID":this._client.userId},this._client.userSignature&&{"X-ENGAGESPOT-USER-SIGNATURE":this._client.userSignature})};try{let t=await xr(e);if(t)return this.title=t.data.title,this.message=t.data.message,this.icon=t.data.icon,this.url=t.data.url,this.seenAt=t.data.seenAt,this.clickedAt=t.data.clickedAt,this.createdAt=t.data.createdAt,this.data=t.data.data,this;throw"Cannot fetch notifications"}catch(t){throw t}}async delete(){let e={url:this._client.baseURL+"/notifications/"+this.id,method:"DELETE",headers:Ft({"Content-Type":"application/json","X-ENGAGESPOT-API-KEY":this._client.apiKey,"X-ENGAGESPOT-USER-ID":this._client.userId},this._client.userSignature&&{"X-ENGAGESPOT-USER-SIGNATURE":this._client.userSignature})};try{if(await xr(e))return this;throw"Unable to delete notifications"}catch(t){throw t}}},EE=class{client;unreadCount;totalCount;currentPage;itemsPerPage;totalPages;data;constructor(e){this.client=e,this.unreadCount=0,this.totalCount=0,this.data=[],this.currentPage=1,this.itemsPerPage=15,this.totalPages=0}async fetch(e=1,t=15){this.currentPage=e,this.itemsPerPage=t;let n={url:this.client.baseURL+"/notifications?pageNo="+this.currentPage+"&limit="+this.itemsPerPage,method:"GET",headers:Ft({"Content-Type":"application/json","X-ENGAGESPOT-API-KEY":this.client.apiKey,"X-ENGAGESPOT-USER-ID":this.client.userId},this.client.userSignature&&{"X-ENGAGESPOT-USER-SIGNATURE":this.client.userSignature})},r=await xr(n);return this.unreadCount=r.unreadCount,this.totalCount=r.pagination.totalCount,this.totalPages=Math.ceil(this.totalCount/this.itemsPerPage),this.client.unreadCount=r.unreadCount,r.data.forEach(o=>{let i=new su(this.client,{id:o.id,title:o.title,message:o.message,icon:o.icon,url:o.url,createdAt:o.createdAt,seenAt:o.seenAt,data:o.data,clickedAt:o.clickedAt});this.data.push(i)}),this}async markAllAsSeen(){let e={url:this.client.baseURL+"/notifications/markAllNotificationsAsSeen",method:"POST",headers:Ft({"Content-Type":"application/json","X-ENGAGESPOT-API-KEY":this.client.apiKey,"X-ENGAGESPOT-USER-ID":this.client.userId},this.client.userSignature&&{"X-ENGAGESPOT-USER-SIGNATURE":this.client.userSignature})},t=await xr(e);return this}},qi=(e=>(e[e.PERMISSION_REQUIRED=0]="PERMISSION_REQUIRED",e[e.PERMISSION_GRANTED=1]="PERMISSION_GRANTED",e[e.PERMISSION_DENIED=2]="PERMISSION_DENIED",e))(qi||{}),CE=class{apiKey;userId;userSignature;constructor(e,t,n=null){this.apiKey=e,this.userId=t,this.userSignature=n}async executeFetchRequest(e,t,n=null,r=null){let o=Fc(Ft({method:e,cache:"no-store"},["POST","PUT","PATCH"].includes(e)&&{body:JSON.stringify(n)}),{headers:Ft(Ft({"Content-Type":"application/json","X-ENGAGESPOT-API-KEY":this.apiKey,"X-ENGAGESPOT-USER-ID":this.userId},this.userSignature&&{"X-ENGAGESPOT-USER-SIGNATURE":this.userSignature}),r)});return fetch(t,o).then(async i=>{i.ok||await this.handleError(i);try{return await i.json()}catch{return null}})}async handleError(e){let t;try{let{error:n="Unknown error",message:r="No description"}=await e.json();t=`Unexpected status code ${e.status}: ${n}, ${r}`}catch{t=`Unexpected status code ${e.status}: Cannot parse error response`}throw new Error(t)}async get(e,t=null){return await this.executeFetchRequest("GET",e,null,t)}async post(e,t,n=null){return await this.executeFetchRequest("POST",e,t,n)}async put(e,t,n=null){return await this.executeFetchRequest("PUT",e,t,n)}async patch(e,t,n=null){return await this.executeFetchRequest("PATCH",e,t,n)}async delete(e,t=null){return await this.executeFetchRequest("DELETE",e,null,t)}},Ev=class{debug=!1;isNative=!1;SERVICE_WORKER_URL="/service-worker.js?sdkVersion=3.0.0";apiKey;userId;userSignature=null;instanceState="none";endPoint=null;socket=null;realtimeClient;_ready;enableNonHttpsWebPush=!1;enableWebPush=!1;supportedChannels={inApp:{name:"In-App",id:"inApp"},webPush:{name:"Web Push",id:"webPush"},email:{name:"Email",id:"email"},mobilePush:{name:"Mobile Push",id:"mobilePush"},sms:{name:"SMS",id:"sms"}};enabledChannels=[];unreadCount=0;deviceId;hideBranding=!1;serviceWorkerRegistration=null;publicKey="";subscribableEvents=["REALTIME_NOTIFICATION_RECEIVED","NOTIFICATION_CLICKED","NOTIFICATION_DELETED"];eventListenerStore={REALTIME_NOTIFICATION_RECEIVED:[],NOTIFICATION_CLICKED:[],NOTIFICATION_DELETED:[],NOTIFICATION_SEEN:[],WEBPUSH_PERMISSION_CHANGED:[]};apiRequestv2;constructor(e,t){if(OE(e),this.apiKey=e,this.isNative=typeof window>"u",!t)throw"ES1000 - You must pass an options object when you instantiate Engagespot.";if(!t.userId)throw"ES1001 - You must pass userId when you instantiate Engagespot.";this.userId=t.userId,t.userSignature&&(this.userSignature=t.userSignature),t.enableNonHttpsWebPush&&(this.enableNonHttpsWebPush=t.enableNonHttpsWebPush),t.serviceWorkerRegistration&&(this.serviceWorkerRegistration=t.serviceWorkerRegistration),t.endPointOverride&&(this.endPoint=t.endPointOverride),t.debug&&(this.debug=t.debug),this.apiRequestv2=new CE(e,t.userId,t.userSignature),this._ready=this.init()}async _resolveInstanceState(){await this._ready}async isReady(){try{return await this._resolveInstanceState(),!0}catch{return!1}}async init(){if(this.deviceId)return this._log("Instance already have a deviceId. So skipping init()"),this;let e=this.getDeviceId();return e?this.deviceId=e:this.deviceId=this.createNewDevice(),await this.connect()}async connect(){this.instanceState="connecting";let e={url:this.baseURL+"/sdk/connect",method:"POST",body:{deviceType:"browser",browserType:wv.findBrowser()},headers:Fc(Ft({"Content-Type":"application/json","X-ENGAGESPOT-API-KEY":this.apiKey,"X-ENGAGESPOT-USER-ID":this.userId},this.userSignature&&{"X-ENGAGESPOT-USER-SIGNATURE":this.userSignature}),{"X-ENGAGESPOT-DEVICE-ID":this.deviceId})},t=await xr(e);if(this.unreadCount=t.unreadCount,this.hideBranding=t.app.hideBranding,this.publicKey=t.app.publicKey,this.enableWebPush=t.app.enableWebPush,this.enabledChannels=t.app.channels||[],this._log("Response from connect API is given below "),this._log(t),!this.isNative&&this.enableWebPush&&!this.enableNonHttpsWebPush)if(this._log("enableNonHttpsWebPush is false"),this.serviceWorkerRegistration)await window.navigator.serviceWorker.ready;else try{this.serviceWorkerRegistration=await this.getServiceWorkerRegistration()}catch(n){console.warn("[Engagespot] ES1003 - Service worker registration failed. This error is probably due to missing service-worker file. Try turning off web-push channel in your Engagespot dashboard"),console.error(n)}else this._log("enableNonHttpsWebPush is "+this.enableNonHttpsWebPush),this._log("enableWebPush is "+this.enableWebPush);try{this.realtimeConnect()}catch(n){throw n}return this.isNative||this.listenForWebPushPermissionChanges(),this.instanceState="connected",this}async _createTokenRequest(){let e={url:this.baseURL+"/sdk/realtimeTokenRequests",method:"POST",body:{deviceType:"browser",browserType:wv.findBrowser()},headers:Fc(Ft({"Content-Type":"application/json","X-ENGAGESPOT-API-KEY":this.apiKey,"X-ENGAGESPOT-USER-ID":this.userId},this.userSignature&&{"X-ENGAGESPOT-USER-SIGNATURE":this.userSignature}),{"X-ENGAGESPOT-DEVICE-ID":this.deviceId})};return await xr(e)}realtimeConnect(){this.realtimeClient=new xv.Realtime({authCallback:async(e,t)=>{try{let n=await this._createTokenRequest();t("",n)}catch(n){this._log(n),t(n,"")}}}),this.realtimeClient.connection.once("connected",()=>{this._log("Subscribing to "+this.apiKey+"_"+this.userId);var e=this.realtimeClient.channels.get(this.apiKey+"_"+this.userId);e.subscribe(t=>{this.handleIncomingRealtimeMessage(t)})})}handleIncomingRealtimeMessage(e){if(this._log(e),e.name==="NEW_NOTIFICATION"){let t=new su(this,{id:e.data.notification.id,title:e.data.notification.title,message:e.data.notification.description,icon:e.data.notification.icon,url:e.data.notification.url,createdAt:e.data.notification.created_at}),n=0;this.eventListenerStore.REALTIME_NOTIFICATION_RECEIVED.forEach(r=>{r(t),n++}),this._log("Published to "+n+" listeners")}e.name==="NOTIFICATION_DELETED"&&this.eventListenerStore.NOTIFICATION_DELETED.forEach(t=>{t(e.data.notification.id)}),e.name==="NOTIFICATION_CLICKED"&&this.eventListenerStore.NOTIFICATION_CLICKED.forEach(t=>{t(e.data.notification.id)}),e.name==="NOTIFICATION_SEEN"&&this.eventListenerStore.NOTIFICATION_SEEN.forEach(t=>{t(e.data.notification.id)})}listenForWebPushPermissionChanges(){if(!this.isWebPushSupported()){this._log("Web push is not supported in this browser");return}navigator.permissions.query({name:"notifications"}).then(e=>{e.onchange=t=>{let n=t.target.state;this.eventListenerStore.WEBPUSH_PERMISSION_CHANGED.forEach(r=>{r(n)})}})}getNotificationList(){return new EE(this)}async markAsRead(e){await this._resolveInstanceState();let t={id:e};return new su(this,t).markAsClicked()}async deleteNotification(e){await this._resolveInstanceState();let t={id:e};return new su(this,t).delete()}async httpsWebPushSubscribe(){if(await this._resolveInstanceState(),!this.isWebPushSupported()){this._log("Web push is not supported in this browser");return}if(await this.getWebPushRegistrationState()!=2){if(await this.askWebPushPermission()!=="granted"){this._log("Web push permission was not granted.");return}let e=await this.getWebPushSubscription(this.publicKey);await this.attachPushSubscription(e)}}async getServiceWorkerRegistration(){if(this._log("getServiceWorkerRegistration called"),!this.isWebPushSupported())return this._log("Web push is not supported in this browser"),null;if((await fetch(this.SERVICE_WORKER_URL)).status!==200)throw"ES1004 - Engagespot SDK initialization failed. Service worker missing: No file found at /service-worker.js";return window.navigator.serviceWorker.register(this.SERVICE_WORKER_URL,{updateViaCache:"none"}),window.navigator.serviceWorker.ready}async askWebPushPermission(){return new Promise(function(e,t){let n=Notification.requestPermission(function(r){e(r)});n&&n.then(e,t)})}async getWebPushSubscription(e){if(!this.serviceWorkerRegistration)throw new Error("ES1005 - A service worker must be registered before push can be subscribed");try{return await this.clearWebPushSubscription(),await this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.publicKey})}catch(t){return Promise.reject(t)}}async clearWebPushSubscription(){return navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>{e&&e.unsubscribe()})}async getPreferences(){await this._resolveInstanceState();let e=this.baseURL+"/preferences";return await this.apiRequestv2.get(e)}async setPreferences(e){await this._resolveInstanceState();let t=this.baseURL+"/preferences",n={preference:e};return this._log("setPreferences - Trying to send body"),this._log(n),await this.apiRequestv2.patch(t,n),this}async setProfileAttributes(e){let t=this.baseURL+"/profile";return await this.apiRequestv2.put(t,e),this}async getCategories(){let e=this.baseURL+"/categories";return await this.apiRequestv2.get(e)}isWebPushSupported=()=>"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window;get baseURL(){return this.endPoint!==null?this.endPoint:yE.apiHost}async getWebPushRegistrationState(){return await this._resolveInstanceState(),this.isWebPushSupported()?Notification.permission==="denied"?2:Notification.permission==="granted"?1:0:2}async attachPushSubscription(e){return await this._resolveInstanceState(),fetch(this.baseURL+"/devices/"+this.deviceId+"/webPushSubscription",{method:"POST",cache:"no-cache",body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-ENGAGESPOT-API-KEY":this.apiKey,"X-ENGAGESPOT-USER-ID":this.userId,"X-ENGAGESPOT-USER-SIGNATURE":this.userSignature,"X-ENGAGESPOT-DEVICE-ID":this.deviceId}}).then(t=>(this._log("Push subscription attached"),t.json())).then(t=>!0).catch(t=>{let n=new Error("ES1006 - Failed to register push notification with Engagespot server - "+t);Promise.reject(n)})}createNewDevice(){let e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)});return this.isNative||localStorage.setItem("_engagespotDeviceId",e),e}getDeviceId(){return this.isNative?localStorage.getItem("_engagespotDeviceId"):null}onNotificationReceive(e){return this.eventListenerStore.REALTIME_NOTIFICATION_RECEIVED.push(e),!0}onNotificationClick(e){return this.eventListenerStore.NOTIFICATION_CLICKED.push(e),!0}onNotificationDelete(e){return this.eventListenerStore.NOTIFICATION_DELETED.push(e),!0}onNotificationSee(e){return this.eventListenerStore.NOTIFICATION_SEEN.push(e),!0}onWebPushPermissionChange(e){return this.eventListenerStore.WEBPUSH_PERMISSION_CHANGED.push(e),!0}_log(e){this.debug&&console.log("[Engagespot-Core] ",e)}};gE(Ev,"isReady",!1);function OE(e){if(e==null)throw"ES1007 - You must pass your API key when you instantiate Engagespot."}var Cv=Ev;N();N();N();function ke(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}N();N();function oe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function le(e){oe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function jc(e,t){oe(2,arguments);var n=le(e),r=ke(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}N();function Wc(e,t){oe(2,arguments);var n=le(e).getTime(),r=ke(t);return new Date(n+r)}N();N();function Mt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}N();function uu(e){oe(1,arguments);var t=le(e);return t.setHours(0,0,0,0),t}var TE=864e5;function Hc(e,t){oe(2,arguments);var n=uu(e),r=uu(t),o=n.getTime()-Mt(n),i=r.getTime()-Mt(r);return Math.round((o-i)/TE)}N();function Er(e,t){oe(2,arguments);var n=le(e),r=le(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}N();N();function zc(e){return oe(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gc(e){if(oe(1,arguments),!zc(e)&&typeof e!="number")return!1;var t=le(e);return!isNaN(Number(t))}N();function $c(e,t){oe(2,arguments);var n=le(e),r=le(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}N();function Vc(e,t){return oe(2,arguments),le(e).getTime()-le(t).getTime()}N();var Ov={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},RE="trunc";function Tv(e){return e?Ov[e]:Ov[RE]}N();N();N();function Yc(e){oe(1,arguments);var t=le(e);return t.setHours(23,59,59,999),t}N();function Kc(e){oe(1,arguments);var t=le(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Qc(e){oe(1,arguments);var t=le(e);return Yc(t).getTime()===Kc(t).getTime()}function Xc(e,t){oe(2,arguments);var n=le(e),r=le(t),o=Er(n,r),i=Math.abs($c(n,r)),a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var u=Er(n,r)===-o;Qc(le(e))&&i===1&&Er(e,r)===1&&(u=!1),a=o*(i-Number(u))}return a===0?0:a}N();function qc(e,t,n){oe(2,arguments);var r=Vc(e,t)/1e3;return Tv(n==null?void 0:n.roundingMethod)(r)}N();N();N();var PE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AE=function(e,t,n){var r,o=PE[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},Rv=AE;N();N();function Ji(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var IE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ME={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DE={date:Ji({formats:IE,defaultWidth:"full"}),time:Ji({formats:ME,defaultWidth:"full"}),dateTime:Ji({formats:bE,defaultWidth:"full"})},Pv=DE;N();var kE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NE=function(e,t,n,r){return kE[e]},Av=NE;N();N();function Cr(e){return function(t,n){var r=n||{},o=r.context?String(r.context):"standalone",i;if(o==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,u=r.width?String(r.width):a;i=e.formattingValues[u]||e.formattingValues[a]}else{var d=e.defaultWidth,S=r.width?String(r.width):e.defaultWidth;i=e.values[S]||e.values[d]}var y=e.argumentCallback?e.argumentCallback(t):t;return i[y]}}var _E={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WE=function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},HE={ordinalNumber:WE,era:Cr({values:_E,defaultWidth:"wide"}),quarter:Cr({values:LE,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Cr({values:UE,defaultWidth:"wide"}),day:Cr({values:BE,defaultWidth:"wide"}),dayPeriod:Cr({values:FE,defaultWidth:"wide",formattingValues:jE,defaultFormattingWidth:"wide"})},Iv=HE;N();N();function Or(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var a=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?GE(u,function(E){return E.test(a)}):zE(u,function(E){return E.test(a)}),S;S=e.valueCallback?e.valueCallback(d):d,S=n.valueCallback?n.valueCallback(S):S;var y=t.slice(a.length);return{value:S,rest:y}}}function zE(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function GE(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}N();function Jc(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var u=t.slice(o.length);return{value:a,rest:u}}}var $E=/^(\d+)(th|st|nd|rd)?/i,VE=/\d+/i,YE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KE={any:[/^b/i,/^(a|c)/i]},QE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XE={any:[/1/i,/2/i,/3/i,/4/i]},qE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rC={ordinalNumber:Jc({matchPattern:$E,parsePattern:VE,valueCallback:function(e){return parseInt(e,10)}}),era:Or({matchPatterns:YE,defaultMatchWidth:"wide",parsePatterns:KE,defaultParseWidth:"any"}),quarter:Or({matchPatterns:QE,defaultMatchWidth:"wide",parsePatterns:XE,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Or({matchPatterns:qE,defaultMatchWidth:"wide",parsePatterns:JE,defaultParseWidth:"any"}),day:Or({matchPatterns:ZE,defaultMatchWidth:"wide",parsePatterns:eC,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:tC,defaultMatchWidth:"any",parsePatterns:nC,defaultParseWidth:"any"})},Mv=rC;var oC={code:"en-US",formatDistance:Rv,formatLong:Pv,formatRelative:Av,localize:Iv,match:Mv,options:{weekStartsOn:0,firstWeekContainsDate:1}},bo=oC;N();function Do(e,t){oe(2,arguments);var n=ke(t);return Wc(e,-n)}N();N();N();function Se(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var iC={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Se(t==="yy"?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):Se(n+1,2)},d:function(e,t){return Se(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return Se(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Se(e.getUTCHours(),t.length)},m:function(e,t){return Se(e.getUTCMinutes(),t.length)},s:function(e,t){return Se(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds(),o=Math.floor(r*Math.pow(10,n-3));return Se(o,t.length)}},hn=iC;N();var aC=864e5;function Zc(e){oe(1,arguments);var t=le(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/aC)+1}N();N();function Yn(e){oe(1,arguments);var t=1,n=le(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}N();N();function Zi(e){oe(1,arguments);var t=le(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Yn(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=Yn(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function ed(e){oe(1,arguments);var t=Zi(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Yn(n);return r}var sC=6048e5;function td(e){oe(1,arguments);var t=le(e),n=Yn(t).getTime()-ed(t).getTime();return Math.round(n/sC)+1}N();N();function Kn(e,t){oe(1,arguments);var n=t||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,i=o==null?0:ke(o),a=n.weekStartsOn==null?i:ke(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=le(e),d=u.getUTCDay(),S=(d<a?7:0)+d-a;return u.setUTCDate(u.getUTCDate()-S),u.setUTCHours(0,0,0,0),u}N();N();function ea(e,t){oe(1,arguments);var n=le(e),r=n.getUTCFullYear(),o=t||{},i=o.locale,a=i&&i.options&&i.options.firstWeekContainsDate,u=a==null?1:ke(a),d=o.firstWeekContainsDate==null?u:ke(o.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setUTCFullYear(r+1,0,d),S.setUTCHours(0,0,0,0);var y=Kn(S,t),E=new Date(0);E.setUTCFullYear(r,0,d),E.setUTCHours(0,0,0,0);var l=Kn(E,t);return n.getTime()>=y.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function nd(e,t){oe(1,arguments);var n=t||{},r=n.locale,o=r&&r.options&&r.options.firstWeekContainsDate,i=o==null?1:ke(o),a=n.firstWeekContainsDate==null?i:ke(n.firstWeekContainsDate),u=ea(e,t),d=new Date(0);d.setUTCFullYear(u,0,a),d.setUTCHours(0,0,0,0);var S=Kn(d,t);return S}var uC=6048e5;function rd(e,t){oe(1,arguments);var n=le(e),r=Kn(n,t).getTime()-nd(n,t).getTime();return Math.round(r/uC)+1}var ko={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lC={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return hn.y(e,t)},Y:function(e,t,n,r){var o=ea(e,r),i=o>0?o:1-o;if(t==="YY"){var a=i%100;return Se(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Se(i,t.length)},R:function(e,t){var n=Zi(e);return Se(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return Se(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Se(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Se(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return hn.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Se(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=rd(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Se(o,t.length)},I:function(e,t,n){var r=td(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Se(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):hn.d(e,t)},D:function(e,t,n){var r=Zc(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Se(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Se(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Se(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return Se(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours(),o=r/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r=e.getUTCHours(),o;switch(r===12?o=ko.noon:r===0?o=ko.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r=e.getUTCHours(),o;switch(r>=17?o=ko.evening:r>=12?o=ko.afternoon:r>=4?o=ko.morning:o=ko.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return hn.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):hn.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Se(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Se(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):hn.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):hn.s(e,t)},S:function(e,t){return hn.S(e,t)},X:function(e,t,n,r){var o=r._originalDate||e,i=o.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Dv(i);case"XXXX":case"XX":return Tr(i);case"XXXXX":case"XXX":default:return Tr(i,":")}},x:function(e,t,n,r){var o=r._originalDate||e,i=o.getTimezoneOffset();switch(t){case"x":return Dv(i);case"xxxx":case"xx":return Tr(i);case"xxxxx":case"xxx":default:return Tr(i,":")}},O:function(e,t,n,r){var o=r._originalDate||e,i=o.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bv(i,":");case"OOOO":default:return"GMT"+Tr(i,":")}},z:function(e,t,n,r){var o=r._originalDate||e,i=o.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bv(i,":");case"zzzz":default:return"GMT"+Tr(i,":")}},t:function(e,t,n,r){var o=r._originalDate||e,i=Math.floor(o.getTime()/1e3);return Se(i,t.length)},T:function(e,t,n,r){var o=r._originalDate||e,i=o.getTime();return Se(i,t.length)}};function bv(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;return i===0?n+String(o):n+String(o)+t+Se(i,2)}function Dv(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Se(Math.abs(e)/60,2)}return Tr(e,t)}function Tr(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=Se(Math.floor(o/60),2),a=Se(o%60,2);return r+i+n+a}var kv=lC;N();function Nv(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function _v(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function fC(e,t){var n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Nv(e,t);var i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Nv(r,t)).replace("{{time}}",_v(o,t))}var cC={p:_v,P:fC},Lv=cC;N();var dC=["D","DD"],pC=["YY","YYYY"];function Uv(e){return dC.indexOf(e)!==-1}function Bv(e){return pC.indexOf(e)!==-1}function od(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var hC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gC=/^'([^]*?)'?$/,vC=/''/g,yC=/[a-zA-Z]/;function No(e,t,n){oe(2,arguments);var r=String(t),o=n||{},i=o.locale||bo,a=i.options&&i.options.firstWeekContainsDate,u=a==null?1:ke(a),d=o.firstWeekContainsDate==null?u:ke(o.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=i.options&&i.options.weekStartsOn,y=S==null?0:ke(S),E=o.weekStartsOn==null?y:ke(o.weekStartsOn);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var l=le(e);if(!Gc(l))throw new RangeError("Invalid time value");var w=Mt(l),C=Do(l,w),O={firstWeekContainsDate:d,weekStartsOn:E,locale:i,_originalDate:l},h=r.match(mC).map(function(m){var v=m[0];if(v==="p"||v==="P"){var s=Lv[v];return s(m,i.formatLong,O)}return m}).join("").match(hC).map(function(m){if(m==="''")return"'";var v=m[0];if(v==="'")return SC(m);var s=kv[v];if(s)return!o.useAdditionalWeekYearTokens&&Bv(m)&&od(m,t,e),!o.useAdditionalDayOfYearTokens&&Uv(m)&&od(m,t,e),s(C,m,i.localize,O);if(v.match(yC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return m}).join("");return h}function SC(e){return e.match(gC)[1].replace(vC,"'")}N();N();N();function id(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");t=t||{};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function ad(e){return id({},e)}var Fv=1440,wC=2520,sd=43200,xC=86400;function ta(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};oe(2,arguments);var r=n.locale||bo;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Er(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var i=ad(n);i.addSuffix=Boolean(n.addSuffix),i.comparison=o;var a,u;o>0?(a=le(t),u=le(e)):(a=le(e),u=le(t));var d=qc(u,a),S=(Mt(u)-Mt(a))/1e3,y=Math.round((d-S)/60),E;if(y<2)return n.includeSeconds?d<5?r.formatDistance("lessThanXSeconds",5,i):d<10?r.formatDistance("lessThanXSeconds",10,i):d<20?r.formatDistance("lessThanXSeconds",20,i):d<40?r.formatDistance("halfAMinute",null,i):d<60?r.formatDistance("lessThanXMinutes",1,i):r.formatDistance("xMinutes",1,i):y===0?r.formatDistance("lessThanXMinutes",1,i):r.formatDistance("xMinutes",y,i);if(y<45)return r.formatDistance("xMinutes",y,i);if(y<90)return r.formatDistance("aboutXHours",1,i);if(y<Fv){var l=Math.round(y/60);return r.formatDistance("aboutXHours",l,i)}else{if(y<wC)return r.formatDistance("xDays",1,i);if(y<sd){var w=Math.round(y/Fv);return r.formatDistance("xDays",w,i)}else if(y<xC)return E=Math.round(y/sd),r.formatDistance("aboutXMonths",E,i)}if(E=Xc(u,a),E<12){var C=Math.round(y/sd);return r.formatDistance("xMonths",C,i)}else{var O=E%12,h=Math.floor(E/12);return O<3?r.formatDistance("aboutXYears",h,i):O<9?r.formatDistance("overXYears",h,i):r.formatDistance("almostXYears",h+1,i)}}N();function lu(e,t,n){oe(2,arguments);var r=le(e),o=le(t),i=n||{},a=i.locale,u=a===void 0?bo:a,d=i.weekStartsOn,S=d===void 0?0:d;if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");if(!u.formatRelative)throw new RangeError("locale must contain formatRelative property");var y=Hc(r,o);if(isNaN(y))throw new RangeError("Invalid time value");var E;y<-6?E="other":y<-1?E="lastWeek":y<0?E="yesterday":y<1?E="today":y<2?E="tomorrow":y<7?E="nextWeek":E="other";var l=Do(r,Mt(r)),w=Do(o,Mt(o)),C=u.formatRelative(E,l,w,{locale:u,weekStartsOn:S});return No(r,C,{locale:u,weekStartsOn:S})}N();function fu(e,t){oe(2,arguments);var n=ke(t);return jc(e,-n)}var Nr=ue(de()),Eu=ue(de()),S0=ue(de());N();N();var cu=ue(de());var ud=function(t){return t.reduce(function(n,r){var o=r[0],i=r[1];return n[o]=i,n},{})},ld=typeof window<"u"&&window.document&&window.document.createElement?cu.useLayoutEffect:cu.useEffect;N();var qn=ue(de()),u0=ue(To());N();N();var Le="top",Ve="bottom",He="right",Be="left",du="auto",Qn=[Le,Ve,He,Be],mn="start",Rr="end",jv="clippingParents",pu="viewport",_o="popper",Wv="reference",fd=Qn.reduce(function(e,t){return e.concat([t+"-"+mn,t+"-"+Rr])},[]),hu=[].concat(Qn,[du]).reduce(function(e,t){return e.concat([t,t+"-"+mn,t+"-"+Rr])},[]),EC="beforeRead",CC="read",OC="afterRead",TC="beforeMain",RC="main",PC="afterMain",AC="beforeWrite",IC="write",MC="afterWrite",Hv=[EC,CC,OC,TC,RC,PC,AC,IC,MC];N();N();function Qe(e){return e?(e.nodeName||"").toLowerCase():null}N();N();function Fe(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function en(e){var t=Fe(e).Element;return e instanceof t||e instanceof Element}function Ye(e){var t=Fe(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Lo(e){if(typeof ShadowRoot>"u")return!1;var t=Fe(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function bC(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!Ye(i)||!Qe(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(a){var u=o[a];u===!1?i.removeAttribute(a):i.setAttribute(a,u===!0?"":u)}))})}function DC(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=a.reduce(function(d,S){return d[S]="",d},{});!Ye(o)||!Qe(o)||(Object.assign(o.style,u),Object.keys(i).forEach(function(d){o.removeAttribute(d)}))})}}var zv={name:"applyStyles",enabled:!0,phase:"write",fn:bC,effect:DC,requires:["computeStyles"]};N();N();function Xe(e){return e.split("-")[0]}N();N();N();var jt=Math.max,Pr=Math.min,gn=Math.round;function bt(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(Ye(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=gn(n.width)/a||1),i>0&&(o=gn(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function Ar(e){var t=bt(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}N();function na(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Lo(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}N();N();function dt(e){return Fe(e).getComputedStyle(e)}N();function cd(e){return["table","td","th"].indexOf(Qe(e))>=0}N();N();function rt(e){return((en(e)?e.ownerDocument:e.document)||window.document).documentElement}function vn(e){return Qe(e)==="html"?e:e.assignedSlot||e.parentNode||(Lo(e)?e.host:null)||rt(e)}function Gv(e){return!Ye(e)||dt(e).position==="fixed"?null:e.offsetParent}function kC(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Ye(e)){var r=dt(e);if(r.position==="fixed")return null}var o=vn(e);for(Lo(o)&&(o=o.host);Ye(o)&&["html","body"].indexOf(Qe(o))<0;){var i=dt(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Wt(e){for(var t=Fe(e),n=Gv(e);n&&cd(n)&&dt(n).position==="static";)n=Gv(n);return n&&(Qe(n)==="html"||Qe(n)==="body"&&dt(n).position==="static")?t:n||kC(e)||t}N();function Ir(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}N();function Mr(e,t,n){return jt(e,Pr(t,n))}function $v(e,t,n){var r=Mr(e,t,n);return r>n?n:r}N();N();function ra(){return{top:0,right:0,bottom:0,left:0}}function oa(e){return Object.assign({},ra(),e)}N();function ia(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var NC=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,oa(typeof t!="number"?t:ia(t,Qn))};function _C(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,u=Xe(n.placement),d=Ir(u),S=[Be,He].indexOf(u)>=0,y=S?"height":"width";if(!(!i||!a)){var E=NC(o.padding,n),l=Ar(i),w=d==="y"?Le:Be,C=d==="y"?Ve:He,O=n.rects.reference[y]+n.rects.reference[d]-a[d]-n.rects.popper[y],h=a[d]-n.rects.reference[d],m=Wt(i),v=m?d==="y"?m.clientHeight||0:m.clientWidth||0:0,s=O/2-h/2,f=E[w],c=v-l[y]-E[C],g=v/2-l[y]/2+s,p=Mr(f,g,c),x=d;n.modifiersData[r]=(t={},t[x]=p,t.centerOffset=p-g,t)}}function LC(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||!na(t.elements.popper,o)||(t.elements.arrow=o))}var Vv={name:"arrow",enabled:!0,phase:"main",fn:_C,effect:LC,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};N();N();function Dt(e){return e.split("-")[1]}var UC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BC(e){var t=e.x,n=e.y,r=window,o=r.devicePixelRatio||1;return{x:gn(t*o)/o||0,y:gn(n*o)/o||0}}function Yv(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,u=e.position,d=e.gpuAcceleration,S=e.adaptive,y=e.roundOffsets,E=e.isFixed,l=a.x,w=l===void 0?0:l,C=a.y,O=C===void 0?0:C,h=typeof y=="function"?y({x:w,y:O}):{x:w,y:O};w=h.x,O=h.y;var m=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),s=Be,f=Le,c=window;if(S){var g=Wt(n),p="clientHeight",x="clientWidth";if(g===Fe(n)&&(g=rt(n),dt(g).position!=="static"&&u==="absolute"&&(p="scrollHeight",x="scrollWidth")),g=g,o===Le||(o===Be||o===He)&&i===Rr){f=Ve;var T=E&&g===c&&c.visualViewport?c.visualViewport.height:g[p];O-=T-r.height,O*=d?1:-1}if(o===Be||(o===Le||o===Ve)&&i===Rr){s=He;var A=E&&g===c&&c.visualViewport?c.visualViewport.width:g[x];w-=A-r.width,w*=d?1:-1}}var k=Object.assign({position:u},S&&UC),D=y===!0?BC({x:w,y:O}):{x:w,y:O};if(w=D.x,O=D.y,d){var M;return Object.assign({},k,(M={},M[f]=v?"0":"",M[s]=m?"0":"",M.transform=(c.devicePixelRatio||1)<=1?"translate("+w+"px, "+O+"px)":"translate3d("+w+"px, "+O+"px, 0)",M))}return Object.assign({},k,(t={},t[f]=v?O+"px":"",t[s]=m?w+"px":"",t.transform="",t))}function FC(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,u=n.roundOffsets,d=u===void 0?!0:u;if(!1)var S;var y={placement:Xe(t.placement),variation:Dt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Yv(Object.assign({},y,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Yv(Object.assign({},y,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Kv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:FC,data:{}};N();var mu={passive:!0};function jC(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,a=r.resize,u=a===void 0?!0:a,d=Fe(t.elements.popper),S=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&S.forEach(function(y){y.addEventListener("scroll",n.update,mu)}),u&&d.addEventListener("resize",n.update,mu),function(){i&&S.forEach(function(y){y.removeEventListener("scroll",n.update,mu)}),u&&d.removeEventListener("resize",n.update,mu)}}var Qv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jC,data:{}};N();N();var WC={left:"right",right:"left",bottom:"top",top:"bottom"};function Uo(e){return e.replace(/left|right|bottom|top/g,function(t){return WC[t]})}N();var HC={start:"end",end:"start"};function gu(e){return e.replace(/start|end/g,function(t){return HC[t]})}N();N();N();N();N();function br(e){var t=Fe(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Dr(e){return bt(rt(e)).left+br(e).scrollLeft}function dd(e){var t=Fe(e),n=rt(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,u=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,u=r.offsetTop)),{width:o,height:i,x:a+Dr(e),y:u}}N();function pd(e){var t,n=rt(e),r=br(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=jt(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=jt(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-r.scrollLeft+Dr(e),d=-r.scrollTop;return dt(o||n).direction==="rtl"&&(u+=jt(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:u,y:d}}N();N();N();function kr(e){var t=dt(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function vu(e){return["html","body","#document"].indexOf(Qe(e))>=0?e.ownerDocument.body:Ye(e)&&kr(e)?e:vu(vn(e))}function Xn(e,t){var n;t===void 0&&(t=[]);var r=vu(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=Fe(r),a=o?[i].concat(i.visualViewport||[],kr(r)?r:[]):r,u=t.concat(a);return o?u:u.concat(Xn(vn(a)))}N();function Bo(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function zC(e){var t=bt(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Xv(e,t){return t===pu?Bo(dd(e)):en(t)?zC(t):Bo(pd(rt(e)))}function GC(e){var t=Xn(vn(e)),n=["absolute","fixed"].indexOf(dt(e).position)>=0,r=n&&Ye(e)?Wt(e):e;return en(r)?t.filter(function(o){return en(o)&&na(o,r)&&Qe(o)!=="body"}):[]}function hd(e,t,n){var r=t==="clippingParents"?GC(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce(function(u,d){var S=Xv(e,d);return u.top=jt(S.top,u.top),u.right=Pr(S.right,u.right),u.bottom=Pr(S.bottom,u.bottom),u.left=jt(S.left,u.left),u},Xv(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}N();function aa(e){var t=e.reference,n=e.element,r=e.placement,o=r?Xe(r):null,i=r?Dt(r):null,a=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,d;switch(o){case Le:d={x:a,y:t.y-n.height};break;case Ve:d={x:a,y:t.y+t.height};break;case He:d={x:t.x+t.width,y:u};break;case Be:d={x:t.x-n.width,y:u};break;default:d={x:t.x,y:t.y}}var S=o?Ir(o):null;if(S!=null){var y=S==="y"?"height":"width";switch(i){case mn:d[S]=d[S]-(t[y]/2-n[y]/2);break;case Rr:d[S]=d[S]+(t[y]/2-n[y]/2);break;default:}}return d}function Ht(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.boundary,a=i===void 0?jv:i,u=n.rootBoundary,d=u===void 0?pu:u,S=n.elementContext,y=S===void 0?_o:S,E=n.altBoundary,l=E===void 0?!1:E,w=n.padding,C=w===void 0?0:w,O=oa(typeof C!="number"?C:ia(C,Qn)),h=y===_o?Wv:_o,m=e.rects.popper,v=e.elements[l?h:y],s=hd(en(v)?v:v.contextElement||rt(e.elements.popper),a,d),f=bt(e.elements.reference),c=aa({reference:f,element:m,strategy:"absolute",placement:o}),g=Bo(Object.assign({},m,c)),p=y===_o?g:f,x={top:s.top-p.top+O.top,bottom:p.bottom-s.bottom+O.bottom,left:s.left-p.left+O.left,right:p.right-s.right+O.right},T=e.modifiersData.offset;if(y===_o&&T){var A=T[o];Object.keys(x).forEach(function(k){var D=[He,Ve].indexOf(k)>=0?1:-1,M=[Le,Ve].indexOf(k)>=0?"y":"x";x[k]+=A[M]*D})}return x}N();function md(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,u=n.flipVariations,d=n.allowedAutoPlacements,S=d===void 0?hu:d,y=Dt(r),E=y?u?fd:fd.filter(function(C){return Dt(C)===y}):Qn,l=E.filter(function(C){return S.indexOf(C)>=0});l.length===0&&(l=E);var w=l.reduce(function(C,O){return C[O]=Ht(e,{placement:O,boundary:o,rootBoundary:i,padding:a})[Xe(O)],C},{});return Object.keys(w).sort(function(C,O){return w[C]-w[O]})}function $C(e){if(Xe(e)===du)return[];var t=Uo(e);return[gu(e),t,gu(t)]}function VC(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,u=a===void 0?!0:a,d=n.fallbackPlacements,S=n.padding,y=n.boundary,E=n.rootBoundary,l=n.altBoundary,w=n.flipVariations,C=w===void 0?!0:w,O=n.allowedAutoPlacements,h=t.options.placement,m=Xe(h),v=m===h,s=d||(v||!C?[Uo(h)]:$C(h)),f=[h].concat(s).reduce(function(H,U){return H.concat(Xe(U)===du?md(t,{placement:U,boundary:y,rootBoundary:E,padding:S,flipVariations:C,allowedAutoPlacements:O}):U)},[]),c=t.rects.reference,g=t.rects.popper,p=new Map,x=!0,T=f[0],A=0;A<f.length;A++){var k=f[A],D=Xe(k),M=Dt(k)===mn,R=[Le,Ve].indexOf(D)>=0,I=R?"width":"height",B=Ht(t,{placement:k,boundary:y,rootBoundary:E,altBoundary:l,padding:S}),L=R?M?He:Be:M?Ve:Le;c[I]>g[I]&&(L=Uo(L));var W=Uo(L),z=[];if(i&&z.push(B[D]<=0),u&&z.push(B[L]<=0,B[W]<=0),z.every(function(H){return H})){T=k,x=!1;break}p.set(k,z)}if(x)for(var b=C?3:1,F=function(U){var j=f.find(function(q){var Y=p.get(q);if(Y)return Y.slice(0,U).every(function(Z){return Z})});if(j)return T=j,"break"},P=b;P>0;P--){var _=F(P);if(_==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}var qv={name:"flip",enabled:!0,phase:"main",fn:VC,requiresIfExists:["offset"],data:{_skip:!1}};N();function Jv(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Zv(e){return[Le,He,Ve,Be].some(function(t){return e[t]>=0})}function YC(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Ht(t,{elementContext:"reference"}),u=Ht(t,{altBoundary:!0}),d=Jv(a,r),S=Jv(u,o,i),y=Zv(d),E=Zv(S);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:S,isReferenceHidden:y,hasPopperEscaped:E},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":E})}var e0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:YC};N();function KC(e,t,n){var r=Xe(e),o=[Be,Le].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],u=i[1];return a=a||0,u=(u||0)*o,[Be,He].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}function QC(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,a=hu.reduce(function(y,E){return y[E]=KC(E,t.rects,i),y},{}),u=a[t.placement],d=u.x,S=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=S),t.modifiersData[r]=a}var t0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:QC};N();function XC(e){var t=e.state,n=e.name;t.modifiersData[n]=aa({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var n0={name:"popperOffsets",enabled:!0,phase:"read",fn:XC,data:{}};N();N();function gd(e){return e==="x"?"y":"x"}function qC(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,u=a===void 0?!1:a,d=n.boundary,S=n.rootBoundary,y=n.altBoundary,E=n.padding,l=n.tether,w=l===void 0?!0:l,C=n.tetherOffset,O=C===void 0?0:C,h=Ht(t,{boundary:d,rootBoundary:S,padding:E,altBoundary:y}),m=Xe(t.placement),v=Dt(t.placement),s=!v,f=Ir(m),c=gd(f),g=t.modifiersData.popperOffsets,p=t.rects.reference,x=t.rects.popper,T=typeof O=="function"?O(Object.assign({},t.rects,{placement:t.placement})):O,A=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(!!g){if(i){var M,R=f==="y"?Le:Be,I=f==="y"?Ve:He,B=f==="y"?"height":"width",L=g[f],W=L+h[R],z=L-h[I],b=w?-x[B]/2:0,F=v===mn?p[B]:x[B],P=v===mn?-x[B]:-p[B],_=t.elements.arrow,H=w&&_?Ar(_):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ra(),j=U[R],q=U[I],Y=Mr(0,p[B],H[B]),Z=s?p[B]/2-b-Y-j-A.mainAxis:F-Y-j-A.mainAxis,re=s?-p[B]/2+b+Y+q+A.mainAxis:P+Y+q+A.mainAxis,te=t.elements.arrow&&Wt(t.elements.arrow),Q=te?f==="y"?te.clientTop||0:te.clientLeft||0:0,he=(M=k==null?void 0:k[f])!=null?M:0,G=L+Z-he-Q,$=L+re-he,K=Mr(w?Pr(W,G):W,L,w?jt(z,$):z);g[f]=K,D[f]=K-L}if(u){var X,ie=f==="x"?Le:Be,xe=f==="x"?Ve:He,ge=g[c],Nt=c==="y"?"height":"width",Vt=ge+h[ie],pt=ge-h[xe],fe=[Le,Be].indexOf(m)!==-1,be=(X=k==null?void 0:k[c])!=null?X:0,zr=fe?Vt:ge-p[Nt]-x[Nt]-be+A.altAxis,Gr=fe?ge+p[Nt]+x[Nt]-be-A.altAxis:pt,_t=w&&fe?$v(zr,ge,Gr):Mr(w?zr:Vt,ge,w?Gr:pt);g[c]=_t,D[c]=_t-ge}t.modifiersData[r]=D}}var r0={name:"preventOverflow",enabled:!0,phase:"main",fn:qC,requiresIfExists:["offset"]};N();N();N();N();function vd(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function yd(e){return e===Fe(e)||!Ye(e)?br(e):vd(e)}function JC(e){var t=e.getBoundingClientRect(),n=gn(t.width)/e.offsetWidth||1,r=gn(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Sd(e,t,n){n===void 0&&(n=!1);var r=Ye(t),o=Ye(t)&&JC(t),i=rt(t),a=bt(e,o),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((Qe(t)!=="body"||kr(i))&&(u=yd(t)),Ye(t)?(d=bt(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=Dr(i))),{x:a.left+u.scrollLeft-d.x,y:a.top+u.scrollTop-d.y,width:a.width,height:a.height}}N();function ZC(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(u){if(!n.has(u)){var d=t.get(u);d&&o(d)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function wd(e){var t=ZC(e);return Hv.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}N();function xd(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}N();function Ed(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var o0={placement:"bottom",modifiers:[],strategy:"absolute"};function i0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function a0(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?o0:o;return function(u,d,S){S===void 0&&(S=i);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},o0,i),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},E=[],l=!1,w={state:y,setOptions:function(m){var v=typeof m=="function"?m(y.options):m;O(),y.options=Object.assign({},i,y.options,v),y.scrollParents={reference:en(u)?Xn(u):u.contextElement?Xn(u.contextElement):[],popper:Xn(d)};var s=wd(Ed([].concat(r,y.options.modifiers)));if(y.orderedModifiers=s.filter(function(k){return k.enabled}),!1){var f;if(getBasePlacement(y.options.placement)===auto)var c;var g,p,x,T,A}return C(),w.update()},forceUpdate:function(){if(!l){var m=y.elements,v=m.reference,s=m.popper;if(!!i0(v,s)){y.rects={reference:Sd(v,Wt(s),y.options.strategy==="fixed"),popper:Ar(s)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(k){return y.modifiersData[k.name]=Object.assign({},k.data)});for(var f=0,c=0;c<y.orderedModifiers.length;c++){if(y.reset===!0){y.reset=!1,c=-1;continue}var g=y.orderedModifiers[c],p=g.fn,x=g.options,T=x===void 0?{}:x,A=g.name;typeof p=="function"&&(y=p({state:y,options:T,name:A,instance:w})||y)}}}},update:xd(function(){return new Promise(function(h){w.forceUpdate(),h(y)})}),destroy:function(){O(),l=!0}};if(!i0(u,d))return w;w.setOptions(S).then(function(h){!l&&S.onFirstUpdate&&S.onFirstUpdate(h)});function C(){y.orderedModifiers.forEach(function(h){var m=h.name,v=h.options,s=v===void 0?{}:v,f=h.effect;if(typeof f=="function"){var c=f({state:y,name:m,instance:w,options:s}),g=function(){};E.push(c||g)}})}function O(){E.forEach(function(h){return h()}),E=[]}return w}}N();var eO=[Qv,n0,Kv,zv,t0,qv,r0,Vv,e0],sa=a0({defaultModifiers:eO});var l0=ue(Cd());var iO=[],Od=function(t,n,r){r===void 0&&(r={});var o=qn.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||iO},a=qn.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=a[0],d=a[1],S=qn.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(w){var C=w.state,O=Object.keys(C.elements);u0.flushSync(function(){d({styles:ud(O.map(function(h){return[h,C.styles[h]||{}]})),attributes:ud(O.map(function(h){return[h,C.attributes[h]]}))})})},requires:["computeStyles"]}},[]),y=qn.useMemo(function(){var l={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[S,{name:"applyStyles",enabled:!1}])};return(0,l0.default)(o.current,l)?o.current||l:(o.current=l,l)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,S]),E=qn.useRef();return ld(function(){E.current&&E.current.setOptions(y)},[y]),ld(function(){if(!(t==null||n==null)){var l=r.createPopper||sa,w=l(t,n,y);return E.current=w,function(){w.destroy(),E.current=null}}},[t,n,r.createPopper]),{state:E.current?E.current.state:null,styles:u.styles,attributes:u.attributes,update:E.current?E.current.update:null,forceUpdate:E.current?E.current.forceUpdate:null}};N();(function(){"use strict";if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}function e(s){try{return s.defaultView&&s.defaultView.frameElement||null}catch{return null}}var t=function(s){for(var f=s,c=e(f);c;)f=c.ownerDocument,c=e(f);return f}(window.document),n=[],r=null,o=null;function i(s){this.time=s.time,this.target=s.target,this.rootBounds=C(s.rootBounds),this.boundingClientRect=C(s.boundingClientRect),this.intersectionRect=C(s.intersectionRect||w()),this.isIntersecting=!!s.intersectionRect;var f=this.boundingClientRect,c=f.width*f.height,g=this.intersectionRect,p=g.width*g.height;c?this.intersectionRatio=Number((p/c).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function a(s,f){var c=f||{};if(typeof s!="function")throw new Error("callback must be a function");if(c.root&&c.root.nodeType!=1&&c.root.nodeType!=9)throw new Error("root must be a Document or Element");this._checkForIntersections=d(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=s,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(c.rootMargin),this.thresholds=this._initThresholds(c.threshold),this.root=c.root||null,this.rootMargin=this._rootMarginValues.map(function(g){return g.value+g.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return r||(r=function(s,f){!s||!f?o=w():o=O(s,f),n.forEach(function(c){c._checkForIntersections()})}),r},a._resetCrossOriginUpdater=function(){r=null,o=null},a.prototype.observe=function(s){var f=this._observationTargets.some(function(c){return c.element==s});if(!f){if(!(s&&s.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:s,entry:null}),this._monitorIntersections(s.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(s){this._observationTargets=this._observationTargets.filter(function(f){return f.element!=s}),this._unmonitorIntersections(s.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var s=this._queuedEntries.slice();return this._queuedEntries=[],s},a.prototype._initThresholds=function(s){var f=s||[0];return Array.isArray(f)||(f=[f]),f.sort().filter(function(c,g,p){if(typeof c!="number"||isNaN(c)||c<0||c>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return c!==p[g-1]})},a.prototype._parseRootMargin=function(s){var f=s||"0px",c=f.split(/\s+/).map(function(g){var p=/^(-?\d*\.?\d+)(px|%)$/.exec(g);if(!p)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(p[1]),unit:p[2]}});return c[1]=c[1]||c[0],c[2]=c[2]||c[0],c[3]=c[3]||c[1],c},a.prototype._monitorIntersections=function(s){var f=s.defaultView;if(!!f&&this._monitoringDocuments.indexOf(s)==-1){var c=this._checkForIntersections,g=null,p=null;this.POLL_INTERVAL?g=f.setInterval(c,this.POLL_INTERVAL):(S(f,"resize",c,!0),S(s,"scroll",c,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in f&&(p=new f.MutationObserver(c),p.observe(s,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(s),this._monitoringUnsubscribes.push(function(){var A=s.defaultView;A&&(g&&A.clearInterval(g),y(A,"resize",c,!0)),y(s,"scroll",c,!0),p&&p.disconnect()});var x=this.root&&(this.root.ownerDocument||this.root)||t;if(s!=x){var T=e(s);T&&this._monitorIntersections(T.ownerDocument)}}},a.prototype._unmonitorIntersections=function(s){var f=this._monitoringDocuments.indexOf(s);if(f!=-1){var c=this.root&&(this.root.ownerDocument||this.root)||t,g=this._observationTargets.some(function(T){var A=T.element.ownerDocument;if(A==s)return!0;for(;A&&A!=c;){var k=e(A);if(A=k&&k.ownerDocument,A==s)return!0}return!1});if(!g){var p=this._monitoringUnsubscribes[f];if(this._monitoringDocuments.splice(f,1),this._monitoringUnsubscribes.splice(f,1),p(),s!=c){var x=e(s);x&&this._unmonitorIntersections(x.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var s=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var f=0;f<s.length;f++)s[f]()},a.prototype._checkForIntersections=function(){if(!(!this.root&&r&&!o)){var s=this._rootIsInDom(),f=s?this._getRootRect():w();this._observationTargets.forEach(function(c){var g=c.element,p=l(g),x=this._rootContainsTarget(g),T=c.entry,A=s&&x&&this._computeTargetAndRootIntersection(g,p,f),k=null;this._rootContainsTarget(g)?(!r||this.root)&&(k=f):k=w();var D=c.entry=new i({time:u(),target:g,boundingClientRect:p,rootBounds:k,intersectionRect:A});T?s&&x?this._hasCrossedThreshold(T,D)&&this._queuedEntries.push(D):T&&T.isIntersecting&&this._queuedEntries.push(D):this._queuedEntries.push(D)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(s,f,c){if(window.getComputedStyle(s).display!="none"){for(var g=f,p=m(s),x=!1;!x&&p;){var T=null,A=p.nodeType==1?window.getComputedStyle(p):{};if(A.display=="none")return null;if(p==this.root||p.nodeType==9)if(x=!0,p==this.root||p==t)r&&!this.root?!o||o.width==0&&o.height==0?(p=null,T=null,g=null):T=o:T=c;else{var k=m(p),D=k&&l(k),M=k&&this._computeTargetAndRootIntersection(k,D,c);D&&M?(p=k,T=O(D,M)):(p=null,g=null)}else{var R=p.ownerDocument;p!=R.body&&p!=R.documentElement&&A.overflow!="visible"&&(T=l(p))}if(T&&(g=E(T,g)),!g)break;p=p&&m(p)}return g}},a.prototype._getRootRect=function(){var s;if(this.root&&!v(this.root))s=l(this.root);else{var f=v(this.root)?this.root:t,c=f.documentElement,g=f.body;s={top:0,left:0,right:c.clientWidth||g.clientWidth,width:c.clientWidth||g.clientWidth,bottom:c.clientHeight||g.clientHeight,height:c.clientHeight||g.clientHeight}}return this._expandRectByRootMargin(s)},a.prototype._expandRectByRootMargin=function(s){var f=this._rootMarginValues.map(function(g,p){return g.unit=="px"?g.value:g.value*(p%2?s.width:s.height)/100}),c={top:s.top-f[0],right:s.right+f[1],bottom:s.bottom+f[2],left:s.left-f[3]};return c.width=c.right-c.left,c.height=c.bottom-c.top,c},a.prototype._hasCrossedThreshold=function(s,f){var c=s&&s.isIntersecting?s.intersectionRatio||0:-1,g=f.isIntersecting?f.intersectionRatio||0:-1;if(c!==g)for(var p=0;p<this.thresholds.length;p++){var x=this.thresholds[p];if(x==c||x==g||x<c!=x<g)return!0}},a.prototype._rootIsInDom=function(){return!this.root||h(t,this.root)},a.prototype._rootContainsTarget=function(s){var f=this.root&&(this.root.ownerDocument||this.root)||t;return h(f,s)&&(!this.root||f==s.ownerDocument)},a.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},a.prototype._unregisterInstance=function(){var s=n.indexOf(this);s!=-1&&n.splice(s,1)};function u(){return window.performance&&performance.now&&performance.now()}function d(s,f){var c=null;return function(){c||(c=setTimeout(function(){s(),c=null},f))}}function S(s,f,c,g){typeof s.addEventListener=="function"?s.addEventListener(f,c,g||!1):typeof s.attachEvent=="function"&&s.attachEvent("on"+f,c)}function y(s,f,c,g){typeof s.removeEventListener=="function"?s.removeEventListener(f,c,g||!1):typeof s.detatchEvent=="function"&&s.detatchEvent("on"+f,c)}function E(s,f){var c=Math.max(s.top,f.top),g=Math.min(s.bottom,f.bottom),p=Math.max(s.left,f.left),x=Math.min(s.right,f.right),T=x-p,A=g-c;return T>=0&&A>=0&&{top:c,bottom:g,left:p,right:x,width:T,height:A}||null}function l(s){var f;try{f=s.getBoundingClientRect()}catch{}return f?(f.width&&f.height||(f={top:f.top,right:f.right,bottom:f.bottom,left:f.left,width:f.right-f.left,height:f.bottom-f.top}),f):w()}function w(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function C(s){return!s||"x"in s?s:{top:s.top,y:s.top,bottom:s.bottom,left:s.left,x:s.left,right:s.right,width:s.width,height:s.height}}function O(s,f){var c=f.top-s.top,g=f.left-s.left;return{top:c,left:g,height:f.height,width:f.width,bottom:c+f.height,right:g+f.width}}function h(s,f){for(var c=f;c;){if(c==s)return!0;c=m(c)}return!1}function m(s){var f=s.parentNode;return s.nodeType==9&&s!=t?e(s):(f&&f.assignedSlot&&(f=f.assignedSlot.parentNode),f&&f.nodeType==11&&f.host?f.host:f)}function v(s){return s&&s.nodeType===9}window.IntersectionObserver=a,window.IntersectionObserverEntry=i})();var Fo=ue(de());var Cu=ue(de()),yn=ue(de());N();N();var f0=typeof window<"u";N();var Su=ue(de());var aO=function(e,t){return t!==void 0?t:f0?window.matchMedia(e).matches:!1},sO=function(e,t){var n=(0,Su.useState)(aO(e,t)),r=n[0],o=n[1];return(0,Su.useEffect)(function(){var i=!0,a=window.matchMedia(e),u=function(){!i||o(!!a.matches)};return a.addListener(u),o(a.matches),function(){i=!1,a.removeListener(u)}},[e]),r},Td=sO;var uO=Object.defineProperty,lO=Object.defineProperties,fO=Object.getOwnPropertyDescriptors,xu=Object.getOwnPropertySymbols,p0=Object.prototype.hasOwnProperty,h0=Object.prototype.propertyIsEnumerable,c0=(e,t,n)=>t in e?uO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pe=(e,t)=>{for(var n in t||(t={}))p0.call(t,n)&&c0(e,n,t[n]);if(xu)for(var n of xu(t))h0.call(t,n)&&c0(e,n,t[n]);return e},we=(e,t)=>lO(e,fO(t)),ua=(e,t)=>{var n={};for(var r in e)p0.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xu)for(var r of xu(e))t.indexOf(r)<0&&h0.call(e,r)&&(n[r]=e[r]);return n};function cO(e,t,n){return new Cv(e,we(pe({},n),{userId:t}))}function dO(e){let t=e,{userId:n,apiKey:r}=t,o=ua(t,["userId","apiKey"]),i=e.core!=null&&(e.core.userId!==e.userId||e.core.apiKey!==e.apiKey);return(!e.core||i)&&n&&r&&(e.core=cO(r,n,pe({},o))),i}var m0=e=>ta(new Date(e),new Date,{addSuffix:!0}),pO={format:No,formatDistance:ta,formatRelative:lu,subDays:fu};function hO(e){return t=>we(pe({},t),{created:e((t==null?void 0:t.createdAt)??"",pO)})}var se={Init:"Init"},Jn=(e,t)=>({type:e,payload:pe({},t)}),g0={page:1,data:[],rawData:[],hasMore:!1,unreadCount:0,webPushData:{},preferences:{channels:[],userPreferences:{}}};se.SetData="SetData";se.DeleteNotification="DeleteNotification";se.SetUnreadCount="SetUnreadCount";se.IncrementUnreadCount="IncrementUnreadCount";se.DecrementUnreadCount="DecrementUnreadCount";se.AddNotification="AddNotification";se.MarkAsRead="MarkAsRead";se.MarkAllAsSeen="MarkAllAsSeen";se.SetPreferences="SetPreferences";se.SetCategories="SetCategories";se.SetInitialPreferences="SetInitialPreferences";var mO=function(e,t,n,r){var o,i,a,u,d,S,y;let E=r.formatDate||m0,l=hO(E),w=C=>pe({},l(C));if(t.type===se.Init)return g0;if(t.type===se.SetData){let C=(o=t.payload)==null?void 0:o.result,O=C.data.map(w),h=C.currentPage==1?{itemsPerPage:C.itemsPerPage,totalCount:C.totalCount,totalPages:C.totalPages,unreadCount:C.unreadCount}:{},m=e.rawData.concat([we(pe({},C),{notifications:O})]);return delete m.data,we(pe(we(pe({},e),{currentPage:C.currentPage}),h),{rawData:m})}else if(t.type===se.DeleteNotification){let C=e.rawData,O=(i=t.payload)==null?void 0:i.notificationId,h=C.map((m,v)=>{let s=m.notifications.findIndex(c=>c.id===O);if(s<0)return m;let f=[...m.notifications];return f.splice(s,1),we(pe({},m),{notifications:f})});return we(pe({},e),{rawData:h})}else{if(t.type===se.SetUnreadCount)return we(pe({},e),{unreadCount:(a=t.payload)==null?void 0:a.unreadCount});if(t.type===se.IncrementUnreadCount)return we(pe({},e),{unreadCount:e.unreadCount+1});if(t.type===se.DecrementUnreadCount)return we(pe({},e),{unreadCount:e.unreadCount-1});if(t.type===se.AddNotification){let C=e.rawData,O=(u=t.payload)==null?void 0:u.notification,h=[{notifications:[w(O)]}].concat(C);return we(pe({},e),{rawData:h})}else if(t.type===se.MarkAsRead){let C=e.rawData,O=(d=t.payload)==null?void 0:d.notificationId,h=C.map((m,v)=>{let s=m.notifications.map(f=>f.id!==O||f.clickedAt?f:we(pe({},f),{clickedAt:new Date().toUTCString()}));return we(pe({},m),{notifications:s})});return we(pe({},e),{rawData:h})}else if(t.type===se.SetInitialPreferences){let C=(S=t.payload)==null?void 0:S.preferences;return we(pe({},e),{preferences:pe({},C)})}else if(t.type===se.SetPreferences){let C=(y=t.payload)==null?void 0:y.preferences,O=e.preferences.userPreferences.map(h=>{var m;let v=C.find(f=>h.category.id===f.categoryId);if(!v)return h;let s=pe({},h);return(m=v==null?void 0:v.channels)==null||m.forEach(f=>{var c=f.channel;s.channels[c].enabled=Boolean(f.enabled)}),s});return we(pe({},e),{preferences:we(pe({},e.preferences),{userPreferences:O})})}}return e},gO=function(e){return e};function v0(e){e.stateReducers.push(mO),e.dataTransformer.push(gO),e.useInstance.push(vO)}v0.pluginName="useNotifications";function vO(e){let t=e.events,n=u=>{e.dispatch({type:se.SetData,payload:{result:u}})},r=(0,Nr.useCallback)(u=>{e.core.deleteNotification(u),e.dispatch(Jn(se.DeleteNotification,{notificationId:u}))},[]),o=(0,Nr.useCallback)(u=>{e.core.markAsRead(u),e.dispatch(Jn(se.MarkAsRead,{notificationId:u}))},[]),i=(0,Nr.useCallback)(()=>{e.core.getNotificationList().markAllAsSeen(),e.dispatch(Jn(se.MarkAllAsSeen))},[]);(0,Nr.useEffect)(()=>{async function u(){let d=await e.core.getNotificationList().fetch(e.reducerState.page||1);n(d)}u()},[e.reducerState.page,e.apiKey,e.userId]),(0,Nr.useEffect)(()=>{e.core.onNotificationReceive(d=>{var S;e.dispatch(Jn(se.AddNotification,{notification:d})),(S=t==null?void 0:t.onNotificationReceive)==null||S.call(t,d)}),e.core.onNotificationDelete(d=>{var S;e.dispatch(Jn(se.DeleteNotification,{notificationId:d})),(S=t==null?void 0:t.onNotificationDelete)==null||S.call(t,d)}),e.core.onNotificationClick(d=>{var S;e.dispatch(Jn(se.MarkAsRead,{notificationId:d})),(S=t==null?void 0:t.onNotificationClick)==null||S.call(t,d)}),e.core.onNotificationSee(d=>{var S;(S=t==null?void 0:t.onNotificationSee)==null||S.call(t,d)});async function u(){if(!e.apiKey||!e.userId||!await e.core.isReady())return;let d=e.core.enabledChannels,S=d.map(l=>e.core.supportedChannels[l]),y=await e.core.getPreferences();var E=(await e.core.getCategories()).map(l=>{var w;let C={category:l,channels:{}},O=y.find(h=>C.category.id===h.category.id);return Object.assign(C,O||{}),d.forEach(h=>{let m=!1,v=y.find(s=>s.channel===h);(!O||!v)&&(m=!0),C.channels[h]={enabled:m}}),(w=C==null?void 0:C.channelPreferences)==null||w.forEach(h=>{var m=h.channel;!d.includes(m)||(C.channels[m].enabled=Boolean(h.enabled))}),C==null||delete C.channelPreferences,C});e.dispatch(Jn(se.SetInitialPreferences,{preferences:{userPreferences:E,channels:S}}))}u()},[e.apiKey,e.userId]);let a=u=>{e.core.setPreferences(u),e.dispatch(Jn(se.SetPreferences,{preferences:u}))};Object.assign(e,{notifications:e.reducerState.data,unreadCount:e.reducerState.unreadCount,preferences:e.reducerState.preferences,setPreferences:a,getCategories:e.core.getCategories,deleteNotification:r,markAsRead:o,markAllAsSeen:i})}function yO(e){let t=e,{formatDate:n=m0,stateReducer:r=(d,S,y)=>d,dataTransformer:o=(d,S)=>S,plugins:i=[]}=t,a=ua(t,["formatDate","stateReducer","dataTransformer","plugins"]),u=[v0,...i];return e=pe({formatDate:n,plugins:u,stateReducer:r,dataTransformer:o},a),e=u.flatMap(d=>d.applyDefaults?d.applyDefaults:[]).reduce((d,S)=>S(d),e),e}function wu(e){let t=(0,Eu.useRef)();return t.current=e,(0,Eu.useCallback)(()=>t.current,[])}var SO=(e,t,n={})=>e.forEach(r=>{let o=r(t,n)});function wO(){return{stateReducers:[],dataTransformer:[],useInstance:[]}}function y0(e){var t,n;let r=yO(e),o=r,{apiKey:i,userId:a,plugins:u,stateReducer:d,dataTransformer:S}=o,y=ua(o,["apiKey","userId","plugins","stateReducer","dataTransformer"]),E=(0,_r.useRef)({}),l=wu(E.current);Object.assign(l(),we(pe({},r),{plugins:u,hooks:wO()}));let w=dO(l());u.filter(Boolean).forEach(c=>{let g=l().hooks;g&&c(g)});let C=wu(l().hooks);l().getHooks=C,delete l().hooks;let O=wu(d),h=(0,_r.useCallback)((c,g)=>{if(!g.type)throw console.info({action:g}),new Error("Unknown Action \u{1F446}");let p=O();return[...C().stateReducers,...Array.isArray(p)?p:[p]].reduce((x,T)=>T(x,g,c,l())||x,c)},[C,O,l]),[m,v]=(0,_r.useReducer)(h,void 0,()=>h(g0,{type:se.Init,payload:{instance:l()}}));w&&v({type:se.Init,payload:{instance:l()}}),Object.assign(l(),{reducerState:m,dispatch:v}),Object.assign(l(),{hideBranding:(t=l().core)==null?void 0:t.hideBranding}),SO((n=C())==null?void 0:n.useInstance,l());let s=wu(S),f=(0,_r.useCallback)(c=>[...C().dataTransformer,...Array.isArray(s())?s():[s()]].reduce((g,p)=>p(c,g,l()),c),[C,s]);return Object.assign(l(),{notifications:f(l().reducerState.rawData)}),l()}var xO=300;function EO(e=xO){let[t,n]=(0,S0.useState)(!1);function r(i){var a;((a=i.currentTarget)==null?void 0:a.scrollTop)>e?n(!0):n(!1)}function o(i){i==null||i.scrollTo({top:0,left:0,behavior:"smooth"})}return{jumpToTop:o,onNotificationScroll:r,showJumpToTop:t}}se.SetPage="SetPage";se.IncrementPage="IncrementPage";se.SetHasMore="SetHasMore";se.SetLoadRef="SetLoadRef";function CO(e,t){if(t.type===se.SetData){let n=e.page,r=e.totalPages;return we(pe({},e),{hasMore:n<r})}else{if(t.type===se.SetPage)return we(pe({},e),{page:t.payload.page});if(t.type===se.IncrementPage)return we(pe({},e),{page:e.page+1});if(t.type===se.SetHasMore)return we(pe({},e),{page:e.page+1,hasMore:t.payload.hasMore});if(t.type===se.SetLoadRef)return we(pe({},e),{loaderRef:t.payload.loaderRef})}return e}function OO(e,t){return e.flatMap(n=>n.notifications)}Rd.pluginName="useInfiniteScroll";function Rd(e){e.stateReducers.push(CO),e.dataTransformer.push(OO),e.useInstance.push(TO)}function TO(e){let t=0,n=!1,r=1,o=e.scrollRoot,i=e.reducerState.page,a=e.reducerState.loaderRef,u=(0,Fo.useCallback)(y=>e.dispatch({type:se.SetPage,payload:{page:y}}),[i]),d=(0,Fo.useCallback)(()=>e.dispatch({type:se.IncrementPage}),[]),S=(0,Fo.useCallback)(y=>{e.dispatch({type:se.SetLoadRef,payload:{loaderRef:y}})},[]);n&&i!==r&&u(r),(0,Fo.useEffect)(()=>{if(!a)return;let y=0;function E(w){w.forEach(C=>{C.isIntersecting&&C.intersectionRatio>=y&&d(),y=C.intersectionRatio})}let l=new IntersectionObserver(E,{root:o,rootMargin:`0px 0px ${t}px 0px`,threshold:.3});return a&&l.observe(a),()=>l.disconnect()},[a]),Object.assign(e,{hasMore:e.reducerState.hasMore,setLoaderRef:S})}var RO="https://notificationsounds.com/storage/sounds/file-sounds-1150-pristine.mp3";async function PO(e){new Audio(e).play().catch(t=>{})}var AO="(1) New Notification Received";function IO(e){let t=document.title;document.title=e,setTimeout(()=>{document.title=t},5e3)}se.SetWebPushData="SetWebPushData";var MO=function(e,t){return t.type===se.SetWebPushData?we(pe({},e),{webPushData:pe(pe({},e.webPushData),t.payload)}):e};function bO(e){let t=e,{disableNotificationChime:n=!0,notificationChimeSrc:r=RO,disableTitleUpdate:o=!1,titleUpdateText:i=AO}=t,a=ua(t,["disableNotificationChime","notificationChimeSrc","disableTitleUpdate","titleUpdateText"]);return we(pe({},e),{disableNotificationChime:n,notificationChimeSrc:r,disableTitleUpdate:o,titleUpdateText:i})}Ou.pluginName="useBrowserWebPush";Ou.applyDefaults=bO;function Ou(e){e.stateReducers.push(MO),e.useInstance.push(DO)}function DO(e){var t,n,r,o;let i=e.core.enableWebPush&&e.core.isWebPushSupported(),a=(0,Cu.useCallback)(()=>{e.core.httpsWebPushSubscribe()},[]),u=(n=(t=e.reducerState)==null?void 0:t.webPushData)==null?void 0:n.webPushState,d=(o=(r=e.reducerState)==null?void 0:r.webPushData)==null?void 0:o.notificationPermissionState,S=y=>{e.dispatch({type:se.SetWebPushData,payload:y})};(0,Cu.useEffect)(()=>{async function y(){let E=await e.core.getWebPushRegistrationState(),l="denied";E===qi.PERMISSION_GRANTED?l="granted":E===qi.PERMISSION_DENIED?l="denied":E===qi.PERMISSION_REQUIRED&&(l="prompt"),S({webPushState:l,notificationPermissionState:E})}e.core.onWebPushPermissionChange(E=>{S({webPushState:E})}),e.core.onNotificationReceive(E=>{e.disableNotificationChime||PO(e.notificationChimeSrc),e.disableTitleUpdate||IO(e.titleUpdateText)}),y()},[e.apiKey,e.userId]),Object.assign(e,{allowWebPush:i,enableWebPush:a,webPushState:u,notificationPermissionState:d})}var kO="(max-width: 768px)",d0={placement:"bottom-end",preventOverflow:!0,enableArrow:!0,offset:[0,10]};Tu.pluginName="useFloatingNotification";Tu.applyDefaults=NO;function NO(e){let t={panelOpenByDefault:!1,placementOptions:d0,enableFloatingPanel:!0},n=e,{floatingPanelOptions:{panelOpenByDefault:r=!1,placementOptions:o=d0,enableFloatingPanel:i=!1}=t}=n,a=ua(n,["floatingPanelOptions"]);return pe({floatingPanelOptions:{panelOpenByDefault:r,placementOptions:o,enableFloatingPanel:i}},a)}se.SetPanelVisibility="SetPanelVisibility";se.TogglePanelVisibility="TogglePanelVisibility";var _O=function(e,t,n,r){var o;return t.type===se.Init?we(pe({},e),{panelVisibility:r.floatingPanelOptions.panelOpenByDefault}):t.type===se.SetPanelVisibility?we(pe({},e),{panelVisibility:(o=t.payload)==null?void 0:o.panelVisibility}):t.type===se.TogglePanelVisibility?we(pe({},e),{panelVisibility:!e.panelVisibility}):t.type===se.AddNotification?we(pe({},e),{unreadCount:r.reducerState.panelVisibility?e.unreadCount:e.unreadCount+1}):t.type===se.MarkAllAsSeen?we(pe({},e),{unreadCount:0}):e};function Tu(e){e.stateReducers.push(_O),e.useInstance.push(LO)}function LO(e){let t=e.floatingPanelOptions.placementOptions,n=Td(kO),r=(0,yn.useRef)(null),o=(0,yn.useRef)(null),i=(0,yn.useRef)(null),a=e.reducerState.panelVisibility,u=(0,yn.useCallback)(()=>{e.reducerState.panelVisibility||e.markAllAsSeen(),e.dispatch({type:se.TogglePanelVisibility})},[e]),{styles:d,attributes:S,update:y}=Od(r.current,o.current,{placement:t==null?void 0:t.placement,modifiers:[{name:"preventOverflow",enabled:t==null?void 0:t.preventOverflow},{name:"offset",enabled:!0,options:{offset:t==null?void 0:t.offset}},{name:"arrow",enabled:t==null?void 0:t.enableArrow,options:{element:i.current}}]});function E(C){var O,h;((O=o.current)==null?void 0:O.contains(C.target))||((h=r.current)==null?void 0:h.contains(C.target))||e.reducerState.panelVisibility&&u()}(0,yn.useEffect)(()=>(document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}),[]),(0,yn.useEffect)(()=>{e.core.onNotificationReceive(C=>{e.reducerState.panelVisibility&&e.markAllAsSeen()})},[e.apiKey,e.userId]);let l={styles:{popper:{position:"fixed",top:0,left:0,zIndex:99999999999999,width:"100%",height:"100%"},offset:{height:"100%",width:"100%",borderRadius:"0"},arrow:{display:"none"}},attributes:{popper:{}}},w=()=>{u(),y==null||y()};Object.assign(e,{isMobile:n,togglePanelVisibility:u,panelVisibility:a,getButtonProps:()=>({onClick:w,ref:r}),getArrowProps:()=>({ref:i,style:n?l.styles.arrow:we(pe({},d.arrow),{display:a&&(t==null?void 0:t.enableArrow)?"block":"none"})}),getPanelOffsetProps:()=>({style:n&&a?l.styles.offset:d.offset}),getPanelProps:()=>({ref:o,style:n&&a?l.styles.popper:we(pe({},d.popper),{zIndex:999999999999999}),attributes:n&&a?l.attributes.popper:S.popper}),useJumpToTop:EO})}var Hr=ue(de());N();var Gu=ue(P0()),Te=ue(de()),q0=ue(I0());N();function YO(e){function t(P,_,H,U,j){for(var q=0,Y=0,Z=0,re=0,te,Q,he=0,G=0,$,K=$=te=0,X=0,ie=0,xe=0,ge=0,Nt=H.length,Vt=Nt-1,pt,fe="",be="",zr="",Gr="",_t;X<Nt;){if(Q=H.charCodeAt(X),X===Vt&&Y+re+Z+q!==0&&(Y!==0&&(Q=Y===47?10:47),re=Z=q=0,Nt++,Vt++),Y+re+Z+q===0){if(X===Vt&&(0<ie&&(fe=fe.replace(l,"")),0<fe.trim().length)){switch(Q){case 32:case 9:case 59:case 13:case 10:break;default:fe+=H.charAt(X)}Q=59}switch(Q){case 123:for(fe=fe.trim(),te=fe.charCodeAt(0),$=1,ge=++X;X<Nt;){switch(Q=H.charCodeAt(X)){case 123:$++;break;case 125:$--;break;case 47:switch(Q=H.charCodeAt(X+1)){case 42:case 47:e:{for(K=X+1;K<Vt;++K)switch(H.charCodeAt(K)){case 47:if(Q===42&&H.charCodeAt(K-1)===42&&X+2!==K){X=K+1;break e}break;case 10:if(Q===47){X=K+1;break e}}X=K}}break;case 91:Q++;case 40:Q++;case 34:case 39:for(;X++<Vt&&H.charCodeAt(X)!==Q;);}if($===0)break;X++}switch($=H.substring(ge,X),te===0&&(te=(fe=fe.replace(E,"").trim()).charCodeAt(0)),te){case 64:switch(0<ie&&(fe=fe.replace(l,"")),Q=fe.charCodeAt(1),Q){case 100:case 109:case 115:case 45:ie=_;break;default:ie=B}if($=t(_,ie,$,Q,j+1),ge=$.length,0<W&&(ie=n(B,fe,xe),_t=u(3,$,ie,_,M,D,ge,Q,j,U),fe=ie.join(""),_t!==void 0&&(ge=($=_t.trim()).length)===0&&(Q=0,$="")),0<ge)switch(Q){case 115:fe=fe.replace(g,a);case 100:case 109:case 45:$=fe+"{"+$+"}";break;case 107:fe=fe.replace(v,"$1 $2"),$=fe+"{"+$+"}",$=I===1||I===2&&i("@"+$,3)?"@-webkit-"+$+"@"+$:"@"+$;break;default:$=fe+$,U===112&&($=(be+=$,""))}else $="";break;default:$=t(_,n(_,fe,xe),$,U,j+1)}zr+=$,$=xe=ie=K=te=0,fe="",Q=H.charCodeAt(++X);break;case 125:case 59:if(fe=(0<ie?fe.replace(l,""):fe).trim(),1<(ge=fe.length))switch(K===0&&(te=fe.charCodeAt(0),te===45||96<te&&123>te)&&(ge=(fe=fe.replace(" ",":")).length),0<W&&(_t=u(1,fe,_,P,M,D,be.length,U,j,U))!==void 0&&(ge=(fe=_t.trim()).length)===0&&(fe="\0\0"),te=fe.charCodeAt(0),Q=fe.charCodeAt(1),te){case 0:break;case 64:if(Q===105||Q===99){Gr+=fe+H.charAt(X);break}default:fe.charCodeAt(ge-1)!==58&&(be+=o(fe,te,Q,fe.charCodeAt(2)))}xe=ie=K=te=0,fe="",Q=H.charCodeAt(++X)}}switch(Q){case 13:case 10:Y===47?Y=0:1+te===0&&U!==107&&0<fe.length&&(ie=1,fe+="\0"),0<W*b&&u(0,fe,_,P,M,D,be.length,U,j,U),D=1,M++;break;case 59:case 125:if(Y+re+Z+q===0){D++;break}default:switch(D++,pt=H.charAt(X),Q){case 9:case 32:if(re+q+Y===0)switch(he){case 44:case 58:case 9:case 32:pt="";break;default:Q!==32&&(pt=" ")}break;case 0:pt="\\0";break;case 12:pt="\\f";break;case 11:pt="\\v";break;case 38:re+Y+q===0&&(ie=xe=1,pt="\f"+pt);break;case 108:if(re+Y+q+R===0&&0<K)switch(X-K){case 2:he===112&&H.charCodeAt(X-3)===58&&(R=he);case 8:G===111&&(R=G)}break;case 58:re+Y+q===0&&(K=X);break;case 44:Y+Z+re+q===0&&(ie=1,pt+="\r");break;case 34:case 39:Y===0&&(re=re===Q?0:re===0?Q:re);break;case 91:re+Y+Z===0&&q++;break;case 93:re+Y+Z===0&&q--;break;case 41:re+Y+q===0&&Z--;break;case 40:if(re+Y+q===0){if(te===0)switch(2*he+3*G){case 533:break;default:te=1}Z++}break;case 64:Y+Z+re+q+K+$===0&&($=1);break;case 42:case 47:if(!(0<re+q+Z))switch(Y){case 0:switch(2*Q+3*H.charCodeAt(X+1)){case 235:Y=47;break;case 220:ge=X,Y=42}break;case 42:Q===47&&he===42&&ge+2!==X&&(H.charCodeAt(ge+2)===33&&(be+=H.substring(ge,X+1)),pt="",Y=0)}}Y===0&&(fe+=pt)}G=he,he=Q,X++}if(ge=be.length,0<ge){if(ie=_,0<W&&(_t=u(2,be,ie,P,M,D,ge,U,j,U),_t!==void 0&&(be=_t).length===0))return Gr+be+zr;if(be=ie.join(",")+"{"+be+"}",I*R!==0){switch(I!==2||i(be,2)||(R=0),R){case 111:be=be.replace(f,":-moz-$1")+be;break;case 112:be=be.replace(s,"::-webkit-input-$1")+be.replace(s,"::-moz-$1")+be.replace(s,":-ms-input-$1")+be}R=0}}return Gr+be+zr}function n(P,_,H){var U=_.trim().split(h);_=U;var j=U.length,q=P.length;switch(q){case 0:case 1:var Y=0;for(P=q===0?"":P[0]+" ";Y<j;++Y)_[Y]=r(P,_[Y],H).trim();break;default:var Z=Y=0;for(_=[];Y<j;++Y)for(var re=0;re<q;++re)_[Z++]=r(P[re]+" ",U[Y],H).trim()}return _}function r(P,_,H){var U=_.charCodeAt(0);switch(33>U&&(U=(_=_.trim()).charCodeAt(0)),U){case 38:return _.replace(m,"$1"+P.trim());case 58:return P.trim()+_.replace(m,"$1"+P.trim());default:if(0<1*H&&0<_.indexOf("\f"))return _.replace(m,(P.charCodeAt(0)===58?"":"$1")+P.trim())}return P+_}function o(P,_,H,U){var j=P+";",q=2*_+3*H+4*U;if(q===944){P=j.indexOf(":",9)+1;var Y=j.substring(P,j.length-1).trim();return Y=j.substring(0,P).trim()+Y+";",I===1||I===2&&i(Y,1)?"-webkit-"+Y+Y:Y}if(I===0||I===2&&!i(j,1))return j;switch(q){case 1015:return j.charCodeAt(10)===97?"-webkit-"+j+j:j;case 951:return j.charCodeAt(3)===116?"-webkit-"+j+j:j;case 963:return j.charCodeAt(5)===110?"-webkit-"+j+j:j;case 1009:if(j.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+j+j;case 978:return"-webkit-"+j+"-moz-"+j+j;case 1019:case 983:return"-webkit-"+j+"-moz-"+j+"-ms-"+j+j;case 883:if(j.charCodeAt(8)===45)return"-webkit-"+j+j;if(0<j.indexOf("image-set(",11))return j.replace(k,"$1-webkit-$2")+j;break;case 932:if(j.charCodeAt(4)===45)switch(j.charCodeAt(5)){case 103:return"-webkit-box-"+j.replace("-grow","")+"-webkit-"+j+"-ms-"+j.replace("grow","positive")+j;case 115:return"-webkit-"+j+"-ms-"+j.replace("shrink","negative")+j;case 98:return"-webkit-"+j+"-ms-"+j.replace("basis","preferred-size")+j}return"-webkit-"+j+"-ms-"+j+j;case 964:return"-webkit-"+j+"-ms-flex-"+j+j;case 1023:if(j.charCodeAt(8)!==99)break;return Y=j.substring(j.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Y+"-webkit-"+j+"-ms-flex-pack"+Y+j;case 1005:return C.test(j)?j.replace(w,":-webkit-")+j.replace(w,":-moz-")+j:j;case 1e3:switch(Y=j.substring(13).trim(),_=Y.indexOf("-")+1,Y.charCodeAt(0)+Y.charCodeAt(_)){case 226:Y=j.replace(c,"tb");break;case 232:Y=j.replace(c,"tb-rl");break;case 220:Y=j.replace(c,"lr");break;default:return j}return"-webkit-"+j+"-ms-"+Y+j;case 1017:if(j.indexOf("sticky",9)===-1)break;case 975:switch(_=(j=P).length-10,Y=(j.charCodeAt(_)===33?j.substring(0,_):j).substring(P.indexOf(":",7)+1).trim(),q=Y.charCodeAt(0)+(Y.charCodeAt(7)|0)){case 203:if(111>Y.charCodeAt(8))break;case 115:j=j.replace(Y,"-webkit-"+Y)+";"+j;break;case 207:case 102:j=j.replace(Y,"-webkit-"+(102<q?"inline-":"")+"box")+";"+j.replace(Y,"-webkit-"+Y)+";"+j.replace(Y,"-ms-"+Y+"box")+";"+j}return j+";";case 938:if(j.charCodeAt(5)===45)switch(j.charCodeAt(6)){case 105:return Y=j.replace("-items",""),"-webkit-"+j+"-webkit-box-"+Y+"-ms-flex-"+Y+j;case 115:return"-webkit-"+j+"-ms-flex-item-"+j.replace(x,"")+j;default:return"-webkit-"+j+"-ms-flex-line-pack"+j.replace("align-content","").replace(x,"")+j}break;case 973:case 989:if(j.charCodeAt(3)!==45||j.charCodeAt(4)===122)break;case 931:case 953:if(A.test(P)===!0)return(Y=P.substring(P.indexOf(":")+1)).charCodeAt(0)===115?o(P.replace("stretch","fill-available"),_,H,U).replace(":fill-available",":stretch"):j.replace(Y,"-webkit-"+Y)+j.replace(Y,"-moz-"+Y.replace("fill-",""))+j;break;case 962:if(j="-webkit-"+j+(j.charCodeAt(5)===102?"-ms-"+j:"")+j,H+U===211&&j.charCodeAt(13)===105&&0<j.indexOf("transform",10))return j.substring(0,j.indexOf(";",27)+1).replace(O,"$1-webkit-$2")+j}return j}function i(P,_){var H=P.indexOf(_===1?":":"{"),U=P.substring(0,_!==3?H:10);return H=P.substring(H+1,P.length-1),z(_!==2?U:U.replace(T,"$1"),H,_)}function a(P,_){var H=o(_,_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2));return H!==_+";"?H.replace(p," or ($1)").substring(4):"("+_+")"}function u(P,_,H,U,j,q,Y,Z,re,te){for(var Q=0,he=_,G;Q<W;++Q)switch(G=L[Q].call(y,P,he,H,U,j,q,Y,Z,re,te)){case void 0:case!1:case!0:case null:break;default:he=G}if(he!==_)return he}function d(P){switch(P){case void 0:case null:W=L.length=0;break;default:if(typeof P=="function")L[W++]=P;else if(typeof P=="object")for(var _=0,H=P.length;_<H;++_)d(P[_]);else b=!!P|0}return d}function S(P){return P=P.prefix,P!==void 0&&(z=null,P?typeof P!="function"?I=1:(I=2,z=P):I=0),S}function y(P,_){var H=P;if(33>H.charCodeAt(0)&&(H=H.trim()),F=H,H=[F],0<W){var U=u(-1,_,H,H,M,D,0,0,0,0);U!==void 0&&typeof U=="string"&&(_=U)}var j=t(B,H,_,0,0);return 0<W&&(U=u(-2,j,H,H,M,D,j.length,0,0,0),U!==void 0&&(j=U)),F="",R=0,D=M=1,j}var E=/^\0+/g,l=/[\0\r\f]/g,w=/: */g,C=/zoo|gra/,O=/([,: ])(transform)/g,h=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,s=/::(place)/g,f=/:(read-only)/g,c=/[svh]\w+-[tblr]{2}/,g=/\(\s*(.*)\s*\)/g,p=/([\s\S]*?);/g,x=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,A=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,D=1,M=1,R=0,I=1,B=[],L=[],W=0,z=null,b=0,F="";return y.use=d,y.set=S,e!==void 0&&S(e),y}var M0=YO;N();var KO={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},b0=KO;N();N();function QO(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var D0=QO;var XO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qO=D0(function(e){return XO.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Ad=qO;var J0=ue(z0());function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var G0=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},Ld=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!(0,Gu.typeOf)(e)},Wu=Object.freeze([]),Zn=Object.freeze({});function Wo(e){return typeof e=="function"}function $0(e){return e.displayName||e.name||"Component"}function Hd(e){return e&&typeof e.styledComponentId=="string"}var er=typeof process<"u"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled";var zd=typeof window<"u"&&"HTMLElement"in window,f2=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function $t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var c2=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,o=0;o<n;o++)r+=this.groupSizes[o];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var o=this.groupSizes,i=o.length,a=i;n>=a;)(a<<=1)<0&&$t(16,""+n);this.groupSizes=new Uint32Array(a),this.groupSizes.set(o),this.length=a;for(var u=i;u<a;u++)this.groupSizes[u]=0}for(var d=this.indexOfGroup(n+1),S=0,y=r.length;S<y;S++)this.tag.insertRule(d,r[S])&&(this.groupSizes[n]++,d++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],o=this.indexOfGroup(n),i=o+r;this.groupSizes[n]=0;for(var a=o;a<i;a++)this.tag.deleteRule(o)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var o=this.groupSizes[n],i=this.indexOfGroup(n),a=i+o,u=i;u<a;u++)r+=this.tag.getRule(u)+`/*!sc*/
`;return r},e}(),ju=new Map,Hu=new Map,ya=1,Bu=function(e){if(ju.has(e))return ju.get(e);for(;Hu.has(ya);)ya++;var t=ya++;return ju.set(e,t),Hu.set(t,e),t},d2=function(e){return Hu.get(e)},p2=function(e,t){t>=ya&&(ya=t+1),ju.set(e,t),Hu.set(t,e)},h2="style["+er+'][data-styled-version="5.3.5"]',m2=new RegExp("^"+er+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),g2=function(e,t,n){for(var r,o=n.split(","),i=0,a=o.length;i<a;i++)(r=o[i])&&e.registerName(t,r)},v2=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),r=[],o=0,i=n.length;o<i;o++){var a=n[o].trim();if(a){var u=a.match(m2);if(u){var d=0|parseInt(u[1],10),S=u[2];d!==0&&(p2(S,d),g2(e,S,u[3]),e.getTag().insertRules(d,r)),r.length=0}else r.push(a)}}},Ud=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},Z0=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(u){for(var d=u.childNodes,S=d.length;S>=0;S--){var y=d[S];if(y&&y.nodeType===1&&y.hasAttribute(er))return y}}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(er,"active"),r.setAttribute("data-styled-version","5.3.5");var a=Ud();return a&&r.setAttribute("nonce",a),n.insertBefore(r,i),r},y2=function(){function e(n){var r=this.element=Z0(n);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var i=document.styleSheets,a=0,u=i.length;a<u;a++){var d=i[a];if(d.ownerNode===o)return d}$t(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),S2=function(){function e(n){var r=this.element=Z0(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var o=document.createTextNode(r),i=this.nodes[n];return this.element.insertBefore(o,i||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),w2=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),V0=zd,x2={isServer:!zd,useCSSOMInjection:!f2},Sa=function(){function e(n,r,o){n===void 0&&(n=Zn),r===void 0&&(r={}),this.options=Gt({},x2,{},n),this.gs=r,this.names=new Map(o),this.server=!!n.isServer,!this.server&&zd&&V0&&(V0=!1,function(i){for(var a=document.querySelectorAll(h2),u=0,d=a.length;u<d;u++){var S=a[u];S&&S.getAttribute(er)!=="active"&&(v2(i,S),S.parentNode&&S.parentNode.removeChild(S))}}(this))}e.registerId=function(n){return Bu(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(Gt({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,i=r.useCSSOMInjection,a=r.target,n=o?new w2(a):i?new y2(a):new S2(a),new c2(n)));var n,r,o,i,a},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(Bu(n),this.names.has(n))this.names.get(n).add(r);else{var o=new Set;o.add(r),this.names.set(n,o)}},t.insertRules=function(n,r,o){this.registerName(n,r),this.getTag().insertRules(Bu(n),o)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(Bu(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),o=r.length,i="",a=0;a<o;a++){var u=d2(a);if(u!==void 0){var d=n.names.get(u),S=r.getGroup(a);if(d&&S&&d.size){var y=er+".g"+a+'[id="'+u+'"]',E="";d!==void 0&&d.forEach(function(l){l.length>0&&(E+=l+",")}),i+=""+S+y+'{content:"'+E+`"}/*!sc*/
`}}}return i}(this)},e}(),E2=/(a)(d)/gi,Y0=function(e){return String.fromCharCode(e+(e>25?39:97))};function Bd(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Y0(t%52)+n;return(Y0(t%52)+n).replace(E2,"$1-$2")}var jo=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ey=function(e){return jo(5381,e)};function ty(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Wo(n)&&!Hd(n))return!1}return!0}var C2=ey("5.3.5"),O2=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&ty(t),this.componentId=n,this.baseHash=jo(C2,n),this.baseStyle=r,Sa.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))i.push(this.staticRulesId);else{var a=Lr(this.rules,t,n,r).join(""),u=Bd(jo(this.baseHash,a)>>>0);if(!n.hasNameForId(o,u)){var d=r(a,"."+u,void 0,o);n.insertRules(o,u,d)}i.push(u),this.staticRulesId=u}else{for(var S=this.rules.length,y=jo(this.baseHash,r.hash),E="",l=0;l<S;l++){var w=this.rules[l];if(typeof w=="string")E+=w;else if(w){var C=Lr(w,t,n,r),O=Array.isArray(C)?C.join(""):C;y=jo(y,O+l),E+=O}}if(E){var h=Bd(y>>>0);if(!n.hasNameForId(o,h)){var m=r(E,"."+h,void 0,o);n.insertRules(o,h,m)}i.push(h)}}return i.join(" ")},e}(),T2=/^\s*\/\/.*$/gm,R2=[":","[",".","#"];function ny(e){var t,n,r,o,i=e===void 0?Zn:e,a=i.options,u=a===void 0?Zn:a,d=i.plugins,S=d===void 0?Wu:d,y=new M0(u),E=[],l=function(O){function h(m){if(m)try{O(m+"}")}catch{}}return function(m,v,s,f,c,g,p,x,T,A){switch(m){case 1:if(T===0&&v.charCodeAt(0)===64)return O(v+";"),"";break;case 2:if(x===0)return v+"/*|*/";break;case 3:switch(x){case 102:case 112:return O(s[0]+v),"";default:return v+(A===0?"/*|*/":"")}case-2:v.split("/*|*/}").forEach(h)}}}(function(O){E.push(O)}),w=function(O,h,m){return h===0&&R2.indexOf(m[n.length])!==-1||m.match(o)?O:"."+t};function C(O,h,m,v){v===void 0&&(v="&");var s=O.replace(T2,""),f=h&&m?m+" "+h+" { "+s+" }":s;return t=v,n=h,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),y(m||!h?"":h,f)}return y.use([].concat(S,[function(O,h,m){O===2&&m.length&&m[0].lastIndexOf(n)>0&&(m[0]=m[0].replace(r,w))},l,function(O){if(O===-2){var h=E;return E=[],h}}])),C.hash=S.length?S.reduce(function(O,h){return h.name||$t(15),jo(O,h.name)},5381).toString():"",C}var Gd=Te.default.createContext(),Qk=Gd.Consumer,$d=Te.default.createContext(),P2=($d.Consumer,new Sa),Fd=ny();function ry(){return(0,Te.useContext)(Gd)||P2}function A2(){return(0,Te.useContext)($d)||Fd}function I2(e){var t=(0,Te.useState)(e.stylisPlugins),n=t[0],r=t[1],o=ry(),i=(0,Te.useMemo)(function(){var u=o;return e.sheet?u=e.sheet:e.target&&(u=u.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(u=u.reconstructWithOptions({useCSSOMInjection:!1})),u},[e.disableCSSOMInjection,e.sheet,e.target]),a=(0,Te.useMemo)(function(){return ny({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return(0,Te.useEffect)(function(){(0,q0.default)(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]),Te.default.createElement(Gd.Provider,{value:i},Te.default.createElement($d.Provider,{value:a},e.children))}var M2=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=Fd);var a=r.name+i.hash;o.hasNameForId(r.id,a)||o.insertRules(r.id,a,i(r.rules,a,"@keyframes"))},this.toString=function(){return $t(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=Fd),this.name+t.hash},e}(),b2=/([A-Z])/,D2=/([A-Z])/g,k2=/^ms-/,N2=function(e){return"-"+e.toLowerCase()};function K0(e){return b2.test(e)?e.replace(D2,N2).replace(k2,"-ms-"):e}var Q0=function(e){return e==null||e===!1||e===""};function Lr(e,t,n,r){if(Array.isArray(e)){for(var o,i=[],a=0,u=e.length;a<u;a+=1)(o=Lr(e[a],t,n,r))!==""&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}if(Q0(e))return"";if(Hd(e))return"."+e.styledComponentId;if(Wo(e)){if(typeof(S=e)!="function"||S.prototype&&S.prototype.isReactComponent||!t)return e;var d=e(t);return Lr(d,t,n,r)}var S;return e instanceof M2?n?(e.inject(n,r),e.getName(r)):e:Ld(e)?function y(E,l){var w,C,O=[];for(var h in E)E.hasOwnProperty(h)&&!Q0(E[h])&&(Array.isArray(E[h])&&E[h].isCss||Wo(E[h])?O.push(K0(h)+":",E[h],";"):Ld(E[h])?O.push.apply(O,y(E[h],h)):O.push(K0(h)+": "+(w=h,(C=E[h])==null||typeof C=="boolean"||C===""?"":typeof C!="number"||C===0||w in b0?String(C).trim():C+"px")+";"));return l?[l+" {"].concat(O,["}"]):O}(e):e.toString()}var X0=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wo(e)||Ld(e)?X0(Lr(G0(Wu,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:X0(Lr(G0(e,n)))}var _2=function(e,t,n){return n===void 0&&(n=Zn),e.theme!==n.theme&&e.theme||t||n.theme},L2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,U2=/(^-|-$)/g;function Nd(e){return e.replace(L2,"-").replace(U2,"")}var B2=function(e){return Bd(ey(e)>>>0)};function Fu(e){return typeof e=="string"&&!0}var jd=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},F2=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function j2(e,t,n){var r=e[n];jd(t)&&jd(r)?oy(r,t):e[n]=t}function oy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];if(jd(a))for(var u in a)F2(u)&&j2(e,a[u],u)}return e}var zu=Te.default.createContext(),Xk=zu.Consumer;function iy(e){var t=(0,Te.useContext)(zu),n=(0,Te.useMemo)(function(){return function(r,o){if(!r)return $t(14);if(Wo(r)){var i=r(o);return i}return Array.isArray(r)||typeof r!="object"?$t(8):o?Gt({},o,{},r):r}(e.theme,t)},[e.theme,t]);return e.children?Te.default.createElement(zu.Provider,{value:n},e.children):null}var _d={};function ay(e,t,n){var r=Hd(e),o=!Fu(e),i=t.attrs,a=i===void 0?Wu:i,u=t.componentId,d=u===void 0?function(v,s){var f=typeof v!="string"?"sc":Nd(v);_d[f]=(_d[f]||0)+1;var c=f+"-"+B2("5.3.5"+f+_d[f]);return s?s+"-"+c:c}(t.displayName,t.parentComponentId):u,S=t.displayName,y=S===void 0?function(v){return Fu(v)?"styled."+v:"Styled("+$0(v)+")"}(e):S,E=t.displayName&&t.componentId?Nd(t.displayName)+"-"+t.componentId:t.componentId||d,l=r&&e.attrs?Array.prototype.concat(e.attrs,a).filter(Boolean):a,w=t.shouldForwardProp;r&&e.shouldForwardProp&&(w=t.shouldForwardProp?function(v,s,f){return e.shouldForwardProp(v,s,f)&&t.shouldForwardProp(v,s,f)}:e.shouldForwardProp);var C,O=new O2(n,E,r?e.componentStyle:void 0),h=O.isStatic&&a.length===0,m=function(v,s){return function(f,c,g,p){var x=f.attrs,T=f.componentStyle,A=f.defaultProps,k=f.foldedComponentIds,D=f.shouldForwardProp,M=f.styledComponentId,R=f.target,I=function(U,j,q){U===void 0&&(U=Zn);var Y=Gt({},j,{theme:U}),Z={};return q.forEach(function(re){var te,Q,he,G=re;for(te in Wo(G)&&(G=G(Y)),G)Y[te]=Z[te]=te==="className"?(Q=Z[te],he=G[te],Q&&he?Q+" "+he:Q||he):G[te]}),[Y,Z]}(_2(c,(0,Te.useContext)(zu),A)||Zn,c,x),B=I[0],L=I[1],W=function(U,j,q,Y){var Z=ry(),re=A2(),te=j?U.generateAndInjectStyles(Zn,Z,re):U.generateAndInjectStyles(q,Z,re);return te}(T,p,B,void 0),z=g,b=L.$as||c.$as||L.as||c.as||R,F=Fu(b),P=L!==c?Gt({},c,{},L):c,_={};for(var H in P)H[0]!=="$"&&H!=="as"&&(H==="forwardedAs"?_.as=P[H]:(D?D(H,Ad,b):!F||Ad(H))&&(_[H]=P[H]));return c.style&&L.style!==c.style&&(_.style=Gt({},c.style,{},L.style)),_.className=Array.prototype.concat(k,M,W!==M?W:null,c.className,L.className).filter(Boolean).join(" "),_.ref=z,(0,Te.createElement)(b,_)}(C,v,s,h)};return m.displayName=y,(C=Te.default.forwardRef(m)).attrs=l,C.componentStyle=O,C.displayName=y,C.shouldForwardProp=w,C.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Wu,C.styledComponentId=E,C.target=r?e.target:e,C.withComponent=function(v){var s=t.componentId,f=function(g,p){if(g==null)return{};var x,T,A={},k=Object.keys(g);for(T=0;T<k.length;T++)x=k[T],p.indexOf(x)>=0||(A[x]=g[x]);return A}(t,["componentId"]),c=s&&s+"-"+(Fu(v)?v:Nd($0(v)));return ay(v,Gt({},f,{attrs:l,componentId:c}),n)},Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=r?oy({},e.defaultProps,v):v}}),C.toString=function(){return"."+C.styledComponentId},o&&(0,J0.default)(C,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),C}var Wd=function(e){return function t(n,r,o){if(o===void 0&&(o=Zn),!(0,Gu.isValidElementType)(r))return $t(1,String(r));var i=function(){return n(r,o,ae.apply(void 0,arguments))};return i.withConfig=function(a){return t(n,r,Gt({},o,{},a))},i.attrs=function(a){return t(n,r,Gt({},o,{attrs:Array.prototype.concat(o.attrs,a).filter(Boolean)}))},i}(ay,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Wd[e]=Wd(e)});var qk=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=ty(n),Sa.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,o,i){var a=i(Lr(this.rules,r,o,i).join(""),""),u=this.componentId+n;o.insertRules(u,u,a)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,o,i){n>2&&Sa.registerId(this.componentId+n),this.removeStyles(n,o),this.createStyles(n,r,o,i)},e}();var Jk=function(){function e(){var n=this;this._emitSheetCSS=function(){var r=n.instance.toString();if(!r)return"";var o=Ud();return"<style "+[o&&'nonce="'+o+'"',er+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return n.sealed?$t(2):n._emitSheetCSS()},this.getStyleElement=function(){var r;if(n.sealed)return $t(2);var o=((r={})[er]="",r["data-styled-version"]="5.3.5",r.dangerouslySetInnerHTML={__html:n.instance.toString()},r),i=Ud();return i&&(o.nonce=i),[Te.default.createElement("style",Gt({},o,{key:"sc-0-0"}))]},this.seal=function(){n.sealed=!0},this.instance=new Sa({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(n){return this.sealed?$t(2):Te.default.createElement(I2,{sheet:this.instance},n)},t.interleaveWithNodeStream=function(n){return $t(3)},e}();var ne=Wd;var Xy=ue(_y()),je=ue(de());N();N();var np=function(){};var Ly=typeof window<"u";N();var xn=ue(de());var kR=function(e,t,n){if(!Ly)return[t,np,np];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(y){return y}:n.deserializer:JSON.parse,o=(0,xn.useRef)(function(y){try{var E=n?n.raw?String:n.serializer:JSON.stringify,l=localStorage.getItem(y);return l!==null?r(l):(t&&localStorage.setItem(y,E(t)),t)}catch{return t}}),i=(0,xn.useState)(function(){return o.current(e)}),a=i[0],u=i[1];(0,xn.useLayoutEffect)(function(){return u(o.current(e))},[e]);var d=(0,xn.useCallback)(function(y){try{var E=typeof y=="function"?y(a):y;if(typeof E>"u")return;var l=void 0;n?n.raw?typeof E=="string"?l=E:l=JSON.stringify(E):n.serializer?l=n.serializer(E):l=JSON.stringify(E):l=JSON.stringify(E),localStorage.setItem(e,l),u(r(l))}catch{}},[e,u]),S=(0,xn.useCallback)(function(){try{localStorage.removeItem(e),u(void 0)}catch{}},[e,u]);return[a,d,S]},rp=kR;var Jy=ue(de());var yt=ue(de());N();N();function op(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}N();N();function Ta(e,t){return Ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Ta(e,t)}function ip(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ta(e,t)}N();var Ra=ue(de()),Zu=ue(To());N();var ap={disabled:!1};N();var Uy=ue(de()),sp=Uy.default.createContext(null);var Pa="unmounted",jr="exited",Wr="entering",Vo="entered",up="exiting",En=function(e){ip(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var a=o,u=a&&!a.isMounting?r.enter:r.appear,d;return i.appearStatus=null,r.in?u?(d=jr,i.appearStatus=Wr):d=Vo:r.unmountOnExit||r.mountOnEnter?d=Pa:d=jr,i.state={status:d},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var a=o.in;return a&&i.status===Pa?{status:jr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var a=this.state.status;this.props.in?a!==Wr&&a!==Vo&&(i=Wr):(a===Wr||a===Vo)&&(i=up)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,a,u;return i=a=u=o,o!=null&&typeof o!="number"&&(i=o.exit,a=o.enter,u=o.appear!==void 0?o.appear:a),{exit:i,enter:a,appear:u}},n.updateStatus=function(o,i){o===void 0&&(o=!1),i!==null?(this.cancelNextCallback(),i===Wr?this.performEnter(o):this.performExit()):this.props.unmountOnExit&&this.state.status===jr&&this.setState({status:Pa})},n.performEnter=function(o){var i=this,a=this.props.enter,u=this.context?this.context.isMounting:o,d=this.props.nodeRef?[u]:[Zu.default.findDOMNode(this),u],S=d[0],y=d[1],E=this.getTimeouts(),l=u?E.appear:E.enter;if(!o&&!a||ap.disabled){this.safeSetState({status:Vo},function(){i.props.onEntered(S)});return}this.props.onEnter(S,y),this.safeSetState({status:Wr},function(){i.props.onEntering(S,y),i.onTransitionEnd(l,function(){i.safeSetState({status:Vo},function(){i.props.onEntered(S,y)})})})},n.performExit=function(){var o=this,i=this.props.exit,a=this.getTimeouts(),u=this.props.nodeRef?void 0:Zu.default.findDOMNode(this);if(!i||ap.disabled){this.safeSetState({status:jr},function(){o.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:up},function(){o.props.onExiting(u),o.onTransitionEnd(a.exit,function(){o.safeSetState({status:jr},function(){o.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,a=!0;return this.nextCallback=function(u){a&&(a=!1,i.nextCallback=null,o(u))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:Zu.default.findDOMNode(this),u=o==null&&!this.props.addEndListener;if(!a||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],S=d[0],y=d[1];this.props.addEndListener(S,y)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Pa)return null;var i=this.props,a=i.children,u=i.in,d=i.mountOnEnter,S=i.unmountOnExit,y=i.appear,E=i.enter,l=i.exit,w=i.timeout,C=i.addEndListener,O=i.onEnter,h=i.onEntering,m=i.onEntered,v=i.onExit,s=i.onExiting,f=i.onExited,c=i.nodeRef,g=op(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ra.default.createElement(sp.Provider,{value:null},typeof a=="function"?a(o,g):Ra.default.cloneElement(Ra.default.Children.only(a),g))},t}(Ra.default.Component);En.contextType=sp;En.propTypes={};function $o(){}En.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$o,onEntering:$o,onEntered:$o,onExit:$o,onExiting:$o,onExited:$o};En.UNMOUNTED=Pa;En.EXITED=jr;En.ENTERING=Wr;En.ENTERED=Vo;En.EXITING=up;var lp=En;var me=ue(de()),ve=ue(de());var lt=ue(de());N();N();var el=ue(de());var fp=function(t){return t.reduce(function(n,r){var o=r[0],i=r[1];return n[o]=i,n},{})},cp=typeof window<"u"&&window.document&&window.document.createElement?el.useLayoutEffect:el.useEffect;N();var tr=ue(de()),By=ue(To());var Fy=ue(Cd());var NR=[],dp=function(t,n,r){r===void 0&&(r={});var o=tr.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||NR},a=tr.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=a[0],d=a[1],S=tr.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(w){var C=w.state,O=Object.keys(C.elements);By.flushSync(function(){d({styles:fp(O.map(function(h){return[h,C.styles[h]||{}]})),attributes:fp(O.map(function(h){return[h,C.attributes[h]]}))})})},requires:["computeStyles"]}},[]),y=tr.useMemo(function(){var l={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[S,{name:"applyStyles",enabled:!1}])};return(0,Fy.default)(o.current,l)?o.current||l:(o.current=l,l)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,S]),E=tr.useRef();return cp(function(){E.current&&E.current.setOptions(y)},[y]),cp(function(){if(!(t==null||n==null)){var l=r.createPopper||sa,w=l(t,n,y);return E.current=w,function(){w.destroy(),E.current=null}}},[t,n,r.createPopper]),{state:E.current?E.current.state:null,styles:u.styles,attributes:u.attributes,update:E.current?E.current.update:null,forceUpdate:E.current?E.current.forceUpdate:null}};var nr=ue(de()),pp=ue(de()),hp=ue(de());var ze=ue(de()),r1=ue(de()),We=ue(de()),tl=ue(de());var tn=ue(de());var Aa=ue(de()),mp=ue(de()),Ia=ue(de()),nl=ue(de());var a1=ue(de());var Ma=ue(de());var s1=ue(To()),_R=Object.defineProperty,LR=Object.defineProperties,UR=Object.getOwnPropertyDescriptors,rl=Object.getOwnPropertySymbols,Vy=Object.prototype.hasOwnProperty,Yy=Object.prototype.propertyIsEnumerable,jy=(e,t,n)=>t in e?_R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cn=(e,t)=>{for(var n in t||(t={}))Vy.call(t,n)&&jy(e,n,t[n]);if(rl)for(var n of rl(t))Yy.call(t,n)&&jy(e,n,t[n]);return e},Ky=(e,t)=>LR(e,UR(t)),BR=(e,t)=>{var n={};for(var r in e)Vy.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rl)for(var r of rl(e))t.indexOf(r)<0&&Yy.call(e,r)&&(n[r]=e[r]);return n},gp={colors:{brandingPrimary:"rgb(0,191,166)",colorPrimary:"#282c34",colorSecondary:"#686868"},panel:{boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",width:"30rem",height:"40rem",borderBottomLeftRadius:"11px",borderBottomRightRadius:"11px",borderTopLeftRadius:"11px",borderTopRightRadius:"11px",arrowSize:"10px",arrowInset:"-5px auto auto 0"},feed:{background:"white",placeholderTextColor:"#2c2c2c",height:"30rem",placeholderTextSize:"1rem",placeholderMargin:"1rem 0 0 0",placeholderFontWeight:"300"},feedItem:{border:"1px solid #edf4f2",background:"white",notificationDot:"green",hoverBackground:"#edf4f2",headerColor:"#1c1c1c",descriptionColor:"#464646",dateColor:"#888888",placeHolderBackground:"rgb(230, 230, 230)",placeHolderGradient:"linear-gradient(to right, #eeeeee 10%, #dddddd 18%, #eeeeee 33%)",height:"30rem",padding:"0.5rem 0.7rem 0.5rem 0.7rem",placeholderTextSize:"1rem",notificationDotSize:".5rem",imageSize:"4.5rem",imageRadius:"50%",hoverTransition:"all 0.2s",textContentPadding:"0 .5rem 0 0",textContentMargin:"0 auto 0 1.2rem",headerFontWeight:"400",headerSize:".9rem",headerPadding:"0 0 0.3rem 0",descriptionSize:"0.8rem",descriptionPadding:"0 0 0.3rem 0",dateSize:".7rem",menuMargin:"0 1rem 0 0"},notificationButton:{background:"transparent",hoverBackground:"rgba(0,191,166, .2)",iconFill:"#edf4f2",floatingButtonShadow:"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)",iconSize:"1.5rem",outline:"none",margin:"0",padding:"5px",borderWidth:"0",normalButtonRadius:"5px",floatingButtonRadius:"50%",transition:"all .2s"},unreadBadgeCount:{background:"red",color:"white",borderRadius:"50%",fontSize:".6rem",inset:"-4px -4px auto auto",size:"1rem"},headerDropdown:{iconFill:"white",background:"transparent",hoverBackground:"",menuBackground:"white",menuShadow:"0 0 8px 0 rgba(0, 0, 0, 0.14)",menuItemTextColor:"#282c34",menuItemHoverBackground:"#edf4f2",iconWidth:".6rem",iconHeight:".7rem",margin:"0 .5rem 0 0",padding:".5rem",borderWidth:"0",outline:"none",transition:"all 0.2s",menuBorderRadius:"2px",menuItemPadding:"0.5rem 0.7rem"},dropdown:{iconFill:"#888888",background:"transparent",hoverBackground:"rgb(230, 230, 230)",menuBackground:"white",menuShadow:"0 0 8px 0 rgba(0, 0, 0, 0.14)",menuItemTextColor:"#282c34",menuItemHoverBackground:"#edf4f2",iconWidth:".5rem",iconHeight:".6rem",margin:"0 .5rem 0 0",padding:".5rem",borderWidth:"0",outline:"none",transition:"all 0.2s",menuBorderRadius:"2px",menuItemPadding:"0.5rem 0.7rem"},jumpToTop:{background:"white",iconFill:"#888888",shadow:"0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)",iconSize:"1rem",inset:"1.5rem 7rem auto auto",borderRadius:"50%",padding:"0.7rem",margin:"0",transition:"all ease-in-out 0.5s"},header:{fontColor:"white",closeButtonBackground:"transparent",fontSize:"1rem",fontWeight:"400",height:"3rem",padding:"0.5rem 1rem",closeButtonOutline:"none",closeButtonPadding:"5px",closeButtonFontSize:"1.6rem",closeButtonMargin:"0"},footer:{background:"white",fontColor:"#484848",preferenceButtonColor:"#484848",border:"1px solid rgb(230, 230, 230)",preferenceButtonHoverBackground:"rgb(230, 230, 230)",fontWeight:"400",height:"3rem",padding:"0.5rem 1rem",fontSize:"0.8rem",linkMargin:"0 0.5rem 0 auto",linkSize:"1.5rem",preferenceButtonMargin:"0 0 0 auto",preferenceButtonSize:"1.2rem",preferenceButtonPadding:".2rem",preferenceButtonHoverTransition:"all 0.2s",linkRadius:"3px"},toggle:{background:"rgba(196, 195, 195, 0.55)",activeColor:"#16a085",dotColor:"rgb(255, 255, 255);"},preference:{fontColor:"#1c1c1c",background:"white",height:"30rem",fontWeight:"400",padding:"1.2rem 1.5rem 1.2rem 1.5rem"},preferenceModal:{overlayBackground:"#2b2b2b",headingColor:"#1c1c1c",background:"rgba(255, 255, 255, 0.8)",closeButtonColor:"#bbb9b9",textPrimaryColor:"#1c1c1c",textSecondaryColor:"#525252",buttonPrimaryColor:"white",buttonPrimaryBackgroundColor:"#1abc9c",buttonPrimaryHoverBackgroundColor:"#1a9c82",buttonSecondaryColor:"#4e4e4e",buttonSecondaryBackgroundColor:"transparent",buttonSecondaryHoverBackgroundColor:"#cfcfcf",overlayOpacity:".6",height:"35%",backdropFilter:"blur(1px)",borderRadius:"1.5rem 1.5rem 0 0",padding:"1.2rem 2rem 1.2rem 2rem",textAlign:"center",headerMargin:"0 2rem",headerFontSize:"1rem",closeButtonSize:".6rem",textPrimaryMargin:"0.5rem 2rem",textPrimaryFontSize:".9rem",textSecondaryMargin:"1rem 0 0 0",textSecondaryFontSize:".8rem",primaryButtonFontWeight:"600",primaryButtonPadding:"0.6rem 4.5rem",primaryButtonBorderRadius:"10px",primaryButtonMargin:"0.6rem 0 0.2rem 0",primaryButtonTransition:"all 0.2s"}};function FR(e={}){return(0,Xy.default)(gp,e)}var qy=(0,Hr.createContext)({}),vp=()=>(0,Hr.useContext)(qy);function jR({theme:e,state:t,children:n}){return Hr.default.createElement(qy.Provider,{value:t},Hr.default.createElement(iy,{theme:FR(e)},n))}var WR=ne.div``,HR=ne.div`
  && {
    display: ${({visible:e})=>e?"flex":"none"};
    box-sizing: border-box;
    font-family: sans-serif;
    color: ${({theme:e})=>e.colors.colorPrimary};
    border-bottom-left-radius: ${({theme:e})=>e.panel.borderBottomLeftRadius};
    border-bottom-right-radius: ${({theme:e})=>e.panel.borderBottomRightRadius};
    border-top-left-radius: ${({theme:e})=>e.panel.borderTopLeftRadius};
    border-top-right-radius: ${({theme:e})=>e.panel.borderTopRightRadius};
    flex-direction: column;
    overflow: hidden;
    height: ${({theme:e})=>e.panel.height};
    box-shadow: ${({theme:e})=>e.panel.boxShadow};
    width: ${({theme:e})=>e.panel.width};
    align-items: stretch;
    justify-content: flex-start;
    position: relative;
  }
`,zR=ne.div`
  && {
    ${({theme:{panel:e,colors:t}})=>ae`
      position: absolute;
      width: ${e.arrowSize};
      height: ${e.arrowSize};

      &:after {
        content: ' ';
        transform: rotate(45deg);
        width: ${e.arrowSize};
        height: ${e.arrowSize};
        position: absolute;
        inset: ${e.arrowInset};
        background-color: ${t.brandingPrimary};
      }
    `}
  }
`,GR=ne.div`
  && {
    ${({theme:{header:e,colors:t,preference:n}})=>ae`
      display: flex;
      height: ${e.height};
      align-items: center;
      justify-content: flex-start;
      padding: ${e.padding};
      font-size: ${e.fontSize};
      color: ${e.fontColor};
      background: ${t.brandingPrimary};
      box-sizing: border-box;
    `}
  }
`,$R=ne.h3`
  && {
    ${({theme:{header:e}})=>ae`
      font-size: ${e.fontSize};
      font-weight: ${e.fontWeight};
      color: ${e.fontColor};
      padding-left: 0.5rem;
      margin-right: auto;
    `}
  }
`,VR=ne.button`
  && {
    ${({theme:{header:e}})=>ae`
      border-width: 0;
      margin: ${e.closeButtonMargin};
      position: relative;
      padding: ${e.closeButtonPadding};
      color: ${e.fontColor};
      box-sizing: border-box;
      outline: none;
      user-select: none;
      cursor: pointer;
      background-color: ${e.closeButtonBackground};

      &:hover {
      }

      svg {
        fill: white;
        stroke: none;
        height: 12px;
        width: 12px;
      }
    `}
  }
`;function YR({children:e}){return Jy.default.createElement(GR,null,e)}var KR=ne.div`
  && {
    display: flex;
    position: relative;
    flex: 1;
    flex-direction: column;
    overflow-y: auto;
    height: ${({theme:e})=>e.feed.height};
    align-items: ${({empty:e})=>e?"center":"stretch"};
    justify-content: ${({empty:e})=>e?"center":"flex-start"};
    background: ${({theme:e})=>e.feed.background};

    path[data-name='Path 154'] {
      fill: ${({theme:e})=>e.colors.brandingPrimary};
    }
  }
`,QR=ne.p`
  && {
    ${({theme:e})=>ae`
      font-size: ${e.feed.placeholderTextSize};
      margin: ${e.feed.placeholderMargin};
      font-weight: ${e.feed.placeholderFontWeight};
      color: ${e.feed.placeholderTextColor};
    `}
  }
`,XR=ne.div`
  && {
    ${({theme:e})=>ae`
      position: absolute;
      inset: ${e.jumpToTop.inset};
    `}
  }
`;function qR(){return me.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1600 1100",width:"50%"},me.default.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},me.default.createElement("path",{d:"M92.8 863.1S55.4 820 33.3 766.2c-22.1-53.8-10.8-102.6 6.2-113.4 17-10.8 57.3 45.4 59.5 95.8 2.3 50.5 0 114.5 0 114.5h-6.2Z",fill:"#52CB96",fillRule:"nonzero"}),me.default.createElement("path",{d:"M96.2 863.1s-34-203.5-17.6-297.6c16.4-94.1 54.4-91.3 74.8-78.2 20.4 13.1 43.7 79.4 13.6 195.6-30 116.2-59 180.3-59 180.3H96.2v-.1Z",fill:"#37B37F",fillRule:"nonzero"}),me.default.createElement("path",{stroke:"#FFF",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",d:"m104.7 863.1 23.1-273.7M96.2 863.1 60.5 727.8"}),me.default.createElement("path",{d:"M643.6 307.8s39.1-96.6 174.1-60.9c135 35.7 144.5 221.8 208.9 277.3 64.4 55.4 205.9 56.8 196.8 189.3-9.1 132.5-216.3 18-320.8 23.7-317.8 17.3-387 177.4-599.5 87.1-142.2-60.4-100.1-229.2 35.6-279.5 135.7-50.3 240.3-88.8 304.9-237Z",fill:"#F1F2F7",fillRule:"nonzero"}),me.default.createElement("ellipse",{fill:"#283444",fillRule:"nonzero",cx:557.1,cy:933.1,rx:143.2,ry:61.8}),me.default.createElement("path",{d:"M568.4 921.7s-3.7 4.5-13.6 4.5c-9.9 0-13.6-4.5-13.6-4.5v-127h27.2v127ZM22.8 863.1C8.8 880.3.4 902.2.4 926.1c0 55 44.6 99.7 99.7 99.7s99.7-44.6 99.7-99.7c0-23.9-8.4-45.8-22.4-63H22.8Z",fill:"#CED5E5",fillRule:"nonzero"}),me.default.createElement("path",{d:"M908.3 827.6v206.6c0 25.5 63.6 46.1 142 46.1s142-20.6 142-46.1V827.6h-284Z",fill:"#FFB3DA",fillRule:"nonzero"}),me.default.createElement("ellipse",{fill:"#ED85C3",fillRule:"nonzero",cx:1050.3,cy:827.6,rx:142,ry:67.2}),me.default.createElement("path",{d:"M267.1 513.8s-2.6-50.2 39.1-66.3c41.7-16.2 155.6-26.4 222-6.8 66.3 19.6-14.6 58 105.4 171.8C743 716.2 802 683.9 866.6 715.4S802 838.7 674.4 836.2s-198.1-28.1-261.1-70.6C350.5 723 262.9 615.9 267.1 513.8Z",fill:"#283444",fillRule:"nonzero"}),me.default.createElement("path",{d:"M525.8 746.2s21.8 22.5 67 34.1c45.9 11.8 113.1 19.9 174.6 28.3 120.9 16.7 305.6 43.1 305.6 43.1l-2.8-32.3s-293-51.9-430.7-104.9L569 681.1s-26.3 7.2-43.2 65.1Z",fill:"#5900CC",fillRule:"nonzero"}),me.default.createElement("path",{d:"m665.2 658.5 401 175.9-12.1 33.6-410.3-151.8-66.4-21.6 7.2-19.2c.1 0 53.7-28.7 80.6-16.9Z",fill:"#5900CC",fillRule:"nonzero"}),me.default.createElement("path",{d:"m401.3 448.4-9.2 57s28.3 8.5 41.8 1.6c13.5-6.9 18.9-22.4 18.9-22.4s-10.3-1.4-23.2-31.3l-28.3-4.9Z",fill:"#FFDFD7",fillRule:"nonzero"}),me.default.createElement("path",{stroke:"#CED5E5",strokeWidth:3,opacity:.3,strokeLinecap:"round",strokeLinejoin:"round",d:"M1524.1 941.8 337.8 252.7v-72.8L1404.2 29.1"}),me.default.createElement("path",{d:"M387.3 441.5s30.3 19 55.6 11.3c25.2-7.7-8.6-109.1-8.6-109.1s-14-22.6-49.5-14.1c-35.6 8.5-40.3 74.4 2.5 111.9Z",fill:"#FFDFD7",fillRule:"nonzero"}),me.default.createElement("path",{d:"M394.7 489.7s-17.6 10.5-34.6 29.3c-8.7 9.6 29.3 74.4 73.5 130.7 42.1 53.7 90.3 99.1 90.3 99.1s31-44.6 69.5-63.9c38.6-19.3 74.5-27.2 74.5-27.2s-90.7-78.2-141-125.5l-33.6-53.3s-20.4-2.3-47.2 1.1c-.1.2-14.7 17.3-51.4 9.7Z",fill:"#FFC933",fillRule:"nonzero"}),me.default.createElement("path",{d:"M473.4 597.9s18.1-8.1 36.2-10.6c18.1-2.6 12.3 20.4 6.2 29.1-6.1 8.7-48.7 12.3-48.7 12.3s-8.9-5.3-6.3-13.3c2.6-8 5.7-13.9 12.6-17.5Z",fill:"#FFDFD7",fillRule:"nonzero"}),me.default.createElement("path",{d:"M493.2 479.1s35.5 2 89.1 30.7l16 10.5s33.6 21.4 39 34.2c5.4 12.8-.3 25.2-6.4 30.9l-33-28.8-69.9-22.5-34.8-55ZM360 519c-5.7 8.1-11.3 18.3-16.1 31.1-19.3 51-19.3 93-15.5 97.1 3.8 4.2 52.2 6 139.1-18.1 0 0-7.6-8.7 6.4-32.1 0 0-54.8 6.8-94.1 9.4l9.4-34s4.2-29.9-12.9-43.5L360 519Z",fill:"#FFC933",fillRule:"nonzero"}),me.default.createElement("path",{stroke:"#FEAC00",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",d:"m547 550.9-31.2-28.5"}),me.default.createElement("path",{d:"m491.9 654.7 12.8-81.1c.5-3.3 2.7-6.1 5.8-7.4l103.6-43.5c1.8-.8 5.4-.2 8.1 2.1 1 .9-1.6 1.2-1.8 2.7l-11.2 72c-.5 3.1-2.4 5.7-5.2 7.1l-102.1 54.8c-3.5 1.8-10.9-1.7-10-6.7Z",fill:"#CED5E5",fillRule:"nonzero"}),me.default.createElement("path",{d:"m495.8 656.5 12.8-81.1c.5-3.3 2.7-6.1 5.8-7.4L618 524.5c3.3-1.4 6.8 1.4 6.2 4.9l-11.2 72c-.5 3.1-2.4 5.7-5.2 7.1l-105.5 52.7c-3.3 1.7-7-1.1-6.5-4.7Z",fill:"#F1F2F7",fillRule:"nonzero"}),me.default.createElement("ellipse",{fill:"#CED5E5",fillRule:"nonzero",transform:"rotate(-67.61 568.994 588.443)",cx:568.994,cy:588.443,rx:13.6,ry:9.5}),me.default.createElement("path",{d:"M624.3 558.8s-22.2 6-27.2 8.7c-4.9 2.6-12.5 4.9-12.5 12.5s6.8 17.8 12.9 18.5c6 .8 28.2-6.3 33.4-13.2 5.2-6.9 4.5-28-6.6-26.5Z",fill:"#FFDFD7",fillRule:"nonzero"}),me.default.createElement("path",{d:"M435.2 346.6s6.5-11.4-6.5-18.9c-13-7.5-54.2-16.6-72 24.8 0 0-16.7 3.7-11.3 34.9 5.4 31.2 42 54.1 42 54.1l-3.6-37 8.2-5.1-9.7-26.3c-.1.1 39.5-1.9 52.9-26.5Z",fill:"#8B34FF",fillRule:"nonzero"}),me.default.createElement("path",{d:"M385.3 409.5s-.9-8.5-8.9-11.6c-8-3.1-15 4-13.3 13.6 1.7 9.7 14.9 18.7 26.5 13.2l-4.3-15.2Z",fill:"#FFDFD7",fillRule:"nonzero"}),me.default.createElement("path",{stroke:"#FEAC00",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",d:"m474 597-94.2 9.4 9.5-34M467.5 629.1l-40.6 9.6"}),me.default.createElement("path",{d:"M1070.2 819.4s1.9-22.9 11.7-40.3c9.8-17.4 23.6-20 23.6-20l-.8 92.6H1073l-2.8-32.3Z",fill:"#FFF",fillRule:"nonzero"}),me.default.createElement("path",{d:"M1065.5 836.4s12.2-21.2 29.4-33.6c17.2-12.4 31.4-8.8 31.4-8.8l-42.8 89-30-14.1 12-32.5Z",fill:"#FFF",fillRule:"nonzero"}),me.default.createElement("path",{stroke:"#8B34FF",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",d:"m667.8 725.1 385.7 143.7 12.7-34.5-62.7-27.5"}),me.default.createElement("path",{d:"M1070.9 828.1s16.6-26 34.6-31.4",stroke:"#F1F2F7",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),me.default.createElement("path",{d:"M258.6 273.1H38.1c-15.3 0-27.6-12.4-27.6-27.6v-58.4c0-15.3 12.4-27.6 27.6-27.6h220.5c15.3 0 27.6 12.4 27.6 27.6v58.4c0 15.3-12.3 27.6-27.6 27.6ZM126.7.2h13.6v159.3h-13.6z",stroke:"#FEAC00",fill:"#FFB3DA",fillRule:"nonzero"}),me.default.createElement("path",{d:"M339 256.2h-6.3c-22.1 0-39.9-17.9-39.9-39.9 0-22.1 17.9-39.9 39.9-39.9h6.3v79.8Z",fill:"#ED85C3",fillRule:"nonzero"}),me.default.createElement("path",{d:"m1524.1 941.8-118.1-153c-3.2-4.1-4.9-9.2-4.9-14.4v-740c0-4 3.8-6.9 7.7-5.8l112.8 32.5c5.7 1.6 9.6 6.8 9.6 12.7v865.6c-.1 3.7-4.8 5.3-7.1 2.4Z",fill:"#F1F2F7",fillRule:"nonzero"}),me.default.createElement("path",{fill:"#ED85C3",fillRule:"nonzero",d:"M100.1.2h67.3v20h-67.3z"})))}var JR=ne.div`
  && {
    ${({theme:{feedItem:e},clickable:t})=>ae`
      display: flex;
      flex-flow: row nowrap;
      align-items: center;
      cursor: ${t?"pointer":"unset"};
      justify-content: flex-start;
      padding: ${e.padding};
      border-bottom: ${e.border};
      background: ${e.background};
      font-family: sans-serif;
      line-height: normal;
      &:hover {
        transition: ${e.hoverTransition};
        background: ${e.hoverBackground};
      }
    `}
  }
`,ZR=ne.img`
  && {
    ${({theme:{feedItem:e}})=>ae`
      height: ${e.imageSize};
      width: ${e.imageSize};
      flex-shrink: 0;
      border-radius: ${e.imageRadius};
    `}
  }
`,Zy=ne.div`
  && {
    ${({theme:{feedItem:e}})=>ae`
      display: flex;
      align-self: flex-start;
      flex-flow: column nowrap;
      justify-content: flex-start;
      align-items: flex-start;
      padding: ${e.textContentPadding};
      margin: ${e.textContentMargin};
      line-height: normal;
      p,
      h4 {
        margin: 0;
      }
    `}
  }
`,e1=ne.h4`
  && {
    ${({theme:{feedItem:e}})=>ae`
      font-weight: ${e.headerFontWeight};
      font-size: ${e.headerSize};
      padding: ${e.headerPadding};
      color: ${e.headerColor};
    `}
  }
`,t1=ne.p`
  && {
    ${({theme:{feedItem:e}})=>ae`
      font-size: ${e.descriptionSize};
      padding: ${e.descriptionPadding};
      color: ${e.descriptionColor};
    `}
  }
`,eP=ne.p`
  && {
    ${({theme:{feedItem:e}})=>ae`
      font-size: ${e.dateSize};
      color: ${e.dateColor};
    `}
  }
`,tP=ne.div`
  && {
    ${({theme:{feedItem:e}})=>ae`
      display: flex;
      justify-content: space-between;
      margin: ${e.menuMargin};
      align-items: center;
      svg {
        fill: ${e.notificationDot};
        height: ${e.notificationDotSize};
        width: ${e.notificationDotSize};
      }
    `}
  }
`,Wy=ne.div`
  && {
    ${({theme:{feedItem:e}})=>ae`
      display: flex;
      flex-flow: row nowrap;
      align-items: center;
      justify-content: flex-start;
      padding: ${e.padding};
      border: ${e.border};
      background: ${e.background};
    `}
  }
`,Hy=ne.div`
  && {
    ${({theme:{feedItem:e}})=>ae`
      height: ${e.imageSize};
      width: ${e.imageSize};
      flex-shrink: 0;
      background: ${e.placeHolderBackground};
      border-radius: ${e.imageRadius};
    `}
  }
`,zy=ne(Zy)`
  && {
    flex: 1;
    align-items: stretch;
  }
`,Gy=ne(e1)`
  && {
    ${({theme:{feedItem:e}})=>ae`
      background: ${e.placeHolderBackground};
      color: ${e.placeHolderBackground};
      margin: 0 0 0.8rem 0 !important;
      padding: 0;
    `}
  }
`,$y=ne(t1)`
  && {
    ${({theme:{feedItem:e}})=>ae`
      background: ${e.placeHolderBackground};
      color: ${e.placeHolderBackground};
      margin: 0 12rem 0 0 !important;
      padding: 0;
    `}
  }
`,Yo=ne.span`
  && {
    display: block;
    @keyframes placeHolderShimmer {
      0% {
        background-position: -468px 0;
      }
      100% {
        background-position: 468px 0;
      }
    }

    animation-duration: 1.25s;
    animation-fill-mode: forwards;
    animation-iteration-count: infinite;
    animation-name: placeHolderShimmer;
    animation-timing-function: linear;
    background: ${({theme:{feedItem:e}})=>e.placeHolderGradient};
    background-size: 800px 104px;
    height: 100%;
    width: 100%;
    border-radius: ${({circle:e})=>e?"50%":"unset"};
    position: relative;
  }
`,nP=ne.button`
  && {
    ${({theme:{colors:e},dropdownTheme:t})=>ae`
      display: flex;
      border-width: ${t.borderWidth};
      margin: ${t.margin};
      padding: ${t.padding};
      box-sizing: border-box;
      outline: ${t.outline};
      user-select: none;
      cursor: pointer;
      background-color: ${t.background};

      svg {
        fill: ${t.iconFill};
        stroke: ${t.iconFill};
        height: ${t.iconHeight};
        width: ${t.iconWidth};
      }

      &:hover {
        transition: ${t.transition};
        fill: ${e.brandingPrimary};
        stroke: ${e.brandingPrimary};
        background: ${t.hoverBackground};
      }
    `}
  }
`,rP=ne.div`
  z-index: 1000000;
`,oP=ne.div`
  && {
    ${({visible:e,dropdownTheme:t})=>ae`
      display: ${e?"flex":"none"};
      flex-direction: column;
      background: ${t.menuBackground};
      border-radius: ${t.menuBorderRadius};
      font-family: sans-serif;
      box-shadow: ${t.menuShadow}; ;
    `}
  }
`,iP=ne.div`
  && {
    ${({theme:{dropdown:e}})=>ae`
      justify-content: flex-start;
      color: ${e.menuItemTextColor};
      display: flex;
      cursor: pointer;
      padding: ${e.menuItemPadding};
      align-items: center;
      font-size: 0.9rem;

      &:hover {
        background-color: ${e.menuItemHoverBackground};
      }
    `}
  }
`;function aP(){return nr.default.createElement("svg",{id:"light",enableBackground:"new 0 0 24 24",height:"512",viewBox:"0 0 24 24",width:"512",xmlns:"http://www.w3.org/2000/svg"},nr.default.createElement("g",null,nr.default.createElement("path",{d:"m12 6c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3zm0-5c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2z"})),nr.default.createElement("g",null,nr.default.createElement("path",{d:"m12 15c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3zm0-5c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2z"})),nr.default.createElement("g",null,nr.default.createElement("path",{d:"m12 24c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3zm0-5c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2z"})))}function n1({items:e=[],isVisible:t,theme:n}){let[r,o]=(0,lt.useState)(!1),i=(0,lt.useRef)(null),a=(0,lt.useRef)(null),{styles:u,attributes:d,update:S}=dp(i.current,a.current,{placement:"bottom",modifiers:[{name:"preventOverflow",enabled:!0},{name:"offset",enabled:!0,options:{offset:[-10,10]}}]});(0,lt.useEffect)(()=>(document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}),[]);function y(w){var C,O;let h=w.target;((C=i.current)==null?void 0:C.contains(h))||((O=a.current)==null?void 0:O.contains(h))||o(!1)}function E(){o(!r),S==null||S()}function l(w,C){w.stopPropagation(),C(),o(!1)}return lt.default.createElement(lt.Fragment,null,lt.default.createElement(nP,{"aria-label":"More",ref:i,dropdownTheme:n,style:{visibility:t?"visible":"hidden"},onClick:E},lt.default.createElement(aP,null)),lt.default.createElement(rP,Cn({ref:a,style:u.popper},d.popper),lt.default.createElement(oP,{style:u.offset,visible:r,dropdownTheme:n},e.map(w=>lt.default.createElement(iP,{key:w.name,"data-name":w.name,onClick:C=>{l(C,w.action)}},w.name)))))}function sP({style:e={}}={}){return pp.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",style:Cn({},e)},pp.default.createElement("circle",{cx:"50",cy:"50",r:"50"}))}function uP({loaderRef:e}){return ve.default.createElement("div",{ref:e},ve.default.createElement(Wy,null,ve.default.createElement(Hy,null,ve.default.createElement(Yo,{circle:!0})),ve.default.createElement(zy,null,ve.default.createElement(Gy,null,ve.default.createElement(Yo,null,"\xA0")),ve.default.createElement($y,null,ve.default.createElement(Yo,null,"\xA0")))),ve.default.createElement(Wy,null,ve.default.createElement(Hy,null,ve.default.createElement(Yo,{circle:!0})),ve.default.createElement(zy,null,ve.default.createElement(Gy,null,ve.default.createElement(Yo,null,"\xA0")),ve.default.createElement($y,null,ve.default.createElement(Yo,null,"\xA0")))))}function lP({heading:e,description:t,imageUrl:n,clickableUrl:r,placeholderImage:o,read:i,time:a,id:u,isMobile:d,onFeedItemClick:S,markAsClicked:y,deleteNotification:E}){let[l,w]=(0,ve.useState)(!1),[C,O]=(0,ve.useState)(!1),h=(0,ve.useRef)(null),m=(0,ve.useMemo)(()=>i?[{name:"Delete",action:E}]:[{name:"Delete",action:E},{name:"Mark As Read",action:y}],[i]),v=()=>{w(!0)},s=()=>{w(!1)},f=g=>{var p;if(!((p=h.current)!=null&&p.contains(g.target))){if(S){S(g,{id:u,url:r,markAsClicked:y});return}!r||(y(),window.open(r,"__blank"))}},c=()=>n||o;return ve.default.createElement(JR,{clickable:r!=null,onMouseEnter:v,onMouseLeave:s,onFocus:v,onBlur:s,onClick:f},ve.default.createElement(ZR,{src:c(),onError:()=>{O(!0)}}),ve.default.createElement(Zy,null,ve.default.createElement(e1,{dangerouslySetInnerHTML:{__html:e}}),ve.default.createElement(t1,{dangerouslySetInnerHTML:{__html:t}}),ve.default.createElement(eP,null,a)),ve.default.createElement(tP,{ref:h},ve.default.createElement(n1,{items:m,isVisible:d||l,theme:gp.dropdown}),ve.default.createElement(sP,{style:{visibility:i?"hidden":"visible"}})))}var fP=ne.button`
  && {
    ${({theme:{jumpToTop:e}})=>ae`
      display: flex;
      position: fixed;
      justify-items: center;
      align-content: center;
      box-shadow: ${e.shadow};
      border-width: 0;
      border-radius: ${e.borderRadius};
      margin: ${e.margin};
      padding: ${e.padding};
      box-sizing: border-box;
      outline: none;
      user-select: none;
      cursor: pointer;
      background-color: ${e.background};
      transition: ${e.transition};
      &:hover {
      }

      svg {
        height: ${e.iconSize};
        width: ${e.iconSize};
        fill: ${e.iconFill};
      }
    `}
  }
`;function cP(){return ze.default.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 330 330"},ze.default.createElement("g",{id:"XMLID_85_"},ze.default.createElement("path",{id:"XMLID_86_",d:`M25.607,190.607L164.997,51.214l139.396,139.393C307.323,193.536,311.161,195,315,195
		c3.839,0,7.678-1.464,10.606-4.394c5.858-5.858,5.858-15.355,0-21.213l-150.003-150C172.79,16.58,168.976,15,164.997,15
		s-7.794,1.581-10.607,4.394l-149.997,150c-5.858,5.858-5.858,15.355,0,21.213C10.251,196.465,19.749,196.465,25.607,190.607z`}),ze.default.createElement("path",{id:"XMLID_87_",d:`M175.603,139.393c-2.813-2.813-6.628-4.393-10.606-4.393c-3.979,0-7.794,1.581-10.607,4.394l-149.996,150
		c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213-0.001l139.39-139.393l139.397,139.394
		C307.323,313.536,311.161,315,315,315c3.839,0,7.678-1.464,10.606-4.394c5.858-5.858,5.858-15.355,0-21.213L175.603,139.393z`})),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null),ze.default.createElement("g",null))}function dP({onClick:e}){return hp.default.createElement(fP,{"aria-label":"Jump to Top",onClick:e},hp.default.createElement(cP,null))}var pP="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4KICAgIDxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBmaWxsPSJyZ2JhKDAsMTkxLDE2NiwuMykiIC8+Cjwvc3ZnPg==";function ol(e,...t){if(!e)return null;let n=e(...t);return typeof n=="string"?r1.default.createElement("div",{dangerouslySetInnerHTML:{__html:n}}):n}var o1=150,hP={transition:`opacity ${o1}ms ease-in-out`,opacity:0},mP={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}},gP=e=>yt.default.createElement(yt.Fragment,null,yt.default.createElement(qR,null),yt.default.createElement(QR,null,e)),vP=(e,t,n,r,o,i,a)=>ol(t,e)||yt.default.createElement(lP,{heading:e.heading,clickableUrl:e.clickableUrl,description:e.description,imageUrl:e.imageUrl,read:e.clickedAt!=null,time:e.time,placeholderImage:n,key:e.id,id:e.id,markAsClicked:()=>a(e.id),deleteNotification:()=>i(e.id),isMobile:r,onFeedItemClick:o});function yP({empty:e=!1,renderCustomPlaceholderContent:t,renderCustomNotificationContent:n,notifications:r=[],placeholderText:o="Shh! It's quiet around here..."}){var i;let a=vp(),{onNotificationScroll:u,jumpToTop:d,showJumpToTop:S}=((i=a.useJumpToTop)==null?void 0:i.call(a))||{},{placeholderImage:y=pP}=a,E=a.isMobile||!1,l=a.onFeedItemClick,w=a.setLoaderRef,C=a.hasMore,O=a.deleteNotification,h=a.markAsRead,m=v=>{var s;let f=(s=v.currentTarget.parentNode)==null?void 0:s.parentElement;d==null||d(f)};return yt.default.createElement(KR,{id:"engagespot-scroll-root",empty:e,onScroll:u},yt.default.createElement(lp,{in:S,timeout:o1},v=>yt.default.createElement(XR,{style:Cn(Cn({},hP),mP[v])},yt.default.createElement(dP,{onClick:m}))),e?ol(t)||gP(o):yt.default.createElement(yt.default.Fragment,null,r.map(v=>vP(v,n,y,E,l,O,h)),C&&yt.default.createElement(uP,{loaderRef:w})))}function i1(){return tl.default.createElement("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},tl.default.createElement("rect",{x:"0.925781",width:"12.8327",height:"1.30946",transform:"rotate(45 0.925781 0)"}),tl.default.createElement("rect",{y:"9.07404",width:"12.8327",height:"1.30946",transform:"rotate(-45 0 9.07404)"}))}var SP=ne.input`
  && {
    ${({theme:{toggle:e}})=>ae`
      /* Toggle Button */
      & {
        -webkit-appearance: none;
        -webkit-tap-highlight-color: transparent;
        position: relative;
        border: 0;
        outline: 0;
        cursor: pointer;
        margin: 10px;
        transform: scale(0.7);
      }

      /* To create surface of toggle button */
      &:after {
        content: '';
        width: 60px;
        height: 28px;
        display: inline-block;
        background: ${e.background};
        border-radius: 18px;
        clear: both;
      }

      /* Contents before checkbox to create toggle handle */
      &:before {
        content: '';
        width: 32px;
        height: 32px;
        display: block;
        position: absolute;
        left: -1px;
        top: -2px;
        transform: scale(0.7);
        border-radius: 50%;
        background: ${e.dotColor};
      }

      /* Shift the handle to left on check event */
      &:checked:before {
        left: 29px;
      }
      /* Background color when toggle button will be active */
      &:checked:after {
        background: ${e.activeColor};
      }

      &:disabled {
        cursor: not-allowed;
        opacity: 0.5;
      }

      &,
      &:before,
      &:after,
      &:checked:before,
      &:checked:after {
        transition: ease 0.3s;
        -webkit-transition: ease 0.3s;
        -moz-transition: ease 0.3s;
        -o-transition: ease 0.3s;
      }
    `}
  }
`,wP=ne.div`
  && {
    ${({theme:{preference:e,colors:t}})=>ae`
      display: flex;
      position: relative;
      flex: 1;
      flex-direction: column;
      overflow-y: auto;
      height: ${e.height};
      align-items: stretch;
      justify-content: flex-start;
      padding: ${e.padding};
      color: ${e.fontColor};
      background: ${e.background};
    `}
  }
`,xP=ne.h3`
  && {
    ${({theme:{preference:e,colors:t}})=>ae`
      font-size: 1rem;
      font-weight: 'bold';
      margin: 0.2rem 0rem;
    `}
  }
`,EP=ne.label`
  && {
    ${({theme:{preference:e,colors:t}})=>ae`
      font-size: 0.8rem;
      margin: 0.4rem 0rem 0 0;
    `}
  }
`,CP=ne.div`
  && {
    ${({theme:{preference:e,colors:t}})=>ae`
      display: grid;
      grid-template-columns: repeat(2, minmax(min-content, 1fr));
      gap: 1.2rem;
      align-items: flex-start;
      padding: 0.5rem 0.7rem;
      margin: 0.8rem 0;
    `}
  }
`,OP=ne.div`
  && {
    ${({theme:{preference:e}})=>ae`
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 0.4rem;

      label {
        margin: 0 0.2rem 0 0;
      }
    `}
  }
`,TP=ne.button`
  && {
    ${({theme:{preference:e}})=>ae`
      margin-top: 3px;
    `}
  }
`,RP=ne.div`
  && {
    ${({theme:{preferenceModal:e,header:t}})=>ae`
      background-color: ${e.overlayBackground};
      opacity: ${e.overlayOpacity};
      width: 100%;
      height: 100%;
      position: absolute;
      z-index: 1000;
      margin: ${t.height} 0 0 0;
    `}
  }
`,PP=ne.div`
  && {
    ${({theme:{preferenceModal:e}})=>ae`
      position: absolute;
      height: ${e.height};
      bottom: 0;
      left: 0;
      z-index: 1500;
      border-radius: ${e.borderRadius};
    `}
  }
`,AP=ne.div`
  && {
    ${({theme:{preferenceModal:e}})=>ae`
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      width: 100%;
      height: 100%;
      border-radius: ${e.borderRadius};
      background-color: ${e.background};
      backdrop-filter: ${e.backdropFilter};
      padding: ${e.padding};
      position: relative;
    `}
  }
`,IP=ne.div`
  && {
    ${({theme:{preferenceModal:e}})=>ae`
      display: flex;
      margin: ${e.headerMargin};
    `}
  }
`,MP=ne.h6`
  && {
    ${({theme:{preferenceModal:e}})=>ae`
      font-size: ${e.headerFontSize};
      color: ${e.headingColor};
      margin-right: auto;
    `}
  }
`,bP=ne.button`
  && {
    ${({theme:{preferenceModal:e}})=>ae`
      position: absolute;
      right: 1rem;
      top: 0.5rem;

      svg {
        height: ${e.closeButtonSize};
        width: ${e.closeButtonSize};
        fill: ${e.closeButtonColor};
      }
    `}
  }
`,DP=ne.p`
  && {
    ${({theme:{preferenceModal:e}})=>ae`
      color: ${e.textPrimaryColor};
      margin: ${e.textPrimaryMargin};
      font-size: ${e.textPrimaryFontSize};
      text-align: ${e.textAlign};
    `}
  }
`,kP=ne.p`
  && {
    ${({theme:{preferenceModal:e}})=>ae`
      color: ${e.textSecondaryColor};
      margin: ${e.textSecondaryMargin};
      font-size: ${e.textSecondaryFontSize};
      text-align: ${e.textAlign};
    `}
  }
`,NP=ne.button`
  && {
    ${({theme:{preferenceModal:e,colors:t}})=>ae`
      color: ${e.buttonPrimaryColor};
      font-weight: ${e.primaryButtonFontWeight};
      background-color: ${e.buttonPrimaryBackgroundColor};
      padding: ${e.primaryButtonPadding};
      border-radius: ${e.primaryButtonBorderRadius};
      margin: ${e.primaryButtonMargin};
      transition: ${e.primaryButtonTransition};

      &:hover {
        background-color: ${e.buttonPrimaryHoverBackgroundColor};
      }
    `}
  }
`,_P=ne.button`
  && {
    ${({theme:{preferenceModal:e}})=>ae`
        transition: ${e.primaryButtonTransition};
        color: ${e.buttonSecondaryColor};
        background-color: ${e.buttonSecondaryBackgroundColor};

        &:hover {
          background-color: ${e.buttonSecondaryHoverBackgroundColor};
        }
      `}
  }
`;function LP({enableWebPush:e,webPushState:t}){let n=vp(),{preferences:r,setPreferences:o}=n,i=(d,S)=>{let y=S.target.checked;d.channel==="webPush"&&t!=="granted"&&e(),o==null||o([{categoryId:d.categoryId,channels:[{enabled:y,channel:d.channel}]}])},a=r==null?void 0:r.channels.filter(d=>d.id!=="sms"),u=r==null?void 0:r.userPreferences;return We.default.createElement(wP,null,a==null?void 0:a.map(d=>We.default.createElement(We.Fragment,{key:d==null?void 0:d.id},We.default.createElement(xP,null,d==null?void 0:d.name),(d==null?void 0:d.id)==="webPush"&&t==="denied"?We.default.createElement(EP,null,"Web Push is currently disabled on the browser. Enable it manually by going into the browser settings"):null,We.default.createElement(CP,null,u==null?void 0:u.map(S=>We.default.createElement(OP,{key:S.category.id},We.default.createElement("label",{htmlFor:`${d.id}-${S.category.id}`},S.category.name),We.default.createElement(SP,{type:"checkbox",id:`${d.id}-${S.category.id}`,checked:S.channels[d.id].enabled,disabled:d.id==="webPush"&&["denied"].includes(t),onChange:y=>i({categoryId:S.category.id,channel:d.id},y)})))))))}function UP({closeModal:e,allowNotifications:t}){return We.default.createElement(PP,null,We.default.createElement(AP,null,We.default.createElement(IP,null,We.default.createElement(MP,null,"Enable Desktop Notifications"),We.default.createElement(bP,{onClick:e},We.default.createElement(i1,null))),We.default.createElement(DP,null,"Allow Engagespot to send you push notification when you have new messages and offers"),We.default.createElement(NP,{onClick:t},"Yes"),We.default.createElement(_P,{onClick:e},"Maybe later"),We.default.createElement(kP,null,"You can change your preferences in Settings later, if needed")))}var BP=ne.div`
  && {
    ${({theme:{footer:e}})=>ae`
      display: flex;
      height: ${e.height};
      border-top: ${e.border};
      align-items: center;
      justify-content: center;
      padding: ${e.padding};
      font-size: ${e.fontSize};
      color: ${e.fontColor};
      background: ${e.background};
      box-sizing: border-box;
    `}
  }
`,FP=ne.h3`
  && {
    ${({theme:{footer:e}})=>ae`
      font-size: ${e.fontSize};
      font-weight: ${e.fontWeight};
      color: ${e.fontColor};
    `}
  }
`,jP=ne.a`
  && {
    ${({theme:{footer:e}})=>ae`
      font-size: ${e.fontSize};
      color: ${e.fontColor};
      margin: ${e.linkMargin};
      cursor: pointer;

      svg {
        height: ${e.linkSize};
        width: ${e.linkSize};
        border-radius: ${e.linkRadius};
      }
    `}
  }
`,WP=ne.button`
  && {
    ${({theme:{footer:e}})=>ae`
      cursor: pointer;
      margin: ${e.preferenceButtonMargin};
      padding: ${e.preferenceButtonPadding};
      &:hover {
        transition: ${e.preferenceButtonHoverTransition};
        background: ${e.preferenceButtonHoverBackground};
      }

      svg {
        height: ${e.preferenceButtonSize};
        width: ${e.preferenceButtonSize};
        fill: ${e.preferenceButtonColor};
      }
    `}
  }
`;function HP(){return Aa.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50pt",height:"50pt",viewBox:"0 0 50 50"},Aa.default.createElement("path",{d:"M2.445 0h45.11A2.444 2.444 0 0150 2.445v45.11A2.444 2.444 0 0147.555 50H2.445A2.444 2.444 0 010 47.555V2.445A2.444 2.444 0 012.445 0zm0 0",fill:"#1abc9c"}),Aa.default.createElement("path",{d:"M25.879 24.121a23.133 23.133 0 00-16.465-6.82 2.72 2.72 0 00-2.719 2.719 2.72 2.72 0 002.72 2.718c4.769 0 9.25 1.856 12.62 5.227a17.728 17.728 0 015.227 12.62 2.72 2.72 0 105.437 0 23.133 23.133 0 00-6.82-16.464zm0 0",fill:"#fff"}),Aa.default.createElement("path",{d:"M41.672 40.586c.004-8.617-3.352-16.715-9.445-22.809-6.094-6.093-14.196-9.449-22.813-9.449a2.72 2.72 0 100 5.438c7.164 0 13.902 2.789 18.965 7.855 5.066 5.067 7.855 11.8 7.855 18.965a2.717 2.717 0 002.72 2.703 2.717 2.717 0 002.718-2.703zm0 0",fill:"#fff"}))}function zP(){return mp.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},mp.default.createElement("path",{d:"M 22.205078 2 A 1.0001 1.0001 0 0 0 21.21875 2.8378906 L 20.246094 8.7929688 C 19.076509 9.1331971 17.961243 9.5922728 16.910156 10.164062 L 11.996094 6.6542969 A 1.0001 1.0001 0 0 0 10.708984 6.7597656 L 6.8183594 10.646484 A 1.0001 1.0001 0 0 0 6.7070312 11.927734 L 10.164062 16.873047 C 9.583454 17.930271 9.1142098 19.051824 8.765625 20.232422 L 2.8359375 21.21875 A 1.0001 1.0001 0 0 0 2.0019531 22.205078 L 2.0019531 27.705078 A 1.0001 1.0001 0 0 0 2.8261719 28.691406 L 8.7597656 29.742188 C 9.1064607 30.920739 9.5727226 32.043065 10.154297 33.101562 L 6.6542969 37.998047 A 1.0001 1.0001 0 0 0 6.7597656 39.285156 L 10.648438 43.175781 A 1.0001 1.0001 0 0 0 11.927734 43.289062 L 16.882812 39.820312 C 17.936999 40.39548 19.054994 40.857928 20.228516 41.201172 L 21.21875 47.164062 A 1.0001 1.0001 0 0 0 22.205078 48 L 27.705078 48 A 1.0001 1.0001 0 0 0 28.691406 47.173828 L 29.751953 41.1875 C 30.920633 40.838997 32.033372 40.369697 33.082031 39.791016 L 38.070312 43.291016 A 1.0001 1.0001 0 0 0 39.351562 43.179688 L 43.240234 39.287109 A 1.0001 1.0001 0 0 0 43.34375 37.996094 L 39.787109 33.058594 C 40.355783 32.014958 40.813915 30.908875 41.154297 29.748047 L 47.171875 28.693359 A 1.0001 1.0001 0 0 0 47.998047 27.707031 L 47.998047 22.207031 A 1.0001 1.0001 0 0 0 47.160156 21.220703 L 41.152344 20.238281 C 40.80968 19.078827 40.350281 17.974723 39.78125 16.931641 L 43.289062 11.933594 A 1.0001 1.0001 0 0 0 43.177734 10.652344 L 39.287109 6.7636719 A 1.0001 1.0001 0 0 0 37.996094 6.6601562 L 33.072266 10.201172 C 32.023186 9.6248101 30.909713 9.1579916 29.738281 8.8125 L 28.691406 2.828125 A 1.0001 1.0001 0 0 0 27.705078 2 L 22.205078 2 z M 23.056641 4 L 26.865234 4 L 27.861328 9.6855469 A 1.0001 1.0001 0 0 0 28.603516 10.484375 C 30.066026 10.848832 31.439607 11.426549 32.693359 12.185547 A 1.0001 1.0001 0 0 0 33.794922 12.142578 L 38.474609 8.7792969 L 41.167969 11.472656 L 37.835938 16.220703 A 1.0001 1.0001 0 0 0 37.796875 17.310547 C 38.548366 18.561471 39.118333 19.926379 39.482422 21.380859 A 1.0001 1.0001 0 0 0 40.291016 22.125 L 45.998047 23.058594 L 45.998047 26.867188 L 40.279297 27.871094 A 1.0001 1.0001 0 0 0 39.482422 28.617188 C 39.122545 30.069817 38.552234 31.434687 37.800781 32.685547 A 1.0001 1.0001 0 0 0 37.845703 33.785156 L 41.224609 38.474609 L 38.53125 41.169922 L 33.791016 37.84375 A 1.0001 1.0001 0 0 0 32.697266 37.808594 C 31.44975 38.567585 30.074755 39.148028 28.617188 39.517578 A 1.0001 1.0001 0 0 0 27.876953 40.3125 L 26.867188 46 L 23.052734 46 L 22.111328 40.337891 A 1.0001 1.0001 0 0 0 21.365234 39.53125 C 19.90185 39.170557 18.522094 38.59371 17.259766 37.835938 A 1.0001 1.0001 0 0 0 16.171875 37.875 L 11.46875 41.169922 L 8.7734375 38.470703 L 12.097656 33.824219 A 1.0001 1.0001 0 0 0 12.138672 32.724609 C 11.372652 31.458855 10.793319 30.079213 10.427734 28.609375 A 1.0001 1.0001 0 0 0 9.6328125 27.867188 L 4.0019531 26.867188 L 4.0019531 23.052734 L 9.6289062 22.117188 A 1.0001 1.0001 0 0 0 10.435547 21.373047 C 10.804273 19.898143 11.383325 18.518729 12.146484 17.255859 A 1.0001 1.0001 0 0 0 12.111328 16.164062 L 8.8261719 11.46875 L 11.523438 8.7734375 L 16.185547 12.105469 A 1.0001 1.0001 0 0 0 17.28125 12.148438 C 18.536908 11.394293 19.919867 10.822081 21.384766 10.462891 A 1.0001 1.0001 0 0 0 22.132812 9.6523438 L 23.056641 4 z M 25 17 C 20.593567 17 17 20.593567 17 25 C 17 29.406433 20.593567 33 25 33 C 29.406433 33 33 29.406433 33 25 C 33 20.593567 29.406433 17 25 17 z M 25 19 C 28.325553 19 31 21.674447 31 25 C 31 28.325553 28.325553 31 25 31 C 21.674447 31 19 28.325553 19 25 C 19 21.674447 21.674447 19 25 19 z"}))}var GP=()=>tn.default.createElement(tn.Fragment,null,tn.default.createElement(jP,{href:"https://engagespot.co",target:"__blank","aria-label":"Engagespot Logo"},tn.default.createElement(HP,null)),tn.default.createElement(FP,null,"Powered by Engagespot"));function $P({footerContent:e,showPreferences:t}){let{togglePreference:n}=vp(),r=()=>{n==null||n(o=>!o)};return tn.default.createElement(BP,null,e==null?void 0:e(),t?tn.default.createElement(WP,{onClick:r},tn.default.createElement(zP,null)):null)}function VP(){return Ia.default.createElement("svg",{width:"20",height:"13",viewBox:"0 0 20 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ia.default.createElement("path",{d:"M0.6129 5.79701C0.951277 5.45864 1.49989 5.45864 1.83827 5.79701L7.02994 10.9887C7.36832 11.3271 7.36831 11.8757 7.02994 12.2141V12.2141C6.69156 12.5524 6.14294 12.5524 5.80457 12.2141L0.612899 7.02238C0.274522 6.68401 0.274523 6.13539 0.6129 5.79701V5.79701Z",fill:"white"}),Ia.default.createElement("path",{d:"M0.612686 7.0428C0.274309 6.70442 0.274309 6.15581 0.612686 5.81743L5.81742 0.612699C6.15579 0.274322 6.70441 0.274322 7.04279 0.612699V0.612699C7.38117 0.951076 7.38117 1.49969 7.04279 1.83807L1.83806 7.0428C1.49968 7.38118 0.951063 7.38118 0.612686 7.0428V7.0428Z",fill:"white"}),Ia.default.createElement("path",{d:"M20 6.15465C20 6.63319 19.6121 7.02112 19.1335 7.02112L1.97744 7.02112L1.97744 5.28818L19.1335 5.28818C19.6121 5.28818 20 5.67611 20 6.15465V6.15465Z",fill:"white"}))}function YP({notifications:e=[],panelProps:t,arrowProps:n,route:r,webPushState:o,setRoute:i,panelOffsetProps:a,footerContent:u,renderNotificationContent:d,renderEmptyPlaceholderImage:S,togglePanelVisibility:y,visible:E=!1,showPreferences:l,enableWebPush:w,headerDropdownItems:C=[],headerText:O="Notifications"}){let h=r==="home"?O:"Preferences",m=()=>{i("home")},v=(l?[{name:"Preferences",action:()=>{i("preference")}}]:[]).concat(C),[s,f]=(0,je.useState)(!0),[c,g,p]=rp("showNotificationOverlay","true"),x=()=>{f(!1),g("false")},T=()=>{f(!1),w(),g("false")},A=()=>s&&l&&c=="true"?je.default.createElement(je.Fragment,null,je.default.createElement(RP,null),je.default.createElement(UP,{allowNotifications:T,closeModal:x})):null,k=M=>M==="home"?je.default.createElement(yP,{notifications:e,empty:e.length===0,renderCustomNotificationContent:d,renderCustomPlaceholderContent:S}):M==="preference"?je.default.createElement(LP,{enableWebPush:w,webPushState:o}):null,D=(M,R)=>je.default.createElement(YR,null,je.default.createElement(TP,{onClick:m,style:{visibility:M==="preference"?"visible":"hidden"}},je.default.createElement(VP,null)),je.default.createElement($R,null,R),v.length>0?je.default.createElement(n1,{items:v,isVisible:!0,theme:gp.headerDropdown}):null,je.default.createElement(VR,{onClick:()=>{y==null||y()}},je.default.createElement(i1,null)));return je.default.createElement(WR,Cn({},t()),je.default.createElement(zR,Cn({},n())),je.default.createElement(HR,Ky(Cn({},a()),{visible:E}),A(),D(r,h),k(r),je.default.createElement($P,{footerContent:u,showPreferences:l})))}var KP=ne.button`
  && {
    ${({theme:{notificationButton:e},buttonType:t})=>ae`
      display: flex;
      justify-items: center;
      align-content: center;
      box-shadow: ${t==="floating"&&e.floatingButtonShadow};
      border-width: ${e.borderWidth};
      border-radius: ${t==="floating"?e.floatingButtonRadius:e.normalButtonRadius};
      margin: ${e.margin};
      padding: ${e.padding};
      box-sizing: border-box;
      outline: ${e.outline};
      user-select: none;
      cursor: pointer;
      position: relative;
      background-color: ${e.background};
      transition: ${e.transition};

      &:hover {
        background-color: ${e.hoverBackground};
      }

      svg {
        height: ${e.iconSize};
        width: ${e.iconSize};
        stroke: ${e.iconFill};
      }
    `}
`,QP=ne.span`
  && {
    ${({theme:{unreadBadgeCount:e}})=>ae`
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: ${e.background};
      color: ${e.color};
      position: absolute;
      font-size: ${e.fontSize};
      border-radius: ${e.borderRadius};
      inset: ${e.inset};
      height: ${e.size};
      width: ${e.size};
    `}
  }
`;function XP({count:e}){return a1.default.createElement(QP,null,e)}function qP(){return Ma.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",role:"presentation"},Ma.default.createElement("g",{transform:"translate(4.615 2.514)"},Ma.default.createElement("path",{d:"M7.382,0C2.947,0,1.021,4.015,1.021,6.67c0,1.984.288,1.4-.81,3.82-1.341,3.449,4.051,4.858,7.171,4.858s8.511-1.41,7.171-4.858c-1.1-2.42-.81-1.836-.81-3.82C13.743,4.015,11.815,0,7.382,0Z",transform:"translate(0 0)",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5px",fill:"transparent"}),Ma.default.createElement("path",{d:"M4.62,0A2.992,2.992,0,0,1,0,0",transform:"translate(5.071 17.998)",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"1.5px",fill:"transparent"})))}function JP({type:e="normal",buttonProps:t,unreadCount:n,panelOpen:r,renderNotificationIcon:o}){return nl.default.createElement(KP,Cn({buttonType:e,"aria-label":"Notifications"},t==null?void 0:t()),n&&!r?nl.default.createElement(XP,{count:n}):null,o?ol(o):nl.default.createElement(qP,null))}var ZP=ne.div`
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  div,
  span,
  p,
  a,
  ol,
  ul,
  li,
  label,
  article,
  aside,
  footer,
  header,
  nav,
  section {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',
      'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',
      'Helvetica Neue', sans-serif;
    vertical-align: baseline;
    line-height: normal;
    text-align: left;
    box-sizing: border-box;
  }

  a {
    cursor: pointer;
  }

  button {
    background: transparent;
    border: none;
    padding: 5px;
    cursor: pointer;
  }
`,eA={title:"heading",message:"description",icon:"imageUrl",url:"clickableUrl",id:"id",created:"time",clickedAt:"clickedAt",markAsClicked:"markAsClicked",deleteNotification:"deleteNotification"},tA=(e,t)=>eA[t],nA=e=>(0,Qy.default)(e,tA);function u1(e){var t=e,{theme:n,apiKey:r,panelOnly:o=!1,headerText:i,feedItemPlaceholderImage:a,userId:u,panelOpenByDefault:d=!1,renderFooterContent:S,renderNotificationIcon:y,renderEmptyPlaceholderImage:E,renderNotificationContent:l,onFeedItemClick:w,headerDropdownItems:C}=t,O=BR(t,["theme","apiKey","panelOnly","headerText","feedItemPlaceholderImage","userId","panelOpenByDefault","renderFooterContent","renderNotificationIcon","renderEmptyPlaceholderImage","renderNotificationContent","onFeedItemClick","headerDropdownItems"]);let h=(0,kt.useRef)();h.current=document.getElementById("engagespot-scroll-root");let{notifications:m,setLoaderRef:v,hasMore:s,isMobile:f,panelVisibility:c,getButtonProps:g,getPanelProps:p,getArrowProps:x,getPanelOffsetProps:T,togglePanelVisibility:A,useJumpToTop:k,hideBranding:D,enableWebPush:M,allowWebPush:R,webPushState:I,deleteNotification:B,markAsRead:L,unreadCount:W,preferences:z,getPreferences:b,setPreferences:F}=y0(Ky(Cn({apiKey:r,userId:u},O),{floatingPanelOptions:{panelOpenByDefault:d},plugins:[Rd,Ou,Tu],scrollRoot:h.current})),[P,_]=(0,kt.useState)(!1),H=j=>{_(j==="preference")},U=()=>D&&S?ol(S):D&&!S?null:GP();return kt.default.createElement(jR,{theme:n,state:{panelVisibility:c,placeholderImage:a,togglePanelVisibility:A,useJumpToTop:k,isMobile:f,preference:P,togglePreference:_,onFeedItemClick:w,setLoaderRef:v,hasMore:s,deleteNotification:B,markAsRead:L,preferences:z,setPreferences:F}},kt.default.createElement(ZP,null,(()=>{let j=()=>kt.default.createElement(YP,{visible:c,route:P?"preference":"home",setRoute:H,panelProps:p,panelOffsetProps:T,arrowProps:x,showPreferences:z.userPreferences&&z.userPreferences.length>0,renderNotificationContent:l,renderEmptyPlaceholderImage:E,togglePanelVisibility:A,enableWebPush:M,webPushState:I,footerContent:U,headerText:i,headerDropdownItems:C||[],notifications:m?m.map(nA):[]});return kt.default.createElement(kt.Fragment,null,!o&&kt.default.createElement(JP,{buttonProps:g,unreadCount:W,panelOpen:c,renderNotificationIcon:y}),f?s1.default.createPortal(j(),document.body):j())})()))}function f1(e,t){l1.default.render(V.createElement(u1,xp({},t)),typeof e=="string"?document.querySelector(e):e)}return y1(rA);})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * @license Copyright 2015-2022 Ably Real-time Ltd (ably.com)
 * 
 * Ably JavaScript Library v1.2.25
 * https://github.com/ably/ably-js
 * 
 * Released under the Apache Licence v2.0
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
